<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Session Export</title>
  <style>*{margin:0;padding:0;box-sizing:border-box;}:root{--line-height:18px;}body{font-family:ui-monospace,'Cascadia Code','Source Code Pro',Menlo,Consolas,'DejaVu Sans Mono',monospace;font-size:12px;line-height:var(--line-height);color:var(--text);background:var(--body-bg);}#app{display:flex;min-height:100vh;}#sidebar{width:400px;background:var(--container-bg);flex-shrink:0;display:flex;flex-direction:column;position:sticky;top:0;height:100vh;border-right:1px solid var(--dim);}.sidebar-header{padding:8px 12px;flex-shrink:0;}.sidebar-controls{padding:8px 8px 4px 8px;}.sidebar-search{width:100%;box-sizing:border-box;padding:4px 8px;font-size:11px;font-family:inherit;background:var(--body-bg);color:var(--text);border:1px solid var(--dim);border-radius:3px;}.sidebar-filters{display:flex;padding:4px 8px 8px 8px;gap:4px;align-items:center;flex-wrap:wrap;}.sidebar-search:focus{outline:none;border-color:var(--accent);}.sidebar-search::placeholder{color:var(--muted);}.filter-btn{padding:3px 8px;font-size:10px;font-family:inherit;background:transparent;color:var(--muted);border:1px solid var(--dim);border-radius:3px;cursor:pointer;}.filter-btn:hover{color:var(--text);border-color:var(--text);}.filter-btn.active{background:var(--accent);color:var(--body-bg);border-color:var(--accent);}.sidebar-close{display:none;padding:3px 8px;font-size:12px;font-family:inherit;background:transparent;color:var(--muted);border:1px solid var(--dim);border-radius:3px;cursor:pointer;margin-left:auto;}.sidebar-close:hover{color:var(--text);border-color:var(--text);}.tree-container{flex:1;overflow:auto;padding:4px 0;}.tree-node{padding:0 8px;cursor:pointer;display:flex;align-items:baseline;font-size:11px;line-height:13px;white-space:nowrap;}.tree-node:hover{background:var(--selectedBg);}.tree-node.active{background:var(--selectedBg);}.tree-node.active .tree-content{font-weight:bold;}.tree-node.in-path{background:color-mix(in srgb,var(--accent) 10%,transparent);}.tree-node:not(.in-path){opacity:0.5;}.tree-node:not(.in-path):hover{opacity:1;}.tree-prefix{color:var(--muted);flex-shrink:0;font-family:monospace;white-space:pre;}.tree-marker{color:var(--accent);flex-shrink:0;}.tree-content{color:var(--text);}.tree-role-user{color:var(--accent);}.tree-role-assistant{color:var(--success);}.tree-role-tool{color:var(--muted);}.tree-muted{color:var(--muted);}.tree-error{color:var(--error);}.tree-compaction{color:var(--borderAccent);}.tree-branch-summary{color:var(--warning);}.tree-custom-message{color:var(--customMessageLabel);}.tree-status{padding:4px 12px;font-size:10px;color:var(--muted);flex-shrink:0;}#content{flex:1;overflow-y:auto;padding:var(--line-height) calc(var(--line-height) * 2);display:flex;flex-direction:column;align-items:center;}#content > *{width:100%;max-width:800px;}.help-bar{font-size:11px;color:var(--warning);margin-bottom:var(--line-height);}.header{background:var(--container-bg);border-radius:4px;padding:var(--line-height);margin-bottom:var(--line-height);}.header h1{font-size:12px;font-weight:bold;color:var(--borderAccent);margin-bottom:var(--line-height);}.header-info{display:flex;flex-direction:column;gap:0;font-size:11px;}.info-item{color:var(--dim);display:flex;align-items:baseline;}.info-label{font-weight:600;margin-right:8px;min-width:100px;}.info-value{color:var(--text);flex:1;}#messages{display:flex;flex-direction:column;gap:var(--line-height);}.message-timestamp{font-size:10px;color:var(--dim);opacity:0.8;}.user-message{background:var(--userMessageBg);color:var(--userMessageText);padding:var(--line-height);border-radius:4px;position:relative;}.assistant-message{padding:0;position:relative;}.copy-link-btn{position:absolute;top:8px;right:8px;width:28px;height:28px;padding:6px;background:var(--container-bg);border:1px solid var(--dim);border-radius:4px;color:var(--muted);cursor:pointer;opacity:0;transition:opacity 0.15s,background 0.15s,color 0.15s;display:flex;align-items:center;justify-content:center;z-index:10;}.user-message:hover .copy-link-btn,.assistant-message:hover .copy-link-btn{opacity:1;}.copy-link-btn:hover{background:var(--accent);color:var(--body-bg);border-color:var(--accent);}.copy-link-btn.copied{background:var(--success,#22c55e);color:white;border-color:var(--success,#22c55e);}.user-message.highlight,.assistant-message.highlight{animation:highlight-pulse 2s ease-out;}@keyframes highlight-pulse{0%{box-shadow:0 0 0 3px var(--accent);}100%{box-shadow:0 0 0 0 transparent;}}.assistant-message > .message-timestamp{padding-left:var(--line-height);}.assistant-text{padding:var(--line-height);padding-bottom:0;}.message-timestamp + .assistant-text,.message-timestamp + .thinking-block{padding-top:0;}.thinking-block + .assistant-text{padding-top:0;}.thinking-text{padding:var(--line-height);color:var(--thinkingText);font-style:italic;white-space:pre-wrap;}.message-timestamp + .thinking-block .thinking-text,.message-timestamp + .thinking-block .thinking-collapsed{padding-top:0;}.thinking-collapsed{display:none;padding:var(--line-height);color:var(--thinkingText);font-style:italic;}.tool-execution{padding:var(--line-height);border-radius:4px;}.tool-execution + .tool-execution{margin-top:var(--line-height);}.tool-execution.pending{background:var(--toolPendingBg);}.tool-execution.success{background:var(--toolSuccessBg);}.tool-execution.error{background:var(--toolErrorBg);}.tool-header,.tool-name{font-weight:bold;}.tool-path{color:var(--accent);word-break:break-all;}.line-numbers{color:var(--warning);}.line-count{color:var(--dim);}.tool-command{font-weight:bold;white-space:pre-wrap;word-wrap:break-word;overflow-wrap:break-word;word-break:break-word;}.tool-output{margin-top:var(--line-height);color:var(--toolOutput);word-wrap:break-word;overflow-wrap:break-word;word-break:break-word;font-family:inherit;overflow-x:auto;}.tool-output > div,.output-preview,.output-full{margin:0;padding:0;line-height:var(--line-height);}.tool-output pre{margin:0;padding:0;font-family:inherit;color:inherit;white-space:pre-wrap;word-wrap:break-word;overflow-wrap:break-word;}.tool-output code{padding:0;background:none;color:var(--text);}.tool-output.expandable{cursor:pointer;}.tool-output.expandable:hover{opacity:0.9;}.tool-output.expandable .output-full{display:none;}.tool-output.expandable.expanded .output-preview{display:none;}.tool-output.expandable.expanded .output-full{display:block;}.ansi-line{white-space:pre-wrap;}.tool-images{}.tool-image{max-width:100%;max-height:500px;border-radius:4px;margin:var(--line-height) 0;}.expand-hint{color:var(--toolOutput);}.tool-diff{font-size:11px;overflow-x:auto;white-space:pre;}.diff-added{color:var(--toolDiffAdded);}.diff-removed{color:var(--toolDiffRemoved);}.diff-context{color:var(--toolDiffContext);}.model-change{padding:0 var(--line-height);color:var(--dim);font-size:11px;}.model-name{color:var(--borderAccent);font-weight:bold;}.codex-bridge-toggle{color:var(--muted);cursor:pointer;text-decoration:underline;font-size:10px;}.codex-bridge-toggle:hover{color:var(--accent);}.codex-bridge-content{display:none;margin-top:8px;padding:8px;background:var(--exportCardBg,var(--container-bg));border-radius:4px;font-size:11px;max-height:300px;overflow:auto;}.codex-bridge-content pre{margin:0;white-space:pre-wrap;word-break:break-word;color:var(--muted);}.model-change.show-bridge .codex-bridge-content{display:block;}.compaction{background:var(--customMessageBg);border-radius:4px;padding:var(--line-height);cursor:pointer;}.compaction-label{color:var(--customMessageLabel);font-weight:bold;}.compaction-collapsed{color:var(--customMessageText);}.compaction-content{display:none;color:var(--customMessageText);white-space:pre-wrap;margin-top:var(--line-height);}.compaction.expanded .compaction-collapsed{display:none;}.compaction.expanded .compaction-content{display:block;}.system-prompt{background:var(--customMessageBg);padding:var(--line-height);border-radius:4px;margin-bottom:var(--line-height);}.system-prompt-header{font-weight:bold;color:var(--customMessageLabel);}.system-prompt-content{color:var(--customMessageText);white-space:pre-wrap;word-wrap:break-word;font-size:11px;max-height:200px;overflow-y:auto;margin-top:var(--line-height);}.system-prompt.provider-prompt{border-left:3px solid var(--warning);}.system-prompt-note{font-size:10px;font-style:italic;color:var(--muted);margin-top:4px;}.tools-list{background:var(--customMessageBg);padding:var(--line-height);border-radius:4px;margin-bottom:var(--line-height);}.tools-header{font-weight:bold;color:var(--warning);margin-bottom:var(--line-height);}.tool-item{font-size:11px;}.tool-item-name{font-weight:bold;color:var(--text);}.tool-item-desc{color:var(--dim);}.hook-message{background:var(--customMessageBg);color:var(--customMessageText);padding:var(--line-height);border-radius:4px;}.hook-type{color:var(--customMessageLabel);font-weight:bold;}.branch-summary{background:var(--customMessageBg);padding:var(--line-height);border-radius:4px;}.branch-summary-header{font-weight:bold;color:var(--borderAccent);}.error-text{color:var(--error);padding:0 var(--line-height);}.tool-error{color:var(--error);}.message-images{margin-bottom:12px;}.message-image{max-width:100%;max-height:400px;border-radius:4px;margin:var(--line-height) 0;}.markdown-content h1,.markdown-content h2,.markdown-content h3,.markdown-content h4,.markdown-content h5,.markdown-content h6{color:var(--mdHeading);margin:var(--line-height) 0 0 0;font-weight:bold;}.markdown-content h1{font-size:1em;}.markdown-content h2{font-size:1em;}.markdown-content h3{font-size:1em;}.markdown-content h4{font-size:1em;}.markdown-content h5{font-size:1em;}.markdown-content h6{font-size:1em;}.markdown-content p{margin:0;}.markdown-content p + p{margin-top:var(--line-height);}.markdown-content a{color:var(--mdLink);text-decoration:underline;}.markdown-content code{background:rgba(128,128,128,0.2);color:var(--mdCode);padding:0 4px;border-radius:3px;font-family:inherit;}.markdown-content pre{background:transparent;margin:var(--line-height) 0;overflow-x:auto;}.markdown-content pre code{display:block;background:none;color:var(--text);}.markdown-content blockquote{border-left:3px solid var(--mdQuoteBorder);padding-left:var(--line-height);margin:var(--line-height) 0;color:var(--mdQuote);font-style:italic;}.markdown-content ul,.markdown-content ol{margin:var(--line-height) 0;padding-left:calc(var(--line-height) * 2);}.markdown-content li{margin:0;}.markdown-content li::marker{color:var(--mdListBullet);}.markdown-content hr{border:none;border-top:1px solid var(--mdHr);margin:var(--line-height) 0;}.markdown-content table{border-collapse:collapse;margin:0.5em 0;width:100%;}.markdown-content th,.markdown-content td{border:1px solid var(--mdCodeBlockBorder);padding:6px 10px;text-align:left;}.markdown-content th{background:rgba(128,128,128,0.1);font-weight:bold;}.markdown-content img{max-width:100%;border-radius:4px;}.hljs{background:transparent;color:var(--text);}.hljs-comment,.hljs-quote{color:var(--syntaxComment);}.hljs-keyword,.hljs-selector-tag{color:var(--syntaxKeyword);}.hljs-number,.hljs-literal{color:var(--syntaxNumber);}.hljs-string,.hljs-doctag{color:var(--syntaxString);}.hljs-function,.hljs-title,.hljs-title.function_,.hljs-section,.hljs-name{color:var(--syntaxFunction);}.hljs-type,.hljs-class,.hljs-title.class_,.hljs-built_in{color:var(--syntaxType);}.hljs-attr,.hljs-variable,.hljs-variable.language_,.hljs-params,.hljs-property{color:var(--syntaxVariable);}.hljs-meta,.hljs-meta .hljs-keyword,.hljs-meta .hljs-string{color:var(--syntaxKeyword);}.hljs-operator{color:var(--syntaxOperator);}.hljs-punctuation{color:var(--syntaxPunctuation);}.hljs-subst{color:var(--text);}.footer{margin-top:48px;padding:20px;text-align:center;color:var(--dim);font-size:10px;}#hamburger{display:none;position:fixed;top:10px;left:10px;z-index:100;padding:3px 8px;font-size:12px;font-family:inherit;background:transparent;color:var(--muted);border:1px solid var(--dim);border-radius:3px;cursor:pointer;}#hamburger:hover{color:var(--text);border-color:var(--text);}#sidebar-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);z-index:98;}@media (max-width:900px){#sidebar{position:fixed;left:-400px;width:400px;top:0;bottom:0;height:100vh;z-index:99;transition:left 0.3s;}#sidebar.open{left:0;}#sidebar-overlay.open{display:block;}#hamburger{display:block;}.sidebar-close{display:block;}#content{padding:var(--line-height) 16px;}#content > *{max-width:100%;}}@media (max-width:500px){#sidebar{width:100vw;left:-100vw;}}@media print{#sidebar,#sidebar-toggle{display:none !important;}body{background:white;color:black;}#content{max-width:none;}}</style>
  <style>:root { --accent: #00b4ff; --border: #2a3038; --borderAccent: #00b4ff; --borderMuted: #1f252d; --success: #00ff88; --error: #ff4757; --warning: #ffb347; --muted: #9ca3b0; --dim: #6b7280; --text: #e5e5e7; --thinkingText: #9ca3b0; --selectedBg: #0082b3; --userMessageBg: #0f1216; --userMessageText: #e5e5e7; --customMessageBg: #2a3038; --customMessageText: #e5e5e7; --customMessageLabel: #d4c090; --toolPendingBg: #0f1216; --toolSuccessBg: #0f1216; --toolErrorBg: #1a0f10; --toolTitle: #e5e5e7; --toolOutput: #9ca3b0; --mdHeading: #00b4ff; --mdLink: #00b4ff; --mdLinkUrl: #0082b3; --mdCode: #00ff88; --mdCodeBlock: #9ca3b0; --mdCodeBlockBorder: #2a3038; --mdQuote: #9ca3b0; --mdQuoteBorder: #2a3038; --mdHr: #2a3038; --mdListBullet: #00b4ff; --toolDiffAdded: #00ff88; --toolDiffRemoved: #ff4757; --toolDiffContext: #9ca3b0; --syntaxComment: #6b7280; --syntaxKeyword: #00b4ff; --syntaxFunction: #00ff88; --syntaxVariable: #e8ecf4; --syntaxString: #d4c090; --syntaxNumber: #ffb347; --syntaxType: #00b4ff; --syntaxOperator: #00b4ff; --syntaxPunctuation: #9ca3b0; --thinkingOff: #4a5058; --thinkingMinimal: #5a6068; --thinkingLow: #6a7078; --thinkingMedium: #9ca3b0; --thinkingHigh: #00b4ff; --thinkingXhigh: #d4c090; --bashMode: #00ff88; --statusLineBg: #0f1216; --statusLineSep: #2a3038; --statusLineModel: #00b4ff; --statusLinePath: #e8ecf4; --statusLineGitClean: #00ff88; --statusLineGitDirty: #ffb347; --statusLineContext: #9ca3b0; --statusLineSpend: #d4c090; --statusLineStaged: #00ff88; --statusLineDirty: #ffb347; --statusLineUntracked: #9ca3b0; --statusLineOutput: #0082b3; --statusLineCost: #d4c090; --statusLineSubagents: #00b4ff; --pythonMode: #f0c040; --body-bg: #151820; --container-bg: #0f1216; --info-bg: #2a3038; }</style>
</head>
<body>
  <button id="hamburger" title="Open sidebar"><svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="none"><circle cx="6" cy="6" r="2.5"/><circle cx="6" cy="18" r="2.5"/><circle cx="18" cy="12" r="2.5"/><rect x="5" y="6" width="2" height="12"/><path d="M6 12h10c1 0 2 0 2-2V8"/></svg></button>
  <div id="sidebar-overlay"></div>
  <div id="app">
    <aside id="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-controls">
          <input type="text" class="sidebar-search" id="tree-search" placeholder="Search...">
        </div>
        <div class="sidebar-filters">
          <button class="filter-btn active" data-filter="default" title="Hide settings entries">Default</button>
          <button class="filter-btn" data-filter="no-tools" title="Default minus tool results">No-tools</button>
          <button class="filter-btn" data-filter="user-only" title="Only user messages">User</button>
          <button class="filter-btn" data-filter="labeled-only" title="Only labeled entries">Labeled</button>
          <button class="filter-btn" data-filter="all" title="Show everything">All</button>
          <button class="sidebar-close" id="sidebar-close" title="Close">âœ•</button>
        </div>
      </div>
      <div class="tree-container" id="tree-container"></div>
      <div class="tree-status" id="tree-status"></div>
    </aside>
    <main id="content">
      <div id="header-container"></div>
      <div id="messages"></div>
    </main>
    <div id="image-modal" class="image-modal">
      <img id="modal-image" src="" alt="">
    </div>
  </div>

  <script id="session-data" type="application/json">eyJoZWFkZXIiOnsidHlwZSI6InNlc3Npb24iLCJ2ZXJzaW9uIjozLCJpZCI6IjE0NzFiZmE2MTU0ZjQ5MGEiLCJ0aW1lc3RhbXAiOiIyMDI2LTAyLTE3VDA0OjA4OjQ0Ljg4NVoiLCJjd2QiOiJEOlxcbGxtXFxtcC1zZWFyeG5nLWVuaGFuY2VkIiwidGl0bGUiOiJSZXBvIEFuYWx5c2lzIGFuZCBTdW1tYXJ5In0sImVudHJpZXMiOlt7InR5cGUiOiJtb2RlbF9jaGFuZ2UiLCJpZCI6ImM2MWEzOWRiIiwicGFyZW50SWQiOm51bGwsInRpbWVzdGFtcCI6IjIwMjYtMDItMTdUMDQ6MDg6NDUuMjkwWiIsIm1vZGVsIjoiQU1ELXNlcnZlci9ncHQtb3NzLTEyMGItaGVyZXRpYy12Mi1NWEZQIn0seyJ0eXBlIjoidGhpbmtpbmdfbGV2ZWxfY2hhbmdlIiwiaWQiOiIwNmU0NTljMiIsInBhcmVudElkIjoiYzYxYTM5ZGIiLCJ0aW1lc3RhbXAiOiIyMDI2LTAyLTE3VDA0OjA4OjQ1LjI5MFoiLCJ0aGlua2luZ0xldmVsIjoib2ZmIn0seyJ0eXBlIjoibWVzc2FnZSIsImlkIjoiYmZiNWQxNWQiLCJwYXJlbnRJZCI6IjA2ZTQ1OWMyIiwidGltZXN0YW1wIjoiMjAyNi0wMi0xN1QwNDoyNTozNi4xNjFaIiwibWVzc2FnZSI6eyJyb2xlIjoidXNlciIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IkFuYWx5emUgdGhlIHJlcG8gaW4gdGhpcyBjdXJyZW50IGZvbGRlci4gU3VtbWFyaXplIHRoZSBmdW5jdGlvbmFsaXR5IGl0IHByb3ZpZGVzLiJ9XSwidGltZXN0YW1wIjoxNzcxMzAyMzM2MTIzfX0seyJ0eXBlIjoibWVzc2FnZSIsImlkIjoiZDU0OWI5OWIiLCJwYXJlbnRJZCI6ImJmYjVkMTVkIiwidGltZXN0YW1wIjoiMjAyNi0wMi0xN1QwNDoyNTo1Ny4wNzVaIiwibWVzc2FnZSI6eyJyb2xlIjoiYXNzaXN0YW50IiwiY29udGVudCI6W3sidHlwZSI6InRoaW5raW5nIiwidGhpbmtpbmciOiJXZSBuZWVkIHRvIGFuYWx5emUgcmVwby4gVXNlIGZpbmQgdG8gbGlzdCBmaWxlcy4iLCJ0aGlua2luZ1NpZ25hdHVyZSI6InJlYXNvbmluZ19jb250ZW50In0seyJ0eXBlIjoidG9vbENhbGwiLCJpZCI6Ik5tYVdwUUpuZTJ1UlBSRG1CTTRwek9tS3VQbktJcjZZIiwibmFtZSI6ImZpbmQiLCJhcmd1bWVudHMiOnsicGF0dGVybiI6IioqLyoiLCJsaW1pdCI6MjAwMH19XSwiYXBpIjoib3BlbmFpLWNvbXBsZXRpb25zIiwicHJvdmlkZXIiOiJBTUQtc2VydmVyIiwibW9kZWwiOiJncHQtb3NzLTEyMGItaGVyZXRpYy12Mi1NWEZQIiwidXNhZ2UiOnsiaW5wdXQiOjEwNzk5LCJvdXRwdXQiOjQ3LCJjYWNoZVJlYWQiOjAsImNhY2hlV3JpdGUiOjAsInRvdGFsVG9rZW5zIjoxMDg0NiwiY29zdCI6eyJpbnB1dCI6MCwib3V0cHV0IjowLCJjYWNoZVJlYWQiOjAsImNhY2hlV3JpdGUiOjAsInRvdGFsIjowfX0sInN0b3BSZWFzb24iOiJ0b29sVXNlIiwidGltZXN0YW1wIjoxNzcxMzAyMzM2MTQzLCJkdXJhdGlvbiI6MjA5MTZ9fSx7InR5cGUiOiJtZXNzYWdlIiwiaWQiOiIwNjBkNzliNSIsInBhcmVudElkIjoiZDU0OWI5OWIiLCJ0aW1lc3RhbXAiOiIyMDI2LTAyLTE3VDA0OjI1OjU3LjEwM1oiLCJtZXNzYWdlIjp7InJvbGUiOiJ0b29sUmVzdWx0IiwidG9vbENhbGxJZCI6Ik5tYVdwUUpuZTJ1UlBSRG1CTTRwek9tS3VQbktJcjZZIiwidG9vbE5hbWUiOiJmaW5kIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoicmVxdWlyZW1lbnRzLnR4dFxucnVuX2xvY2FsLmJhdFxucnVuX2xvY2FsLnBzMVxucnVuX2xvY2FsLnNoXG5Eb2NrZXJmaWxlXG5MSUNFTlNFXG5SRUFETUUubWRcbm1jcF9zZXJ2ZXIucHlcbi5kb2NrZXJpZ25vcmVcbi5naXRpZ25vcmUifV0sImRldGFpbHMiOnsic2NvcGVQYXRoIjoiLiIsImZpbGVDb3VudCI6MTAsImZpbGVzIjpbInJlcXVpcmVtZW50cy50eHQiLCJydW5fbG9jYWwuYmF0IiwicnVuX2xvY2FsLnBzMSIsInJ1bl9sb2NhbC5zaCIsIkRvY2tlcmZpbGUiLCJMSUNFTlNFIiwiUkVBRE1FLm1kIiwibWNwX3NlcnZlci5weSIsIi5kb2NrZXJpZ25vcmUiLCIuZ2l0aWdub3JlIl0sInRydW5jYXRlZCI6ZmFsc2V9LCJpc0Vycm9yIjpmYWxzZSwidGltZXN0YW1wIjoxNzcxMzAyMzU3MTAwfX0seyJ0eXBlIjoibWVzc2FnZSIsImlkIjoiYzk3ZTczNmUiLCJwYXJlbnRJZCI6IjA2MGQ3OWI1IiwidGltZXN0YW1wIjoiMjAyNi0wMi0xN1QwNDoyNjowMC44MjBaIiwibWVzc2FnZSI6eyJyb2xlIjoiYXNzaXN0YW50IiwiY29udGVudCI6W3sidHlwZSI6InRoaW5raW5nIiwidGhpbmtpbmciOiJXZSBoYXZlIGxpbWl0ZWQgZmlsZXMuIExldCdzIHJlYWQgUkVBRE1FLiIsInRoaW5raW5nU2lnbmF0dXJlIjoicmVhc29uaW5nX2NvbnRlbnQifSx7InR5cGUiOiJ0b29sQ2FsbCIsImlkIjoiTUJqbkk2cTgyY3dWTTNvVHQ0MXQ1ZXc0VnJ2Z1BocEkiLCJuYW1lIjoicmVhZCIsImFyZ3VtZW50cyI6eyJwYXRoIjoiUkVBRE1FLm1kIiwibGltaXQiOjIwMDB9fV0sImFwaSI6Im9wZW5haS1jb21wbGV0aW9ucyIsInByb3ZpZGVyIjoiQU1ELXNlcnZlciIsIm1vZGVsIjoiZ3B0LW9zcy0xMjBiLWhlcmV0aWMtdjItTVhGUCIsInVzYWdlIjp7ImlucHV0IjoxMDg5MCwib3V0cHV0IjozNywiY2FjaGVSZWFkIjowLCJjYWNoZVdyaXRlIjowLCJ0b3RhbFRva2VucyI6MTA5MjcsImNvc3QiOnsiaW5wdXQiOjAsIm91dHB1dCI6MCwiY2FjaGVSZWFkIjowLCJjYWNoZVdyaXRlIjowLCJ0b3RhbCI6MH19LCJzdG9wUmVhc29uIjoidG9vbFVzZSIsInRpbWVzdGFtcCI6MTc3MTMwMjM1NzEwMCwiZHVyYXRpb24iOjM3MTd9fSx7InR5cGUiOiJtZXNzYWdlIiwiaWQiOiIwMTIzNDQ1NSIsInBhcmVudElkIjoiYzk3ZTczNmUiLCJ0aW1lc3RhbXAiOiIyMDI2LTAyLTE3VDA0OjI2OjAwLjg0N1oiLCJtZXNzYWdlIjp7InJvbGUiOiJ0b29sUmVzdWx0IiwidG9vbENhbGxJZCI6Ik1Cam5JNnE4MmN3Vk0zb1R0NDF0NWV3NFZydmdQaHBJIiwidG9vbE5hbWUiOiJyZWFkIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiMTo5YXxbIVtNc2VlUC5haSBTZWN1cml0eSBBc3Nlc3NtZW50IEJhZGdlXShodHRwczovL21zZWVwLm5ldC9wci9vdmVydGxpZHMtbWNwLXNlYXJ4bmctZW5oYW5jZWQtYmFkZ2UucG5nKV0oaHR0cHM6Ly9tc2VlcC5haS9hcHAvb3ZlcnRsaWRzLW1jcC1zZWFyeG5nLWVuaGFuY2VkKVxyXG4yOjA1fFxyXG4zOjE5fCMgTUNQIFNlYXJYTkcgRW5oYW5jZWQgU2VydmVyXHJcbjQ6MDV8XHJcbjU6NTl8QSBNb2RlbCBDb250ZXh0IFByb3RvY29sIChNQ1ApIHNlcnZlciBmb3IgY2F0ZWdvcnktYXdhcmUgd2ViIHNlYXJjaCwgd2Vic2l0ZSBzY3JhcGluZywgYW5kIGRhdGUvdGltZSB0b29scy4gRGVzaWduZWQgZm9yIHNlYW1sZXNzIGludGVncmF0aW9uIHdpdGggU2VhclhORyBhbmQgbW9kZXJuIE1DUCBjbGllbnRzLlxyXG42OjA1fFxyXG43OjcyfCMjIEZlYXR1cmVzXHJcbjg6MDV8XHJcbjk6MGF8LSDwn5SNIFNlYXJYTkctcG93ZXJlZCB3ZWIgc2VhcmNoIHdpdGggY2F0ZWdvcnkgc3VwcG9ydCAoZ2VuZXJhbCwgaW1hZ2VzLCB2aWRlb3MsIGZpbGVzLCBtYXAsIHNvY2lhbCBtZWRpYSlcclxuMTA6YTB8LSDwn5OEIFdlYnNpdGUgY29udGVudCBzY3JhcGluZyB3aXRoIGNpdGF0aW9uIG1ldGFkYXRhIGFuZCBhdXRvbWF0aWMgUmVkZGl0IFVSTCBjb252ZXJzaW9uXHJcbjExOjJhfC0g8J+TnCBJbnRpYWwgUERGIHJlYWRpbmcgc3VwcG9ydCB3aXRoIGEgY29udmVyc2lvbiB0byBNYXJrZG93biB1c2luZyBbUHlNdVBERi9QeU11UERGNExMTV0oaHR0cHM6Ly9weW11cGRmLnJlYWR0aGVkb2NzLmlvL2VuL2xhdGVzdC9weW11cGRmNGxsbS9pbmRleC5odG1sI3B5bXVwZGY0bGxtKVxyXG4xMjplY3wtIPCfkr4gSW4tbWVtb3J5IGNhY2hpbmcgd2l0aCBhdXRvbWF0aWMgZnJlc2huZXNzIHZhbGlkYXRpb25cclxuMTM6Njd8LSDwn5qmIERvbWFpbi1iYXNlZCByYXRlIGxpbWl0aW5nIHRvIHByZXZlbnQgc2VydmljZSBhYnVzZVxyXG4xNDozY3wtIPCflZIgVGltZXpvbmUtYXdhcmUgZGF0ZS90aW1lIHRvb2xcclxuMTU6NmV8LSDimqDvuI8gUm9idXN0IGVycm9yIGhhbmRsaW5nIHdpdGggY3VzdG9tIGV4Y2VwdGlvbiB0eXBlc1xyXG4xNjozMXwtIPCfkLMgRG9ja2VyaXplZCBhbmQgY29uZmlndXJhYmxlIHZpYSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcclxuMTc6YzJ8LSDimpnvuI8gQ29uZmlndXJhdGlvbiBwZXJzaXN0ZW5jZSBiZXR3ZWVuIGNvbnRhaW5lciByZXN0YXJ0c1xyXG4xODowNXxcclxuMTk6NWV8IyMgUXVpY2sgU3RhcnRcclxuMjA6MDV8XHJcbjIxOjNlfCMjIyBQcmVyZXF1aXNpdGVzXHJcbjIyOjA1fFxyXG4yMzo1ZXwtIERvY2tlciBpbnN0YWxsZWQgb24geW91ciBzeXN0ZW1cclxuMjQ6N2R8LSBBIHJ1bm5pbmcgU2VhclhORyBpbnN0YW5jZSAoc2VsZi1ob3N0ZWQgb3IgYWNjZXNzaWJsZSBlbmRwb2ludClcclxuMjU6MDV8XHJcbjI2OmFifCMjIyBJbnN0YWxsYXRpb24gJiBVc2FnZVxyXG4yNzowNXxcclxuMjg6OWF8KipCdWlsZCB0aGUgRG9ja2VyIGltYWdlOioqXHJcbjI5OmQ0fGBgYGJhc2hcclxuMzA6MmR8ZG9ja2VyIGJ1aWxkIC10IG92ZXJ0bGlkcy9tY3Atc2VhcnhuZy1lbmhhbmNlZDpsYXRlc3QgLlxyXG4zMTpkNnxgYGBcclxuMzI6MDV8XHJcbjMzOjBkfCoqUnVuIHdpdGggeW91ciBTZWFyWE5HIGluc3RhbmNlIChNYW51YWwgRG9ja2VyIFJ1bik6KipcclxuMzQ6ZDR8YGBgYmFzaFxyXG4zNTplZXxkb2NrZXIgcnVuIC1pIC0tcm0gLS1uZXR3b3JrPWhvc3QgXFxcclxuMzY6MzZ8ICAtZSBTRUFSWE5HX0VOR0lORV9BUElfQkFTRV9VUkw9XCJodHRwOi8vMTI3LjAuMC4xOjgwODAvc2VhcmNoXCIgXFxcclxuMzc6YzJ8ICAtZSBERVNJUkVEX1RJTUVaT05FPVwiQW1lcmljYS9OZXdfWW9ya1wiIFxcXHJcbjM4OjNjfCAgb3ZlcnRsaWRzL21jcC1zZWFyeG5nLWVuaGFuY2VkOmxhdGVzdFxyXG4zOTpkNnxgYGBcclxuNDA6NTh8SW4gdGhpcyBleGFtcGxlLCBgU0VBUlhOR19FTkdJTkVfQVBJX0JBU0VfVVJMYCBpcyBleHBsaWNpdGx5IHNldC4gYERFU0lSRURfVElNRVpPTkVgIGlzIGFsc28gZXhwbGljaXRseSBzZXQgdG8gYEFtZXJpY2EvTmV3X1lvcmtgLCB3aGljaCBtYXRjaGVzIGl0cyBkZWZhdWx0IHZhbHVlLiBJZiBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3QgcHJvdmlkZWQgdXNpbmcgYW4gYC1lYCBmbGFnIGR1cmluZyB0aGUgYGRvY2tlciBydW5gIGNvbW1hbmQsIHRoZSBzZXJ2ZXIgd2lsbCBhdXRvbWF0aWNhbGx5IHVzZSB0aGUgZGVmYXVsdCB2YWx1ZSBkZWZpbmVkIGluIGl0cyBgRG9ja2VyZmlsZWAgKHJlZmVyIHRvIHRoZSBFbnZpcm9ubWVudCBWYXJpYWJsZXMgdGFibGUgYmVsb3cpLiBUaHVzLCBpZiB5b3UgaW50ZW5kIHRvIHVzZSB0aGUgZGVmYXVsdCBmb3IgYERFU0lSRURfVElNRVpPTkVgLCB5b3UgY291bGQgb21pdCB0aGUgYC1lIERFU0lSRURfVElNRVpPTkU9XCJBbWVyaWNhL05ld19Zb3JrXCJgIGZsYWcuIEhvd2V2ZXIsIGBTRUFSWE5HX0VOR0lORV9BUElfQkFTRV9VUkxgIGlzIGNyaXRpY2FsIGFuZCB1c3VhbGx5IG5lZWRzIHRvIGJlIHNldCB0byBtYXRjaCB5b3VyIHNwZWNpZmljIFNlYXJYTkcgaW5zdGFuY2UncyBhZGRyZXNzIGlmIHRoZSBEb2NrZXJmaWxlIGRlZmF1bHQgKGBodHRwOi8vaG9zdC5kb2NrZXIuaW50ZXJuYWw6ODA4MC9zZWFyY2hgKSBpcyBub3QgYXBwcm9wcmlhdGUuXHJcbjQxOjA1fFxyXG40Mjo5YXwqKk5vdGUgb24gTWFudWFsIERvY2tlciBSdW46KiogVGhpcyBjb21tYW5kIHJ1bnMgdGhlIERvY2tlciBjb250YWluZXIgaW5kZXBlbmRlbnRseS4gSWYgeW91IGFyZSB1c2luZyBhbiBNQ1AgY2xpZW50IChsaWtlIENsaW5lIGluIFZTIENvZGUpIHRvIG1hbmFnZSB0aGlzIHNlcnZlciwgdGhlIGNsaWVudCB3aWxsIHN0YXJ0IGl0cyBvd24gaW5zdGFuY2Ugb2YgdGhlIGNvbnRhaW5lciB1c2luZyB0aGUgc2V0dGluZ3MgZGVmaW5lZCBpbiAqaXRzIG93biBjb25maWd1cmF0aW9uKi4gRm9yIHRoZSBNQ1AgY2xpZW50IHRvIHVzZSBzcGVjaWZpYyBlbnZpcm9ubWVudCB2YXJpYWJsZXMsIHRoZXkgKiptdXN0KiogYmUgY29uZmlndXJlZCB3aXRoaW4gdGhlIGNsaWVudCdzIHNldHRpbmdzIGZvciB0aGlzIHNlcnZlciAoc2VlIGJlbG93KS5cclxuNDM6MDV8XHJcbjQ0OjZifCoqQ29uZmlndXJlIHlvdXIgTUNQIGNsaWVudCoqIChlLmcuLCBDbGluZSBpbiBWUyBDb2RlKTpcclxuNDU6MDV8XHJcbjQ2Ojk3fEZvciB5b3VyIE1DUCBjbGllbnQgdG8gY29ycmVjdGx5IG1hbmFnZSBhbmQgcnVuIHRoaXMgc2VydmVyLCB5b3UgKiptdXN0KiogZGVmaW5lIGFsbCBuZWNlc3NhcnkgZW52aXJvbm1lbnQgdmFyaWFibGVzIHdpdGhpbiB0aGUgY2xpZW50J3Mgc2V0dGluZ3MgZm9yIHRoZSBgb3ZlcnRsaWRzL21jcC1zZWFyeG5nLWVuaGFuY2VkYCBzZXJ2ZXIuIFRoZSBNQ1AgY2xpZW50IHdpbGwgdXNlIHRoZXNlIHNldHRpbmdzIHRvIGNvbnN0cnVjdCB0aGUgYGRvY2tlciBydW5gIGNvbW1hbmQuXHJcbjQ3OjA1fFxyXG40ODowMXxUaGUgZm9sbG93aW5nIGlzIHRoZSAqKnJlY29tbWVuZGVkIGRlZmF1bHQgY29uZmlndXJhdGlvbioqIGZvciB0aGlzIHNlcnZlciB3aXRoaW4geW91ciBNQ1AgY2xpZW50J3MgSlNPTiBzZXR0aW5ncyAoZS5nLiwgYGNsaW5lX21jcF9zZXR0aW5ncy5qc29uYCkuIFRoaXMgZXhhbXBsZSBleHBsaWNpdGx5IGxpc3RzIGFsbCBlbnZpcm9ubWVudCB2YXJpYWJsZXMgc2V0IHRvIHRoZWlyIGRlZmF1bHQgdmFsdWVzIGFzIGRlZmluZWQgaW4gdGhlIGBEb2NrZXJmaWxlYC4gWW91IGNhbiBjb3B5IGFuZCBwYXN0ZSB0aGlzIGRpcmVjdGx5IGFuZCB0aGVuIGN1c3RvbWl6ZSBhbnkgdmFsdWVzIGFzIG5lZWRlZC5cclxuNDk6MDV8XHJcbjUwOmUxfGBgYGpzb25cclxuNTE6ZmN8e1xyXG41MjphN3wgIFwibWNwU2VydmVyc1wiOiB7XHJcbjUzOjIyfCAgICBcIm92ZXJ0bGlkcy9tY3Atc2VhcnhuZy1lbmhhbmNlZFwiOiB7XHJcbjU0OjkwfCAgICAgIFwiY29tbWFuZFwiOiBcImRvY2tlclwiLFxyXG41NTplM3wgICAgICBcImFyZ3NcIjogW1xyXG41Njo0YXwgICAgICAgIFwicnVuXCIsIFwiLWlcIiwgXCItLXJtXCIsIFwiLS1uZXR3b3JrPWhvc3RcIixcclxuNTc6M2V8ICAgICAgICBcIi1lXCIsIFwiU0VBUlhOR19FTkdJTkVfQVBJX0JBU0VfVVJMPWh0dHA6Ly9ob3N0LmRvY2tlci5pbnRlcm5hbDo4MDgwL3NlYXJjaFwiLFxyXG41ODo3Y3wgICAgICAgIFwiLWVcIiwgXCJERVNJUkVEX1RJTUVaT05FPUFtZXJpY2EvTmV3X1lvcmtcIixcclxuNTk6Y2Z8ICAgICAgICBcIi1lXCIsIFwiT0RTX0NPTkZJR19QQVRIPS9jb25maWcvb2RzX2NvbmZpZy5qc29uXCIsXHJcbjYwOmE0fCAgICAgICAgXCItZVwiLCBcIlJFVFVSTkVEX1NDUkFQUEVEX1BBR0VTX05PPTNcIixcclxuNjE6ZDB8ICAgICAgICBcIi1lXCIsIFwiU0NSQVBQRURfUEFHRVNfTk89NVwiLFxyXG42MjoyNHwgICAgICAgIFwiLWVcIiwgXCJQQUdFX0NPTlRFTlRfV09SRFNfTElNSVQ9NTAwMFwiLFxyXG42Mzo4ZnwgICAgICAgIFwiLWVcIiwgXCJDSVRBVElPTl9MSU5LUz1UcnVlXCIsXHJcbjY0OmE4fCAgICAgICAgXCItZVwiLCBcIk1BWF9JTUFHRV9SRVNVTFRTPTEwXCIsXHJcbjY1OmE3fCAgICAgICAgXCItZVwiLCBcIk1BWF9WSURFT19SRVNVTFRTPTEwXCIsXHJcbjY2OjZifCAgICAgICAgXCItZVwiLCBcIk1BWF9GSUxFX1JFU1VMVFM9NVwiLFxyXG42NzpiOHwgICAgICAgIFwiLWVcIiwgXCJNQVhfTUFQX1JFU1VMVFM9NVwiLFxyXG42ODozOXwgICAgICAgIFwiLWVcIiwgXCJNQVhfU09DSUFMX1JFU1VMVFM9NVwiLFxyXG42OTo4OXwgICAgICAgIFwiLWVcIiwgXCJUUkFGSUxBVFVSQV9USU1FT1VUPTE1XCIsXHJcbjcwOmMzfCAgICAgICAgXCItZVwiLCBcIlNDUkFQSU5HX1RJTUVPVVQ9MjBcIixcclxuNzE6NTV8ICAgICAgICBcIi1lXCIsIFwiQ0FDSEVfTUFYU0laRT0xMDBcIixcclxuNzI6NWN8ICAgICAgICBcIi1lXCIsIFwiQ0FDSEVfVFRMX01JTlVURVM9NVwiLFxyXG43Mzo2ZXwgICAgICAgIFwiLWVcIiwgXCJDQUNIRV9NQVhfQUdFX01JTlVURVM9MzBcIixcclxuNzQ6MDN8ICAgICAgICBcIi1lXCIsIFwiUkFURV9MSU1JVF9SRVFVRVNUU19QRVJfTUlOVVRFPTEwXCIsXHJcbjc1OjU0fCAgICAgICAgXCItZVwiLCBcIlJBVEVfTElNSVRfVElNRU9VVF9TRUNPTkRTPTYwXCIsXHJcbjc2OjMwfCAgICAgICAgXCItZVwiLCBcIklHTk9SRURfV0VCU0lURVM9XCIsXHJcbjc3OjQwfCAgICAgICAgXCJvdmVydGxpZHMvbWNwLXNlYXJ4bmctZW5oYW5jZWQ6bGF0ZXN0XCJcclxuNzg6NGZ8ICAgICAgXSxcclxuNzk6YzB8ICAgICAgXCJ0aW1lb3V0XCI6IDYwXHJcbjgwOjE4fCAgICB9XHJcbjgxOjE4fCAgfVxyXG44MjoxOHx9XHJcbjgzOmQ2fGBgYFxyXG44NDo4OXwqKktleSBQb2ludHMgZm9yIE1DUCBDbGllbnQgQ29uZmlndXJhdGlvbjoqKlxyXG44NTphYXwtIFRoZSBleGFtcGxlIGFib3ZlIHByb3ZpZGVzIGEgY29tcGxldGUgc2V0IG9mIGFyZ3VtZW50cyB0byBydW4gdGhlIERvY2tlciBjb250YWluZXIgd2l0aCBhbGwgZW52aXJvbm1lbnQgdmFyaWFibGVzIHNldCB0byB0aGVpciBkZWZhdWx0IHZhbHVlcy5cclxuODY6NDN8LSBUbyBjdXN0b21pemUgYW55IHNldHRpbmcsIHNpbXBseSBtb2RpZnkgdGhlIHZhbHVlIGZvciB0aGUgY29ycmVzcG9uZGluZyBgLWUgXCJWQVJJQUJMRV9OQU1FPXZhbHVlXCJgIGxpbmUgd2l0aGluIHRoZSBgYXJnc2AgYXJyYXkgaW4geW91ciBNQ1AgY2xpZW50J3MgY29uZmlndXJhdGlvbi4gRm9yIGluc3RhbmNlLCB0byBjaGFuZ2UgYFNFQVJYTkdfRU5HSU5FX0FQSV9CQVNFX1VSTGAgYW5kIGBERVNJUkVEX1RJTUVaT05FYCwgeW91IHdvdWxkIGFkanVzdCB0aGVpciByZXNwZWN0aXZlIGxpbmVzLlxyXG44Nzo1OXwtIFJlZmVyIHRvIHRoZSBcIkVudmlyb25tZW50IFZhcmlhYmxlc1wiIHRhYmxlIGJlbG93IGZvciBhIGRldGFpbGVkIGRlc2NyaXB0aW9uIG9mIGVhY2ggdmFyaWFibGUgYW5kIGl0cyBkZWZhdWx0LlxyXG44ODowNnwtIFRoZSBzZXJ2ZXIncyBiZWhhdmlvciBpcyBwcmltYXJpbHkgY29udHJvbGxlZCBieSB0aGVzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMuIFdoaWxlIGFuIGBvZHNfY29uZmlnLmpzb25gIGZpbGUgY2FuIGFsc28gaW5mbHVlbmNlIHNldHRpbmdzIChzZWUgQ29uZmlndXJhdGlvbiBNYW5hZ2VtZW50KSwgZW52aXJvbm1lbnQgdmFyaWFibGVzIHBhc3NlZCBieSB0aGUgTUNQIGNsaWVudCB0YWtlIHByZWNlZGVuY2UuXHJcbjg5OjA1fFxyXG45MDoyM3wjIyBSdW5uaW5nIE5hdGl2ZWx5IChXaXRob3V0IERvY2tlcilcclxuOTE6MDV8XHJcbjkyOjE2fElmIHlvdSBwcmVmZXIgdG8gcnVuIHRoZSBzZXJ2ZXIgZGlyZWN0bHkgdXNpbmcgUHl0aG9uIHdpdGhvdXQgRG9ja2VyLCBmb2xsb3cgdGhlc2Ugc3RlcHM6XHJcbjkzOjA1fFxyXG45NDphY3wqKjEuIFB5dGhvbiBJbnN0YWxsYXRpb246KipcclxuOTU6ODh8ICAgLSBUaGlzIHNlcnZlciByZXF1aXJlcyAqKlB5dGhvbiAzLjkgb3IgbmV3ZXIqKi4gUHl0aG9uIDMuMTEgKGFzIHVzZWQgaW4gdGhlIERvY2tlciBpbWFnZSkgaXMgcmVjb21tZW5kZWQuXHJcbjk2OjJhfCAgIC0gWW91IGNhbiBkb3dubG9hZCBQeXRob24gZnJvbSBbcHl0aG9uLm9yZ10oaHR0cHM6Ly93d3cucHl0aG9uLm9yZy9kb3dubG9hZHMvKS5cclxuOTc6MDV8XHJcbjk4OjkwfCoqMi4gQ2xvbmUgdGhlIFJlcG9zaXRvcnk6KipcclxuOTk6YmZ8ICAgLSBHZXQgdGhlIGNvZGUgZnJvbSBHaXRIdWI6XHJcbjEwMDpkNHwgICAgIGBgYGJhc2hcclxuMTAxOjhjfCAgICAgZ2l0IGNsb25lIGh0dHBzOi8vZ2l0aHViLmNvbS9PdmVydGxpRFMvbWNwLXNlYXJ4bmctZW5oYW5jZWQuZ2l0XHJcbjEwMjozOXwgICAgIGNkIG1jcC1zZWFyeG5nLWVuaGFuY2VkXHJcbjEwMzpkNnwgICAgIGBgYFxyXG4xMDQ6MDV8XHJcbjEwNTozOXwqKjMuIENyZWF0ZSBhbmQgQWN0aXZhdGUgYSBWaXJ0dWFsIEVudmlyb25tZW50IChSZWNvbW1lbmRlZCk6KipcclxuMTA2OmRmfCAgIC0gVXNpbmcgYSB2aXJ0dWFsIGVudmlyb25tZW50IGhlbHBzIG1hbmFnZSBkZXBlbmRlbmNpZXMgYW5kIGF2b2lkIGNvbmZsaWN0cyB3aXRoIG90aGVyIFB5dGhvbiBwcm9qZWN0cy5cclxuMTA3OmQ0fCAgICAgYGBgYmFzaFxyXG4xMDg6YmV8ICAgICAjIEZvciBMaW51eC9tYWNPU1xyXG4xMDk6MDF8ICAgICBweXRob24zIC1tIHZlbnYgLnZlbnZcclxuMTEwOjBmfCAgICAgc291cmNlIC52ZW52L2Jpbi9hY3RpdmF0ZVxyXG4xMTE6MDV8XHJcbjExMjoyM3wgICAgICMgRm9yIFdpbmRvd3MgKENvbW1hbmQgUHJvbXB0KVxyXG4xMTM6OWN8ICAgICBweXRob24gLW0gdmVudiAudmVudlxyXG4xMTQ6NjJ8ICAgICAuXFwudmVudlxcU2NyaXB0c1xcYWN0aXZhdGUuYmF0XHJcbjExNTowNXxcclxuMTE2OjI4fCAgICAgIyBGb3IgV2luZG93cyAoUG93ZXJTaGVsbClcclxuMTE3OjljfCAgICAgcHl0aG9uIC1tIHZlbnYgLnZlbnZcclxuMTE4OmM3fCAgICAgLlxcLnZlbnZcXFNjcmlwdHNcXEFjdGl2YXRlLnBzMVxyXG4xMTk6ZDZ8ICAgICBgYGBcclxuMTIwOjA1fFxyXG4xMjE6YTZ8Kio0LiBJbnN0YWxsIERlcGVuZGVuY2llczoqKlxyXG4xMjI6YmN8ICAgLSBJbnN0YWxsIHRoZSByZXF1aXJlZCBQeXRob24gcGFja2FnZXM6XHJcbjEyMzpkNHwgICAgIGBgYGJhc2hcclxuMTI0OmFkfCAgICAgcGlwIGluc3RhbGwgLXIgcmVxdWlyZW1lbnRzLnR4dFxyXG4xMjU6ZDZ8ICAgICBgYGBcclxuMTI2OjlifCAgICAgS2V5IGRlcGVuZGVuY2llcyBpbmNsdWRlIGBodHRweGAsIGBCZWF1dGlmdWxTb3VwNGAsIGBweWRhbnRpY2AsIGB0cmFmaWxhdHVyYWAsIGBweXRob24tZGF0ZXV0aWxgLCBgY2FjaGV0b29sc2AsIGB6b25laW5mb2AsIGBmaWxldHlwZWAsIGBweW11cGRmYCBhbmQgYHB5bXVwZGY0bGxtYC5cclxuMTI3OjA1fFxyXG4xMjg6MWV8Kio1LiBFbnN1cmUgU2VhclhORyBpcyBBY2Nlc3NpYmxlOioqXHJcbjEyOToyZHwgICAtIFlvdSBzdGlsbCBuZWVkIGEgcnVubmluZyBTZWFyWE5HIGluc3RhbmNlLiBNYWtlIHN1cmUgeW91IGhhdmUgaXRzIEFQSSBiYXNlIFVSTCAoZS5nLiwgYGh0dHA6Ly8xMjcuMC4wLjE6ODA4MC9zZWFyY2hgKS5cclxuMTMwOjA1fFxyXG4xMzE6ZGN8Kio2LiBTZXQgRW52aXJvbm1lbnQgVmFyaWFibGVzOioqXHJcbjEzMjo4MHwgICAtIFRoZSBzZXJ2ZXIgaXMgY29uZmlndXJlZCB2aWEgZW52aXJvbm1lbnQgdmFyaWFibGVzLiBBdCBhIG1pbmltdW0sIHlvdSdsbCBsaWtlbHkgbmVlZCB0byBzZXQgYFNFQVJYTkdfRU5HSU5FX0FQSV9CQVNFX1VSTGAuXHJcbjEzMzo0ZnwgICAtICoqTGludXgvbWFjT1MgKGJhc2gvenNoKToqKlxyXG4xMzQ6ZDR8ICAgICBgYGBiYXNoXHJcbjEzNTplOXwgICAgIGV4cG9ydCBTRUFSWE5HX0VOR0lORV9BUElfQkFTRV9VUkw9XCJodHRwOi8veW91ci1zZWFyeG5nLWluc3RhbmNlOnBvcnQvc2VhcmNoXCJcclxuMTM2OmU0fCAgICAgZXhwb3J0IERFU0lSRURfVElNRVpPTkU9XCJBbWVyaWNhL0xvc19BbmdlbGVzXCJcclxuMTM3OmQ2fCAgICAgYGBgXHJcbjEzODo5MXwgICAtICoqV2luZG93cyAoQ29tbWFuZCBQcm9tcHQpOioqXHJcbjEzOTpkNHwgICAgIGBgYGJhc2hcclxuMTQwOmVhfCAgICAgc2V0IFNFQVJYTkdfRU5HSU5FX0FQSV9CQVNFX1VSTD1cImh0dHA6Ly95b3VyLXNlYXJ4bmctaW5zdGFuY2U6cG9ydC9zZWFyY2hcIlxyXG4xNDE6OTV8ICAgICBzZXQgREVTSVJFRF9USU1FWk9ORT1cIkFtZXJpY2EvTG9zX0FuZ2VsZXNcIlxyXG4xNDI6ZDZ8ICAgICBgYGBcclxuMTQzOjNifCAgIC0gKipXaW5kb3dzIChQb3dlclNoZWxsKToqKlxyXG4xNDQ6ZDR8ICAgICBgYGBiYXNoXHJcbjE0NTo1YXwgICAgICRlbnY6U0VBUlhOR19FTkdJTkVfQVBJX0JBU0VfVVJMPVwiaHR0cDovL3lvdXItc2VhcnhuZy1pbnN0YW5jZTpwb3J0L3NlYXJjaFwiXHJcbjE0NjpjMnwgICAgICRlbnY6REVTSVJFRF9USU1FWk9ORT1cIkFtZXJpY2EvTG9zX0FuZ2VsZXNcIlxyXG4xNDc6ZDZ8ICAgICBgYGBcclxuMTQ4OjkyfCAgIC0gUmVmZXIgdG8gdGhlIFwiRW52aXJvbm1lbnQgVmFyaWFibGVzXCIgdGFibGUgYmVsb3cgZm9yIGFsbCBhdmFpbGFibGUgb3B0aW9ucy4gSWYgbm90IHNldCwgZGVmYXVsdHMgZnJvbSB0aGUgc2NyaXB0IG9yIGFuIGBvZHNfY29uZmlnLmpzb25gIGZpbGUgKGlmIHByZXNlbnQgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9yIGF0IGBPRFNfQ09ORklHX1BBVEhgKSB3aWxsIGJlIHVzZWQuXHJcbjE0OTowNXxcclxuMTUwOmM2fCoqNy4gUnVuIHRoZSBTZXJ2ZXI6KipcclxuMTUxOmJlfCAgIC0gRXhlY3V0ZSB0aGUgUHl0aG9uIHNjcmlwdDpcclxuMTUyOmQ0fCAgICAgYGBgYmFzaFxyXG4xNTM6Yjd8ICAgICBweXRob24gbWNwX3NlcnZlci5weVxyXG4xNTQ6ZDZ8ICAgICBgYGBcclxuMTU1OmNkfCAgIC0gVGhlIHNlcnZlciB3aWxsIHN0YXJ0IGFuZCBsaXN0ZW4gZm9yIE1DUCBjbGllbnQgY29ubmVjdGlvbnMgdmlhIHN0ZGluL3N0ZG91dC5cclxuMTU2OjA1fFxyXG4xNTc6OTN8Kio4LiBDb25maWd1cmF0aW9uIEZpbGUgKGBvZHNfY29uZmlnLmpzb25gKToqKlxyXG4xNTg6OWN8ICAgLSBBbHRlcm5hdGl2ZWx5LCBvciBpbiBjb21iaW5hdGlvbiB3aXRoIGVudmlyb25tZW50IHZhcmlhYmxlcywgeW91IGNhbiBjcmVhdGUgYW4gYG9kc19jb25maWcuanNvbmAgZmlsZSBpbiB0aGUgcHJvamVjdCdzIHJvb3QgZGlyZWN0b3J5IChvciB0aGUgcGF0aCBzcGVjaWZpZWQgYnkgdGhlIGBPRFNfQ09ORklHX1BBVEhgIGVudmlyb25tZW50IHZhcmlhYmxlKS4gRW52aXJvbm1lbnQgdmFyaWFibGVzIHdpbGwgYWx3YXlzIHRha2UgcHJlY2VkZW5jZSBvdmVyIHZhbHVlcyBpbiB0aGlzIGZpbGUuIEV4YW1wbGU6XHJcbjE1OTplMXwgICAgYGBganNvblxyXG4xNjA6ZmN8ICAgIHtcclxuMTYxOjhmfCAgICAgIFwic2VhcnhuZ19lbmdpbmVfYXBpX2Jhc2VfdXJsXCI6IFwiaHR0cDovLzEyNy4wLjAuMTo4MDgwL3NlYXJjaFwiLFxyXG4xNjI6NmV8ICAgICAgXCJkZXNpcmVkX3RpbWV6b25lXCI6IFwiQW1lcmljYS9OZXdfWW9ya1wiXHJcbjE2MzoxOHwgICAgfVxyXG4xNjQ6ZDZ8ICAgIGBgYFxyXG4xNjU6MDV8XHJcbjE2Njo2ZHwjIyBFbnZpcm9ubWVudCBWYXJpYWJsZXNcclxuMTY3OjA1fFxyXG4xNjg6MWN8VGhlIGZvbGxvd2luZyBlbnZpcm9ubWVudCB2YXJpYWJsZXMgY29udHJvbCB0aGUgc2VydmVyJ3MgYmVoYXZpb3IuIFlvdSBjYW4gc2V0IHRoZW0gaW4geW91ciBNQ1AgY2xpZW50J3MgY29uZmlndXJhdGlvbiAocmVjb21tZW5kZWQgZm9yIGNsaWVudC1tYW5hZ2VkIHNlcnZlcnMpIG9yIHdoZW4gcnVubmluZyBEb2NrZXIgbWFudWFsbHkuXHJcbjE2OTowNXxcclxuMTcwOmQ0fHwgVmFyaWFibGUgICAgICAgICAgICAgICAgICAgICAgICB8IERlc2NyaXB0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IERlZmF1bHQgKGZyb20gRG9ja2VyZmlsZSkgICAgICAgICB8IE5vdGVzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xNzE6NjN8fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbjE3Mjo5MHx8IGBTRUFSWE5HX0VOR0lORV9BUElfQkFTRV9VUkxgICAgfCBTZWFyWE5HIHNlYXJjaCBlbmRwb2ludCAgICAgICAgICAgICAgICAgICAgfCBgaHR0cDovL2hvc3QuZG9ja2VyLmludGVybmFsOjgwODAvc2VhcmNoYCB8ICoqQ3J1Y2lhbCBmb3Igc2VydmVyIG9wZXJhdGlvbioqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xNzM6YjN8fCBgREVTSVJFRF9USU1FWk9ORWAgICAgICAgICAgICAgIHwgVGltZXpvbmUgZm9yIGRhdGUvdGltZSB0b29sICAgICAgICAgICAgICAgIHwgYEFtZXJpY2EvTmV3X1lvcmtgICAgICAgICAgICAgICAgIHwgRS5nLiwgYEFtZXJpY2EvTG9zX0FuZ2VsZXNgLiBMaXN0IG9mIHR6IGRhdGFiYXNlIHRpbWUgem9uZXM6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfdHpfZGF0YWJhc2VfdGltZV96b25lcyB8XHJcbjE3NDowZnx8IGBPRFNfQ09ORklHX1BBVEhgICAgICAgICAgICAgICAgfCBQYXRoIHRvIHBlcnNpc3RlbnQgY29uZmlndXJhdGlvbiBmaWxlICAgICAgfCBgL2NvbmZpZy9vZHNfY29uZmlnLmpzb25gICAgICAgICAgfCBUeXBpY2FsbHkgbGVmdCBhcyBkZWZhdWx0IHdpdGhpbiB0aGUgY29udGFpbmVyLiAgICAgfFxyXG4xNzU6ZjB8fCBgUkVUVVJORURfU0NSQVBQRURfUEFHRVNfTk9gICAgIHwgTWF4IHBhZ2VzIHRvIHJldHVybiBwZXIgc2VhcmNoICAgICAgICAgICAgIHwgYDNgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xNzY6NGV8fCBgU0NSQVBQRURfUEFHRVNfTk9gICAgICAgICAgICAgIHwgTWF4IHBhZ2VzIHRvIGF0dGVtcHQgc2NyYXBpbmcgICAgICAgICAgICAgIHwgYDVgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xNzc6MzB8fCBgUEFHRV9DT05URU5UX1dPUkRTX0xJTUlUYCAgICAgIHwgTWF4IHdvcmRzIHBlciBzY3JhcGVkIHBhZ2UgICAgICAgICAgICAgICAgIHwgYDUwMDBgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xNzg6Yzl8fCBgQ0lUQVRJT05fTElOS1NgICAgICAgICAgICAgICAgIHwgRW5hYmxlL2Rpc2FibGUgY2l0YXRpb24gZXZlbnRzICAgICAgICAgICAgIHwgYFRydWVgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgYFRydWVgIG9yIGBGYWxzZWAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xNzk6OGF8fCBgTUFYX0lNQUdFX1JFU1VMVFNgICAgICAgICAgICAgIHwgTWF4aW11bSBpbWFnZSByZXN1bHRzIHRvIHJldHVybiAgICAgICAgICAgIHwgYDEwYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xODA6MjN8fCBgTUFYX1ZJREVPX1JFU1VMVFNgICAgICAgICAgICAgIHwgTWF4aW11bSB2aWRlbyByZXN1bHRzIHRvIHJldHVybiAgICAgICAgICAgIHwgYDEwYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xODE6ZWZ8fCBgTUFYX0ZJTEVfUkVTVUxUU2AgICAgICAgICAgICAgIHwgTWF4aW11bSBmaWxlIHJlc3VsdHMgdG8gcmV0dXJuICAgICAgICAgICAgIHwgYDVgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xODI6NjJ8fCBgTUFYX01BUF9SRVNVTFRTYCAgICAgICAgICAgICAgIHwgTWF4aW11bSBtYXAgcmVzdWx0cyB0byByZXR1cm4gICAgICAgICAgICAgIHwgYDVgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xODM6MDh8fCBgTUFYX1NPQ0lBTF9SRVNVTFRTYCAgICAgICAgICAgIHwgTWF4aW11bSBzb2NpYWwgbWVkaWEgcmVzdWx0cyB0byByZXR1cm4gICAgIHwgYDVgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xODQ6ZmR8fCBgVFJBRklMQVRVUkFfVElNRU9VVGAgICAgICAgICAgIHwgQ29udGVudCBleHRyYWN0aW9uIHRpbWVvdXQgKHNlY29uZHMpICAgICAgIHwgYDE1YCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xODU6NmV8fCBgU0NSQVBJTkdfVElNRU9VVGAgICAgICAgICAgICAgIHwgSFRUUCByZXF1ZXN0IHRpbWVvdXQgKHNlY29uZHMpICAgICAgICAgICAgIHwgYDIwYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xODY6Zjd8fCBgQ0FDSEVfTUFYU0laRWAgICAgICAgICAgICAgICAgIHwgTWF4aW11bSBudW1iZXIgb2YgY2FjaGVkIHdlYnNpdGVzICAgICAgICAgIHwgYDEwMGAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xODc6NDd8fCBgQ0FDSEVfVFRMX01JTlVURVNgICAgICAgICAgICAgIHwgQ2FjaGUgdGltZS10by1saXZlIChtaW51dGVzKSAgICAgICAgICAgICAgIHwgYDVgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xODg6NTd8fCBgQ0FDSEVfTUFYX0FHRV9NSU5VVEVTYCAgICAgICAgIHwgTWF4aW11bSBhZ2UgZm9yIGNhY2hlZCBjb250ZW50IChtaW51dGVzKSAgIHwgYDMwYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xODk6YTB8fCBgUkFURV9MSU1JVF9SRVFVRVNUU19QRVJfTUlOVVRFYHwgTWF4IHJlcXVlc3RzIHBlciBkb21haW4gcGVyIG1pbnV0ZSAgICAgICAgIHwgYDEwYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xOTA6M2F8fCBgUkFURV9MSU1JVF9USU1FT1VUX1NFQ09ORFNgICAgIHwgUmF0ZSBsaW1pdCB0cmFja2luZyB3aW5kb3cgKHNlY29uZHMpICAgICAgIHwgYDYwYCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4xOTE6NjF8fCBgSUdOT1JFRF9XRUJTSVRFU2AgICAgICAgICAgICAgIHwgQ29tbWEtc2VwYXJhdGVkIGxpc3Qgb2Ygc2l0ZXMgdG8gaWdub3JlICAgIHwgYFwiXCJgIChlbXB0eSkgICAgICAgICAgICAgICAgICAgICAgfCBFLmcuLCBgXCJleGFtcGxlLmNvbSxhbm90aGVyLm9yZ1wiYCAgICAgICAgICAgICAgICAgICB8XHJcbjE5MjowNXxcclxuMTkzOjRlfCMjIENvbmZpZ3VyYXRpb24gTWFuYWdlbWVudFxyXG4xOTQ6MDV8XHJcbjE5NTozNHxUaGUgc2VydmVyIHVzZXMgYSB0aHJlZS10aWVyIGNvbmZpZ3VyYXRpb24gYXBwcm9hY2g6XHJcbjE5NjowNXxcclxuMTk3OjQ1fDEuICoqU2NyaXB0IGRlZmF1bHRzKiogKGhhcmRjb2RlZCBpbiBQeXRob24pXHJcbjE5ODoxYnwyLiAqKkNvbmZpZyBmaWxlKiogKGxvYWRlZCBmcm9tIGBPRFNfQ09ORklHX1BBVEhgLCBkZWZhdWx0cyB0byBgL2NvbmZpZy9vZHNfY29uZmlnLmpzb25gKVxyXG4xOTk6ZWV8My4gKipFbnZpcm9ubWVudCB2YXJpYWJsZXMqKiAoaGlnaGVzdCBwcmVjZWRlbmNlKVxyXG4yMDA6MDV8XHJcbjIwMTozY3xUaGUgY29uZmlnIGZpbGUgaXMgb25seSB1cGRhdGVkIHdoZW46XHJcbjIwMjo2MHwtIFRoZSBmaWxlIGRvZXNuJ3QgZXhpc3QgeWV0IChmaXJzdC10aW1lIGluaXRpYWxpemF0aW9uKVxyXG4yMDM6NmR8LSBFbnZpcm9ubWVudCB2YXJpYWJsZXMgYXJlIGV4cGxpY2l0bHkgcHJvdmlkZWQgZm9yIHRoZSBjdXJyZW50IHJ1blxyXG4yMDQ6MDV8XHJcbjIwNTphN3xUaGlzIGVuc3VyZXMgdGhhdCB1c2VyIGNvbmZpZ3VyYXRpb25zIGFyZSBwcmVzZXJ2ZWQgYmV0d2VlbiBjb250YWluZXIgcmVzdGFydHMgd2hlbiBubyBuZXcgZW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSBzZXQuXHJcbjIwNjowNXxcclxuMjA3OmU4fCMjIFRvb2xzICYgQWxpYXNlc1xyXG4yMDg6MDV8XHJcbjIwOToxN3x8IFRvb2wgTmFtZSAgICAgICAgICAgICAgfCBQdXJwb3NlICAgICAgICAgICAgICAgICAgICAgICB8IEFsaWFzZXMgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbjIxMDowZHx8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbjIxMTo5NHx8IGBzZWFyY2hfd2ViYCAgICAgICAgICAgfCBXZWIgc2VhcmNoIHZpYSBTZWFyWE5HICAgICAgICB8IGBzZWFyY2hgLCBgd2ViX3NlYXJjaGAsIGBmaW5kYCwgYGxvb2t1cF93ZWJgLCBgc2VhcmNoX29ubGluZWAsIGBhY2Nlc3NfaW50ZXJuZXRgLCBgbG9va3VwYCogfFxyXG4yMTI6MDJ8fCBgZ2V0X3dlYnNpdGVgICAgICAgICAgIHwgU2NyYXBlIHdlYnNpdGUgY29udGVudCAgICAgICAgfCBgZmV0Y2hfdXJsYCwgYHNjcmFwZV9wYWdlYCwgYGdldGAsIGBsb2FkX3dlYnNpdGVgLCBgbG9va3VwYCogfFxyXG4yMTM6ZGZ8fCBgZ2V0X2N1cnJlbnRfZGF0ZXRpbWVgIHwgQ3VycmVudCBkYXRlL3RpbWUgICAgICAgICAgICAgfCBgY3VycmVudF90aW1lYCwgYGdldF90aW1lYCwgYGN1cnJlbnRfZGF0ZWAgfFxyXG4yMTQ6MDV8XHJcbjIxNTozZnxcXCpgbG9va3VwYCBpcyBjb250ZXh0LXNlbnNpdGl2ZTogIFxyXG4yMTY6NjZ8LSBJZiBjYWxsZWQgd2l0aCBhIGB1cmxgIGFyZ3VtZW50LCBpdCBtYXBzIHRvIGBnZXRfd2Vic2l0ZWAgIFxyXG4yMTc6NzF8LSBPdGhlcndpc2UsIGl0IG1hcHMgdG8gYHNlYXJjaF93ZWJgXHJcbjIxODowNXxcclxuMjE5OmM1fCMjIyBFeGFtcGxlOiBDYWxsaW5nIFRvb2xzXHJcbjIyMDowNXxcclxuMjIxOmMyfCoqV2ViIFNlYXJjaCoqXHJcbjIyMjplMXxgYGBqc29uXHJcbjIyMzowMHx7IFwibmFtZVwiOiBcInNlYXJjaF93ZWJcIiwgXCJhcmd1bWVudHNcIjogeyBcInF1ZXJ5XCI6IFwib3BlbiBzb3VyY2UgYWlcIiB9IH1cclxuMjI0OmQ2fGBgYFxyXG4yMjU6ZjN8b3IgdXNpbmcgYW4gYWxpYXM6XHJcbjIyNjplMXxgYGBqc29uXHJcbjIyNzo1OXx7IFwibmFtZVwiOiBcInNlYXJjaFwiLCBcImFyZ3VtZW50c1wiOiB7IFwicXVlcnlcIjogXCJvcGVuIHNvdXJjZSBhaVwiIH0gfVxyXG4yMjg6ZDZ8YGBgXHJcbjIyOTowNXxcclxuMjMwOmFhfCoqQ2F0ZWdvcnktU3BlY2lmaWMgU2VhcmNoKipcclxuMjMxOmUxfGBgYGpzb25cclxuMjMyOmFjfHsgXCJuYW1lXCI6IFwic2VhcmNoX3dlYlwiLCBcImFyZ3VtZW50c1wiOiB7IFwicXVlcnlcIjogXCJsYW5kc2NhcGVzXCIsIFwiY2F0ZWdvcnlcIjogXCJpbWFnZXNcIiB9IH1cclxuMjMzOmQ2fGBgYFxyXG4yMzQ6MDV8XHJcbjIzNToxZXwqKldlYnNpdGUgU2NyYXBpbmcqKlxyXG4yMzY6ZTF8YGBganNvblxyXG4yMzc6NWN8eyBcIm5hbWVcIjogXCJnZXRfd2Vic2l0ZVwiLCBcImFyZ3VtZW50c1wiOiB7IFwidXJsXCI6IFwiZXhhbXBsZS5jb21cIiB9IH1cclxuMjM4OmQ2fGBgYFxyXG4yMzk6ZjN8b3IgdXNpbmcgYW4gYWxpYXM6XHJcbjI0MDplMXxgYGBqc29uXHJcbjI0MTplMXx7IFwibmFtZVwiOiBcImxvb2t1cFwiLCBcImFyZ3VtZW50c1wiOiB7IFwidXJsXCI6IFwiZXhhbXBsZS5jb21cIiB9IH1cclxuMjQyOmQ2fGBgYFxyXG4yNDM6MDV8XHJcbjI0NDowZXwqKkN1cnJlbnQgRGF0ZS9UaW1lKipcclxuMjQ1OmUxfGBgYGpzb25cclxuMjQ2OjhmfHsgXCJuYW1lXCI6IFwiZ2V0X2N1cnJlbnRfZGF0ZXRpbWVcIiwgXCJhcmd1bWVudHNcIjoge30gfVxyXG4yNDc6ZDZ8YGBgXHJcbjI0ODphZXxvcjpcclxuMjQ5OmUxfGBgYGpzb25cclxuMjUwOmFhfHsgXCJuYW1lXCI6IFwiY3VycmVudF90aW1lXCIsIFwiYXJndW1lbnRzXCI6IHt9IH1cclxuMjUxOmQ2fGBgYFxyXG4yNTI6MDV8XHJcbjI1Mzo5MXwjIyBBZHZhbmNlZCBGZWF0dXJlc1xyXG4yNTQ6MDV8XHJcbjI1NTo3NXwjIyMgQ2F0ZWdvcnktU3BlY2lmaWMgU2VhcmNoXHJcbjI1NjowNXxcclxuMjU3OjY5fFRoZSBgc2VhcmNoX3dlYmAgdG9vbCBzdXBwb3J0cyBkaWZmZXJlbnQgY2F0ZWdvcmllcyB3aXRoIHRhaWxvcmVkIG91dHB1dHM6XHJcbjI1ODowNXxcclxuMjU5OjEzfC0gKippbWFnZXMqKjogUmV0dXJucyBpbWFnZSBVUkxzLCB0aXRsZXMsIGFuZCBzb3VyY2UgcGFnZXMgd2l0aCBvcHRpb25hbCBNYXJrZG93biBlbWJlZGRpbmdcclxuMjYwOjgwfC0gKip2aWRlb3MqKjogUmV0dXJucyB2aWRlbyBpbmZvcm1hdGlvbiBpbmNsdWRpbmcgdGl0bGVzLCBzb3VyY2UsIGFuZCBlbWJlZCBVUkxzXHJcbjI2MTpiMnwtICoqZmlsZXMqKjogUmV0dXJucyBkb3dubG9hZGFibGUgZmlsZSBpbmZvcm1hdGlvbiBpbmNsdWRpbmcgZm9ybWF0IGFuZCBzaXplXHJcbjI2MjowY3wtICoqbWFwKio6IFJldHVybnMgbG9jYXRpb24gZGF0YSBpbmNsdWRpbmcgY29vcmRpbmF0ZXMgYW5kIGFkZHJlc3Nlc1xyXG4yNjM6YmN8LSAqKnNvY2lhbCBtZWRpYSoqOiBSZXR1cm5zIHBvc3RzIGFuZCBwcm9maWxlcyBmcm9tIHNvY2lhbCBwbGF0Zm9ybXNcclxuMjY0OmVlfC0gKipnZW5lcmFsKio6IERlZmF1bHQgY2F0ZWdvcnkgdGhhdCBzY3JhcGVzIGFuZCByZXR1cm5zIGZ1bGwgd2VicGFnZSBjb250ZW50XHJcbjI2NTowNXxcclxuMjY2OmM2fCMjIyBSZWRkaXQgVVJMIENvbnZlcnNpb25cclxuMjY3OjA1fFxyXG4yNjg6NDJ8V2hlbiBzY3JhcGluZyBSZWRkaXQgY29udGVudCwgVVJMcyBhcmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gdXNlIHRoZSBvbGQucmVkZGl0LmNvbSBkb21haW4gZm9yIGJldHRlciBjb250ZW50IGV4dHJhY3Rpb24uXHJcbjI2OTowNXxcclxuMjcwOjMzfCMjIyBSYXRlIExpbWl0aW5nXHJcbjI3MTowNXxcclxuMjcyOmRmfERvbWFpbi1iYXNlZCByYXRlIGxpbWl0aW5nIHByZXZlbnRzIGV4Y2Vzc2l2ZSByZXF1ZXN0cyB0byB0aGUgc2FtZSBkb21haW4gd2l0aGluIGEgdGltZSB3aW5kb3cuIFRoaXMgcHJldmVudHMgb3ZlcndoZWxtaW5nIHRhcmdldCB3ZWJzaXRlcyBhbmQgcG90ZW50aWFsIElQIGJsb2NraW5nLlxyXG4yNzM6MDV8XHJcbjI3NDo2OXwjIyMgQ2FjaGUgVmFsaWRhdGlvblxyXG4yNzU6MDV8XHJcbjI3Njo2NHxDYWNoZWQgd2Vic2l0ZSBjb250ZW50IGlzIGF1dG9tYXRpY2FsbHkgdmFsaWRhdGVkIGZvciBmcmVzaG5lc3MgYmFzZWQgb24gYWdlLiBTdGFsZSBjb250ZW50IGlzIHJlZnJlc2hlZCBhdXRvbWF0aWNhbGx5IHdoaWxlIHZhbGlkIGNhY2hlZCBjb250ZW50IGlzIHNlcnZlZCBxdWlja2x5LlxyXG4yNzc6MDV8XHJcbjI3ODo4ZHwjIyBFcnJvciBIYW5kbGluZ1xyXG4yNzk6MDV8XHJcbjI4MDo5MXxUaGUgc2VydmVyIGltcGxlbWVudHMgYSByb2J1c3QgZXJyb3IgaGFuZGxpbmcgc3lzdGVtIHdpdGggdGhlc2UgZXhjZXB0aW9uIHR5cGVzOlxyXG4yODE6MDV8XHJcbjI4MjoxMXwtIGBNQ1BTZXJ2ZXJFcnJvcmA6IEJhc2UgZXhjZXB0aW9uIGNsYXNzIGZvciBhbGwgc2VydmVyIGVycm9yc1xyXG4yODM6YTJ8LSBgQ29uZmlndXJhdGlvbkVycm9yYDogUmFpc2VkIHdoZW4gY29uZmlndXJhdGlvbiB2YWx1ZXMgYXJlIGludmFsaWRcclxuMjg0OjNhfC0gYFNlYXJYTkdDb25uZWN0aW9uRXJyb3JgOiBSYWlzZWQgd2hlbiBjb25uZWN0aW9uIHRvIFNlYXJYTkcgZmFpbHNcclxuMjg1OmUxfC0gYFdlYlNjcmFwaW5nRXJyb3JgOiBSYWlzZWQgd2hlbiB3ZWIgc2NyYXBpbmcgZmFpbHNcclxuMjg2OmNjfC0gYFJhdGVMaW1pdEV4Y2VlZGVkRXJyb3JgOiBSYWlzZWQgd2hlbiByYXRlIGxpbWl0IGZvciBhIGRvbWFpbiBpcyBleGNlZWRlZFxyXG4yODc6MDV8XHJcbjI4ODo3NHxFcnJvcnMgYXJlIHByb3Blcmx5IHByb3BhZ2F0ZWQgdG8gdGhlIGNsaWVudCB3aXRoIGluZm9ybWF0aXZlIG1lc3NhZ2VzLlxyXG4yODk6MDV8XHJcbjI5MDpjOHwjIyBUcm91Ymxlc2hvb3RpbmdcclxuMjkxOjA1fFxyXG4yOTI6OTh8LSAqKkNhbm5vdCBjb25uZWN0IHRvIFNlYXJYTkcqKjogRW5zdXJlIHlvdXIgU2VhclhORyBpbnN0YW5jZSBpcyBydW5uaW5nIGFuZCB0aGUgYFNFQVJYTkdfRU5HSU5FX0FQSV9CQVNFX1VSTGAgZW52aXJvbm1lbnQgdmFyaWFibGUgcG9pbnRzIHRvIHRoZSBjb3JyZWN0IGVuZHBvaW50LlxyXG4yOTM6ZTR8LSAqKlJhdGUgbGltaXQgZXJyb3JzKio6IEFkanVzdCBgUkFURV9MSU1JVF9SRVFVRVNUU19QRVJfTUlOVVRFYCBpZiB5b3UncmUgZXhwZXJpZW5jaW5nIHRvbyBtYW55IHJhdGUgbGltaXQgZXJyb3JzLlxyXG4yOTQ6ZDF8LSAqKlNsb3cgY29udGVudCBleHRyYWN0aW9uKio6IEluY3JlYXNlIGBUUkFGSUxBVFVSQV9USU1FT1VUYCB0byBhbGxvdyBtb3JlIHRpbWUgZm9yIGNvbnRlbnQgcHJvY2Vzc2luZyBvbiBjb21wbGV4IHBhZ2VzLlxyXG4yOTU6Mzd8LSAqKkRvY2tlciBuZXR3b3JraW5nIGlzc3VlcyoqOiBJZiB1c2luZyBEb2NrZXIgRGVza3RvcCBvbiBXaW5kb3dzL01hYywgYGhvc3QuZG9ja2VyLmludGVybmFsYCBzaG91bGQgcmVzb2x2ZSB0byB0aGUgaG9zdCBtYWNoaW5lLiBPbiBMaW51eCwgeW91IG1heSBuZWVkIHRvIHVzZSB0aGUgaG9zdCdzIElQIGFkZHJlc3MgaW5zdGVhZC5cclxuMjk2OjA1fFxyXG4yOTc6ODF8IyMgQWNrbm93bGVkZ2VtZW50c1xyXG4yOTg6MDV8XHJcbjI5OTpkYnxJbnNwaXJlZCBieTpcclxuMzAwOmVifC0gW1NlYXJYTkddKGh0dHBzOi8vZ2l0aHViLmNvbS9zZWFyeG5nL3NlYXJ4bmcpIC0gUHJpdmFjeS1yZXNwZWN0aW5nIG1ldGFzZWFyY2ggZW5naW5lXHJcbjMwMTo0NHwtIFtUcmFmaWxhdHVyYV0oaHR0cHM6Ly9naXRodWIuY29tL2FkYmFyL3RyYWZpbGF0dXJhKSAtIFdlYiBzY3JhcGluZyB0b29sIGZvciB0ZXh0IGV4dHJhY3Rpb25cclxuMzAyOjM5fC0gW2lob3Itc29rb2xpdWsvbWNwLXNlYXJ4bmddKGh0dHBzOi8vZ2l0aHViLmNvbS9paG9yLXNva29saXVrL21jcC1zZWFyeG5nKSAtIE9yaWdpbmFsIE1DUCBzZXJ2ZXIgZm9yIFNlYXJYTkdcclxuMzAzOjdjfC0gW25uYW95Y3VydF0oaHR0cHM6Ly9naXRodWIuY29tL25uYW95Y3VydCkgKFtCZXR0ZXIgV2ViIFNlYXJjaCBUb29sXShodHRwczovL29wZW53ZWJ1aS5jb20vdC9ubmFveWN1cnQvd2ViX3NlYXJjaCkpXHJcbjMwNDphN3wtIFtAYndvb2RydWZmMjAyMV0oaHR0cHM6Ly9naXRodWIuY29tL2J3b29kcnVmZjIwMjEpIChbR2V0VGltZURhdGUgVG9vbF0oaHR0cHM6Ly9vcGVud2VidWkuY29tL3QvYndvb2RydWZmMjAyMS9nZXR0aW1lKSlcclxuMzA1OjA1fFxyXG4zMDY6MzB8IyMgTGljZW5zZVxyXG4zMDc6MDV8XHJcbjMwODphOHxNSVQgTGljZW5zZSDCqSAyMDI1IE92ZXJ0bGlEU1xyXG4zMDk6MDV8In1dLCJkZXRhaWxzIjp7Im1ldGEiOnsic291cmNlIjp7InR5cGUiOiJwYXRoIiwidmFsdWUiOiJEOlxcbGxtXFxtcC1zZWFyeG5nLWVuaGFuY2VkXFxSRUFETUUubWQifX19LCJpc0Vycm9yIjpmYWxzZSwidGltZXN0YW1wIjoxNzcxMzAyMzYwODQzfX0seyJ0eXBlIjoibWVzc2FnZSIsImlkIjoiZjI3ZTJhMjAiLCJwYXJlbnRJZCI6IjAxMjM0NDU1IiwidGltZXN0YW1wIjoiMjAyNi0wMi0xN1QwNDoyNjoxNC4wOTZaIiwibWVzc2FnZSI6eyJyb2xlIjoiYXNzaXN0YW50IiwiY29udGVudCI6W3sidHlwZSI6InRoaW5raW5nIiwidGhpbmtpbmciOiJSZWFkIG1jcF9zZXJ2ZXIucHkuIiwidGhpbmtpbmdTaWduYXR1cmUiOiJyZWFzb25pbmdfY29udGVudCJ9LHsidHlwZSI6InRvb2xDYWxsIiwiaWQiOiJTeVgwY2ZpazdLUjAwRmxKSmtDdUtGaW5xTm5QWlBqcCIsIm5hbWUiOiJyZWFkIiwiYXJndW1lbnRzIjp7InBhdGgiOiJtY3Bfc2VydmVyLnB5IiwibGltaXQiOjIwMDB9fV0sImFwaSI6Im9wZW5haS1jb21wbGV0aW9ucyIsInByb3ZpZGVyIjoiQU1ELXNlcnZlciIsIm1vZGVsIjoiZ3B0LW9zcy0xMjBiLWhlcmV0aWMtdjItTVhGUCIsInVzYWdlIjp7ImlucHV0IjoxNjcwMCwib3V0cHV0IjozNiwiY2FjaGVSZWFkIjowLCJjYWNoZVdyaXRlIjowLCJ0b3RhbFRva2VucyI6MTY3MzYsImNvc3QiOnsiaW5wdXQiOjAsIm91dHB1dCI6MCwiY2FjaGVSZWFkIjowLCJjYWNoZVdyaXRlIjowLCJ0b3RhbCI6MH19LCJzdG9wUmVhc29uIjoidG9vbFVzZSIsInRpbWVzdGFtcCI6MTc3MTMwMjM2MDg0NCwiZHVyYXRpb24iOjEzMjUxfX0seyJ0eXBlIjoibWVzc2FnZSIsImlkIjoiMjdiY2I3NjUiLCJwYXJlbnRJZCI6ImYyN2UyYTIwIiwidGltZXN0YW1wIjoiMjAyNi0wMi0xN1QwNDoyNjoxNC4xMTlaIiwibWVzc2FnZSI6eyJyb2xlIjoidG9vbFJlc3VsdCIsInRvb2xDYWxsSWQiOiJTeVgwY2ZpazdLUjAwRmxKSmtDdUtGaW5xTm5QWlBqcCIsInRvb2xOYW1lIjoicmVhZCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6IjE6M2R8IyEvdXNyL2Jpbi9lbnYgcHl0aG9uM1xyXG4yOjkxfFwiXCJcIlxyXG4zOjQyfE1DUCBTZXJ2ZXI6IENhdGVnb3J5LWF3YXJlIHdlYiBzZWFyY2gsIHdlYnNpdGUgc2NyYXBpbmcsIGFuZCBkYXRlL3RpbWUgdG9vbHMuXHJcbjQ6OTF8XCJcIlwiXHJcbjU6MDV8XHJcbjY6ODl8aW1wb3J0IGFzeW5jaW9cclxuNzphMHxpbXBvcnQganNvblxyXG44Ojg2fGltcG9ydCBsb2dnaW5nXHJcbjk6NDl8aW1wb3J0IG9zXHJcbjEwOjFmfGltcG9ydCBwYXRobGliXHJcbjExOjIyfGltcG9ydCByZVxyXG4xMjoxZnxpbXBvcnQgc3lzXHJcbjEzOjJkfGltcG9ydCB0aW1lXHJcbjE0OjQyfGltcG9ydCB1bmljb2RlZGF0YVxyXG4xNTpiY3xmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZSwgdGltZXpvbmUsIHRpbWVkZWx0YVxyXG4xNjowY3xmcm9tIHR5cGluZyBpbXBvcnQgQ2FsbGFibGUsIEFueSwgRGljdCwgT3B0aW9uYWwsIEF3YWl0YWJsZSwgTGlzdCwgVW5pb24sIFR5cGVWYXIsIFR5cGVcclxuMTc6N2N8ZnJvbSB1cmxsaWIucGFyc2UgaW1wb3J0IHVybHBhcnNlXHJcbjE4OjA1fFxyXG4xOTo4N3xpbXBvcnQgaHR0cHhcclxuMjA6Y2J8ZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXBcclxuMjE6MmF8ZnJvbSBweWRhbnRpYyBpbXBvcnQgQmFzZU1vZGVsLCBGaWVsZCwgdmFsaWRhdG9yLCBWYWxpZGF0aW9uRXJyb3IsIHJvb3RfdmFsaWRhdG9yXHJcbjIyOjZhfGltcG9ydCB0cmFmaWxhdHVyYVxyXG4yMzozM3xmcm9tIGRhdGV1dGlsIGltcG9ydCBwYXJzZXIgYXMgZGF0ZV9wYXJzZXJcclxuMjQ6YmJ8ZnJvbSBjYWNoZXRvb2xzIGltcG9ydCBUVExDYWNoZVxyXG4yNTplMXxmcm9tIHpvbmVpbmZvIGltcG9ydCBab25lSW5mb1xyXG4yNjozYnxpbXBvcnQgZmlsZXR5cGVcclxuMjc6NmR8aW1wb3J0IHB5bXVwZGZcclxuMjg6MTZ8aW1wb3J0IHB5bXVwZGY0bGxtXHJcbjI5OjA1fFxyXG4zMDoyNXwjIC0tLSBDdXN0b20gRXhjZXB0aW9ucyAtLS1cclxuMzE6ZTl8Y2xhc3MgTUNQU2VydmVyRXJyb3IoRXhjZXB0aW9uKTpcclxuMzI6YjR8ICAgIFwiXCJcIkJhc2UgZXhjZXB0aW9uIGNsYXNzIGZvciBNQ1AgU2VydmVyIGVycm9ycy5cIlwiXCJcclxuMzM6ODR8ICAgIHBhc3NcclxuMzQ6MDV8XHJcbjM1OjllfGNsYXNzIENvbmZpZ3VyYXRpb25FcnJvcihNQ1BTZXJ2ZXJFcnJvcik6XHJcbjM2OmUxfCAgICBcIlwiXCJSYWlzZWQgd2hlbiB0aGVyZSdzIGFuIGlzc3VlIHdpdGggY29uZmlndXJhdGlvbiB2YWx1ZXMuXCJcIlwiXHJcbjM3Ojg0fCAgICBwYXNzXHJcbjM4OjA1fFxyXG4zOTo2YXxjbGFzcyBTZWFyWE5HQ29ubmVjdGlvbkVycm9yKE1DUFNlcnZlckVycm9yKTpcclxuNDA6MGR8ICAgIFwiXCJcIlJhaXNlZCB3aGVuIGNvbm5lY3Rpb24gdG8gU2VhclhORyBmYWlscy5cIlwiXCJcclxuNDE6ODR8ICAgIHBhc3NcclxuNDI6MDV8XHJcbjQzOmY1fGNsYXNzIFdlYlNjcmFwaW5nRXJyb3IoTUNQU2VydmVyRXJyb3IpOlxyXG40NDoxMHwgICAgXCJcIlwiUmFpc2VkIHdoZW4gd2ViIHNjcmFwaW5nIGZhaWxzLlwiXCJcIlxyXG40NTo4NHwgICAgcGFzc1xyXG40NjowNXxcclxuNDc6NjJ8Y2xhc3MgUmF0ZUxpbWl0RXhjZWVkZWRFcnJvcihNQ1BTZXJ2ZXJFcnJvcik6XHJcbjQ4OjgxfCAgICBcIlwiXCJSYWlzZWQgd2hlbiByYXRlIGxpbWl0IGZvciBhIGRvbWFpbiBpcyBleGNlZWRlZC5cIlwiXCJcclxuNDk6ODR8ICAgIHBhc3NcclxuNTA6MDV8XHJcbjUxOmVkfCMgLS0tIExvZ2dpbmcgU2V0dXAgLS0tXHJcbjUyOjgwfGxvZ2dpbmcuYmFzaWNDb25maWcoXHJcbjUzOmM1fCAgICBsZXZlbD1sb2dnaW5nLklORk8sXHJcbjU0OjFhfCAgICBmb3JtYXQ9JyUoYXNjdGltZSlzIC0gJShuYW1lKXMgLSAlKGxldmVsbmFtZSlzIC0gJShtZXNzYWdlKXMnLFxyXG41NToxN3wgICAgc3RyZWFtPXN5cy5zdGRlcnJcclxuNTY6OGV8KVxyXG41NzphM3xsb2dnZXIgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXylcclxuNTg6MDV8XHJcbjU5Ojg2fCMgLS0tIEdsb2JhbCBDYWNoZSAtLS1cclxuNjA6NDJ8d2Vic2l0ZV9jYWNoZSA9IE5vbmVcclxuNjE6MDV8XHJcbjYyOmYyfCMgLS0tIFJhdGUgTGltaXRpbmcgYW5kIENhY2hlIFZhbGlkYXRpb24gLS0tXHJcbjYzOjNmfGNsYXNzIFJhdGVMaW1pdGVyOlxyXG42NDpjOXwgICAgXCJcIlwiSW1wbGVtZW50cyBkb21haW4tYmFzZWQgcmF0ZSBsaW1pdGluZyBmb3Igd2ViIHJlcXVlc3RzLlwiXCJcIlxyXG42NTowNXwgICAgXHJcbjY2OmNjfCAgICBkZWYgX19pbml0X18oc2VsZiwgcmVxdWVzdHNfcGVyX21pbnV0ZTogaW50ID0gMTAsIHRpbWVvdXRfc2Vjb25kczogaW50ID0gNjApOlxyXG42Nzo5MXwgICAgICAgIFwiXCJcIlxyXG42ODplN3wgICAgICAgIEluaXRpYWxpemUgdGhlIHJhdGUgbGltaXRlci5cclxuNjk6MDV8ICAgICAgICBcclxuNzA6OWF8ICAgICAgICBBcmdzOlxyXG43MTpiMHwgICAgICAgICAgICByZXF1ZXN0c19wZXJfbWludXRlOiBNYXhpbXVtIG51bWJlciBvZiByZXF1ZXN0cyBhbGxvd2VkIHBlciBkb21haW4gcGVyIG1pbnV0ZVxyXG43MjoyY3wgICAgICAgICAgICB0aW1lb3V0X3NlY29uZHM6IEhvdyBsb25nIHRvIHRyYWNrIHJlcXVlc3RzIGZvciBlYWNoIGRvbWFpblxyXG43Mzo5MXwgICAgICAgIFwiXCJcIlxyXG43NDo4ZnwgICAgICAgIHNlbGYucmVxdWVzdHNfcGVyX21pbnV0ZSA9IHJlcXVlc3RzX3Blcl9taW51dGVcclxuNzU6YzN8ICAgICAgICBzZWxmLnRpbWVvdXRfc2Vjb25kcyA9IHRpbWVvdXRfc2Vjb25kc1xyXG43NjplNnwgICAgICAgIHNlbGYuZG9tYWluX3JlcXVlc3RzID0ge30gICMgTWFwcyBkb21haW4gdG8gbGlzdCBvZiByZXF1ZXN0IHRpbWVzdGFtcHNcclxuNzc6MDV8ICAgICAgICBcclxuNzg6OWV8ICAgIGRlZiBjYW5fcmVxdWVzdChzZWxmLCB1cmw6IHN0cikgLT4gYm9vbDpcclxuNzk6OTF8ICAgICAgICBcIlwiXCJcclxuODA6NDZ8ICAgICAgICBDaGVjayBpZiBhIHJlcXVlc3QgdG8gdGhlIGdpdmVuIFVSTCBpcyBhbGxvd2VkIHVuZGVyIHJhdGUgbGltaXRzLlxyXG44MTowNXwgICAgICAgIFxyXG44Mjo5YXwgICAgICAgIEFyZ3M6XHJcbjgzOjczfCAgICAgICAgICAgIHVybDogVGhlIFVSTCB0byBjaGVja1xyXG44NDowNXwgICAgICAgICAgICBcclxuODU6Y2Z8ICAgICAgICBSZXR1cm5zOlxyXG44NjowNXwgICAgICAgICAgICBUcnVlIGlmIHRoZSByZXF1ZXN0IGlzIGFsbG93ZWQsIEZhbHNlIG90aGVyd2lzZVxyXG44Nzo5MXwgICAgICAgIFwiXCJcIlxyXG44ODo0NHwgICAgICAgIGRvbWFpbiA9IHVybHBhcnNlKHVybCkubmV0bG9jXHJcbjg5OjM4fCAgICAgICAgaWYgbm90IGRvbWFpbjpcclxuOTA6ZTZ8ICAgICAgICAgICAgcmV0dXJuIFRydWUgICMgTm8gZG9tYWluLCBhbGxvdyByZXF1ZXN0XHJcbjkxOjA1fCAgICAgICAgICAgIFxyXG45Mjo4N3wgICAgICAgIGN1cnJlbnRfdGltZSA9IHRpbWUudGltZSgpXHJcbjkzOjA1fCAgICAgICAgXHJcbjk0OjI2fCAgICAgICAgIyBJbml0aWFsaXplIGRvbWFpbiBlbnRyeSBpZiBub3QgZXhpc3RzXHJcbjk1OjVifCAgICAgICAgaWYgZG9tYWluIG5vdCBpbiBzZWxmLmRvbWFpbl9yZXF1ZXN0czpcclxuOTY6YzR8ICAgICAgICAgICAgc2VsZi5kb21haW5fcmVxdWVzdHNbZG9tYWluXSA9IFtdXHJcbjk3OjA1fCAgICAgICAgICAgIFxyXG45ODoyNXwgICAgICAgICMgQ2xlYW4gdXAgb2xkIHJlcXVlc3RzXHJcbjk5OjExfCAgICAgICAgc2VsZi5kb21haW5fcmVxdWVzdHNbZG9tYWluXSA9IFtcclxuMTAwOmI4fCAgICAgICAgICAgIHRpbWVzdGFtcCBmb3IgdGltZXN0YW1wIGluIHNlbGYuZG9tYWluX3JlcXVlc3RzW2RvbWFpbl1cclxuMTAxOjA3fCAgICAgICAgICAgIGlmIGN1cnJlbnRfdGltZSAtIHRpbWVzdGFtcCA8IHNlbGYudGltZW91dF9zZWNvbmRzXHJcbjEwMjpmOXwgICAgICAgIF1cclxuMTAzOjA1fCAgICAgICAgXHJcbjEwNDpjMHwgICAgICAgICMgQ2hlY2sgaWYgd2UncmUgb3ZlciB0aGUgbGltaXRcclxuMTA1OjhlfCAgICAgICAgaWYgbGVuKHNlbGYuZG9tYWluX3JlcXVlc3RzW2RvbWFpbl0pID49IHNlbGYucmVxdWVzdHNfcGVyX21pbnV0ZTpcclxuMTA2OjRkfCAgICAgICAgICAgIHJldHVybiBGYWxzZVxyXG4xMDc6MDV8ICAgICAgICAgICAgXHJcbjEwODo2NHwgICAgICAgICMgQWRkIGN1cnJlbnQgcmVxdWVzdCB0aW1lc3RhbXBcclxuMTA5OmM2fCAgICAgICAgc2VsZi5kb21haW5fcmVxdWVzdHNbZG9tYWluXS5hcHBlbmQoY3VycmVudF90aW1lKVxyXG4xMTA6MGF8ICAgICAgICByZXR1cm4gVHJ1ZVxyXG4xMTE6MDV8ICAgICAgICBcclxuMTEyOjNjfCAgICBkZWYgZ2V0X3JlbWFpbmluZ190aW1lKHNlbGYsIHVybDogc3RyKSAtPiBmbG9hdDpcclxuMTEzOjkxfCAgICAgICAgXCJcIlwiXHJcbjExNDphMnwgICAgICAgIEdldCB0aGUgcmVtYWluaW5nIHRpbWUgaW4gc2Vjb25kcyBiZWZvcmUgYSByZXF1ZXN0IGNhbiBiZSBtYWRlLlxyXG4xMTU6MDV8ICAgICAgICBcclxuMTE2OjlhfCAgICAgICAgQXJnczpcclxuMTE3OjczfCAgICAgICAgICAgIHVybDogVGhlIFVSTCB0byBjaGVja1xyXG4xMTg6MDV8ICAgICAgICAgICAgXHJcbjExOTpjZnwgICAgICAgIFJldHVybnM6XHJcbjEyMDowY3wgICAgICAgICAgICBUaW1lIGluIHNlY29uZHMgdG8gd2FpdCwgb3IgMCBpZiByZXF1ZXN0IGNhbiBiZSBtYWRlIGltbWVkaWF0ZWx5XHJcbjEyMTo5MXwgICAgICAgIFwiXCJcIlxyXG4xMjI6NDR8ICAgICAgICBkb21haW4gPSB1cmxwYXJzZSh1cmwpLm5ldGxvY1xyXG4xMjM6MzZ8ICAgICAgICBpZiBub3QgZG9tYWluIG9yIGRvbWFpbiBub3QgaW4gc2VsZi5kb21haW5fcmVxdWVzdHM6XHJcbjEyNDpmMHwgICAgICAgICAgICByZXR1cm4gMFxyXG4xMjU6MDV8ICAgICAgICAgICAgXHJcbjEyNjo4N3wgICAgICAgIGN1cnJlbnRfdGltZSA9IHRpbWUudGltZSgpXHJcbjEyNzplMnwgICAgICAgIHRpbWVzdGFtcHMgPSBzZWxmLmRvbWFpbl9yZXF1ZXN0c1tkb21haW5dXHJcbjEyODowNXwgICAgICAgIFxyXG4xMjk6MjV8ICAgICAgICAjIENsZWFuIHVwIG9sZCByZXF1ZXN0c1xyXG4xMzA6MjJ8ICAgICAgICB0aW1lc3RhbXBzID0gW3QgZm9yIHQgaW4gdGltZXN0YW1wcyBpZiBjdXJyZW50X3RpbWUgLSB0IDwgc2VsZi50aW1lb3V0X3NlY29uZHNdXHJcbjEzMTowNXwgICAgICAgIFxyXG4xMzI6ZWZ8ICAgICAgICBpZiBsZW4odGltZXN0YW1wcykgPCBzZWxmLnJlcXVlc3RzX3Blcl9taW51dGU6XHJcbjEzMzpmMHwgICAgICAgICAgICByZXR1cm4gMFxyXG4xMzQ6MDV8ICAgICAgICAgICAgXHJcbjEzNTphMXwgICAgICAgICMgRmluZCBvbGRlc3QgdGltZXN0YW1wIGFuZCBjYWxjdWxhdGUgd2hlbiBpdCB3aWxsIGV4cGlyZVxyXG4xMzY6Yzh8ICAgICAgICBvbGRlc3QgPSBtaW4odGltZXN0YW1wcylcclxuMTM3OjRifCAgICAgICAgcmV0dXJuIG1heCgwLCBvbGRlc3QgKyBzZWxmLnRpbWVvdXRfc2Vjb25kcyAtIGN1cnJlbnRfdGltZSlcclxuMTM4OjA1fFxyXG4xMzk6MDV8XHJcbjE0MDo1M3xjbGFzcyBDYWNoZVZhbGlkYXRvcjpcclxuMTQxOjBjfCAgICBcIlwiXCJIYW5kbGVzIHZhbGlkYXRpb24gb2YgY2FjaGVkIHdlYiBjb250ZW50LlwiXCJcIlxyXG4xNDI6MDV8ICAgIFxyXG4xNDM6MDB8ICAgIEBzdGF0aWNtZXRob2RcclxuMTQ0OjU4fCAgICBkZWYgaXNfdmFsaWQoY2FjaGVkX3Jlc3VsdDogRGljdFtzdHIsIEFueV0sIG1heF9hZ2VfbWludXRlczogaW50ID0gMzApIC0+IGJvb2w6XHJcbjE0NTo5MXwgICAgICAgIFwiXCJcIlxyXG4xNDY6ZDZ8ICAgICAgICBDaGVjayBpZiBhIGNhY2hlZCByZXN1bHQgaXMgc3RpbGwgdmFsaWQuXHJcbjE0NzowNXwgICAgICAgIFxyXG4xNDg6OWF8ICAgICAgICBBcmdzOlxyXG4xNDk6NjN8ICAgICAgICAgICAgY2FjaGVkX3Jlc3VsdDogVGhlIGNhY2hlZCByZXN1bHQgdG8gdmFsaWRhdGVcclxuMTUwOjhhfCAgICAgICAgICAgIG1heF9hZ2VfbWludXRlczogTWF4aW11bSBhZ2UgaW4gbWludXRlcyBmb3IgY2FjaGVkIGNvbnRlbnQgdG8gYmUgY29uc2lkZXJlZCB2YWxpZFxyXG4xNTE6MDV8ICAgICAgICAgICAgXHJcbjE1MjpjZnwgICAgICAgIFJldHVybnM6XHJcbjE1Mzo3M3wgICAgICAgICAgICBUcnVlIGlmIHRoZSBjYWNoZWQgcmVzdWx0IGlzIHZhbGlkLCBGYWxzZSBvdGhlcndpc2VcclxuMTU0OjkxfCAgICAgICAgXCJcIlwiXHJcbjE1NTpjNnwgICAgICAgIGlmIG5vdCBjYWNoZWRfcmVzdWx0OlxyXG4xNTY6NGR8ICAgICAgICAgICAgcmV0dXJuIEZhbHNlXHJcbjE1NzowNXwgICAgICAgICAgICBcclxuMTU4OjkzfCAgICAgICAgIyBDaGVjayBpZiB0aGUgY2FjaGVkIHJlc3VsdCBoYXMgYW4gYWNjZXNzIHRpbWVzdGFtcFxyXG4xNTk6ODh8ICAgICAgICBpZiBcImRhdGVfYWNjZXNzZWRcIiBub3QgaW4gY2FjaGVkX3Jlc3VsdDpcclxuMTYwOjRkfCAgICAgICAgICAgIHJldHVybiBGYWxzZVxyXG4xNjE6MDV8ICAgICAgICAgICAgXHJcbjE2MjpkY3wgICAgICAgIHRyeTpcclxuMTYzOjc0fCAgICAgICAgICAgICMgUGFyc2UgdGhlIGRhdGVfYWNjZXNzZWQgdGltZXN0YW1wXHJcbjE2NDoyY3wgICAgICAgICAgICBkYXRlX2FjY2Vzc2VkID0gZGF0ZV9wYXJzZXIucGFyc2UoY2FjaGVkX3Jlc3VsdFtcImRhdGVfYWNjZXNzZWRcIl0pXHJcbjE2NTowNXwgICAgICAgICAgICBcclxuMTY2OjIzfCAgICAgICAgICAgICMgQ2hlY2sgaWYgdGhlIGNhY2hlIGVudHJ5IGlzIHRvbyBvbGRcclxuMTY3OmUzfCAgICAgICAgICAgIG5vdyA9IGRhdGV0aW1lLm5vdyh0aW1lem9uZS51dGMpXHJcbjE2ODpkNHwgICAgICAgICAgICBhZ2VfdGQgPSBub3cgLSBkYXRlX2FjY2Vzc2VkXHJcbjE2OTo0N3wgICAgICAgICAgICByZXR1cm4gYWdlX3RkLnRvdGFsX3NlY29uZHMoKSA8IChtYXhfYWdlX21pbnV0ZXMgKiA2MClcclxuMTcwOjU0fCAgICAgICAgZXhjZXB0IChWYWx1ZUVycm9yLCBUeXBlRXJyb3IpOlxyXG4xNzE6NGR8ICAgICAgICAgICAgcmV0dXJuIEZhbHNlXHJcbjE3MjowNXxcclxuMTczOmVjfCMgLS0tIEhlbHBlciBGdW5jdGlvbnMgLS0tXHJcbjE3NDoyOXxjbGFzcyBIZWxwZXJGdW5jdGlvbnM6XHJcbjE3NTowMHwgICAgQHN0YXRpY21ldGhvZFxyXG4xNzY6YTJ8ICAgIGRlZiBnZXRfYmFzZV91cmwodXJsOiBzdHIpIC0+IHN0cjpcclxuMTc3OmQwfCAgICAgICAgcGFyc2VkX3VybCA9IHVybHBhcnNlKHVybClcclxuMTc4OjIwfCAgICAgICAgcmV0dXJuIGZcIntwYXJzZWRfdXJsLnNjaGVtZX06Ly97cGFyc2VkX3VybC5uZXRsb2N9XCJcclxuMTc5OjA1fFxyXG4xODA6MDB8ICAgIEBzdGF0aWNtZXRob2RcclxuMTgxOmQxfCAgICBkZWYgZ2VuZXJhdGVfZXhjZXJwdChjb250ZW50OiBzdHIsIG1heF9sZW5ndGg6IGludCA9IDIwMCkgLT4gc3RyOlxyXG4xODI6ZTZ8ICAgICAgICBsaW5lcyA9IGNvbnRlbnQuc3BsaXRsaW5lcygpXHJcbjE4Mzo2NXwgICAgICAgIGV4Y2VycHQgPSBcIlwiXHJcbjE4NDpjZnwgICAgICAgIGZvciBsaW5lIGluIGxpbmVzOlxyXG4xODU6YzJ8ICAgICAgICAgICAgaWYgbGVuKGV4Y2VycHQpICsgbGVuKGxpbmUpICsgMSA8IG1heF9sZW5ndGg6XHJcbjE4Njo2NnwgICAgICAgICAgICAgICAgZXhjZXJwdCArPSBsaW5lICsgXCJcXG5cIlxyXG4xODc6MDV8ICAgICAgICAgICAgZWxzZTpcclxuMTg4OjU1fCAgICAgICAgICAgICAgICByZW1haW5pbmdfbGVuID0gbWF4X2xlbmd0aCAtIGxlbihleGNlcnB0KSAtIDRcclxuMTg5OmYyfCAgICAgICAgICAgICAgICBpZiByZW1haW5pbmdfbGVuID4gMDpcclxuMTkwOjc1fCAgICAgICAgICAgICAgICAgICAgZXhjZXJwdCArPSBsaW5lWzpyZW1haW5pbmdfbGVuXSArIFwiIC4uLlwiXHJcbjE5MTo5NXwgICAgICAgICAgICAgICAgYnJlYWtcclxuMTkyOjc0fCAgICAgICAgcmV0dXJuIGV4Y2VycHQuc3RyaXAoKSBpZiBleGNlcnB0IGVsc2UgY29udGVudFs6bWF4X2xlbmd0aF0gKyBcIi4uLlwiXHJcbjE5MzowNXxcclxuMTk0OjAwfCAgICBAc3RhdGljbWV0aG9kXHJcbjE5NTo2MnwgICAgZGVmIGZvcm1hdF90ZXh0X3dpdGhfdHJhZmlsYXR1cmEoaHRtbF9jb250ZW50OiBzdHIsIHRpbWVvdXQ6IGludCkgLT4gc3RyOlxyXG4xOTY6YTl8ICAgICAgICBleHRyYWN0ZWRfdGV4dCA9IHRyYWZpbGF0dXJhLmV4dHJhY3QoXHJcbjE5NzpjZHwgICAgICAgICAgICBodG1sX2NvbnRlbnQsXHJcbjE5ODowYXwgICAgICAgICAgICBmYXZvcl9yZWFkYWJpbGl0eT1UcnVlLFxyXG4xOTk6MTN8ICAgICAgICAgICAgaW5jbHVkZV9jb21tZW50cz1GYWxzZSxcclxuMjAwOmM0fCAgICAgICAgICAgIGluY2x1ZGVfdGFibGVzPVRydWUsXHJcbjIwMTphOHwgICAgICAgICAgICB0aW1lb3V0PXRpbWVvdXRcclxuMjAyOjhlfCAgICAgICAgKVxyXG4yMDM6MTJ8ICAgICAgICBpZiBub3QgZXh0cmFjdGVkX3RleHQ6XHJcbjIwNDo5M3wgICAgICAgICAgICBzb3VwID0gQmVhdXRpZnVsU291cChodG1sX2NvbnRlbnQsIFwiaHRtbC5wYXJzZXJcIilcclxuMjA1OjM4fCAgICAgICAgICAgIGV4dHJhY3RlZF90ZXh0ID0gc291cC5nZXRfdGV4dChzZXBhcmF0b3I9XCJcXG5cIiwgc3RyaXA9VHJ1ZSlcclxuMjA2Ojc4fCAgICAgICAgICAgIGxvZ2dlci53YXJuaW5nKFwiVHJhZmlsYXR1cmEgZmFpbGVkL3RpbWVkIG91dCwgZmFsbGluZyBiYWNrIHRvIGJhc2ljIHRleHQgZXh0cmFjdGlvbi5cIilcclxuMjA3OmY1fCAgICAgICAgbGluZXMgPSBbdW5pY29kZWRhdGEubm9ybWFsaXplKFwiTkZLQ1wiLCBsaW5lKS5zdHJpcCgpIGZvciBsaW5lIGluIGV4dHJhY3RlZF90ZXh0LnNwbGl0bGluZXMoKV1cclxuMjA4OmM0fCAgICAgICAgY2xlYW5lZF9saW5lcyA9IFtyZS5zdWIocidcXHN7Mix9JywgJyAnLCBsaW5lKSBmb3IgbGluZSBpbiBsaW5lcyBpZiBsaW5lXVxyXG4yMDk6YTl8ICAgICAgICBmb3JtYXR0ZWRfdGV4dCA9IFwiXFxuXCIuam9pbihjbGVhbmVkX2xpbmVzKVxyXG4yMTA6YzN8ICAgICAgICByZXR1cm4gSGVscGVyRnVuY3Rpb25zLnJlbW92ZV9lbW9qaXMoZm9ybWF0dGVkX3RleHQpLnN0cmlwKClcclxuMjExOjA1fFxyXG4yMTI6MDB8ICAgIEBzdGF0aWNtZXRob2RcclxuMjEzOjMyfCAgICBkZWYgcmVtb3ZlX2Vtb2ppcyh0ZXh0OiBzdHIpIC0+IHN0cjpcclxuMjE0OmZifCAgICAgICAgcmV0dXJuIFwiXCIuam9pbihjIGZvciBjIGluIHRleHQgaWYgbm90IHVuaWNvZGVkYXRhLmNhdGVnb3J5KGMpLnN0YXJ0c3dpdGgoXCJTb1wiKSlcclxuMjE1OjA1fFxyXG4yMTY6MDB8ICAgIEBzdGF0aWNtZXRob2RcclxuMjE3OjRkfCAgICBkZWYgdHJ1bmNhdGVfdG9fbl93b3Jkcyh0ZXh0OiBzdHIsIHdvcmRfbGltaXQ6IGludCkgLT4gc3RyOlxyXG4yMTg6NzR8ICAgICAgICB0b2tlbnMgPSB0ZXh0LnNwbGl0KClcclxuMjE5Ojk1fCAgICAgICAgaWYgbGVuKHRva2VucykgPD0gd29yZF9saW1pdDpcclxuMjIwOmVkfCAgICAgICAgICAgIHJldHVybiB0ZXh0XHJcbjIyMTphNXwgICAgICAgIHJldHVybiBcIiBcIi5qb2luKHRva2Vuc1s6d29yZF9saW1pdF0pICsgXCIuLi5cIlxyXG4yMjI6MDV8XHJcbjIyMzowMHwgICAgQHN0YXRpY21ldGhvZFxyXG4yMjQ6N2F8ICAgIGRlZiBfbW9kaWZ5X3JlZGRpdF91cmwodXJsOiBzdHIpIC0+IHN0cjpcclxuMjI1OmQzfCAgICAgICAgbWF0Y2ggPSByZS5tYXRjaChyXCJeKGh0dHBzPzovLykod3d3XFwuKT8ocmVkZGl0XFwuY29tKSguKikkXCIsIHVybCwgcmUuSUdOT1JFQ0FTRSlcclxuMjI2Ojc1fCAgICAgICAgaWYgbWF0Y2g6XHJcbjIyNzphMHwgICAgICAgICAgICBwcm90b2NvbCA9IG1hdGNoLmdyb3VwKDEpXHJcbjIyODpmMHwgICAgICAgICAgICBwYXRoX2FuZF9xdWVyeSA9IG1hdGNoLmdyb3VwKDQpXHJcbjIyOTo2ZXwgICAgICAgICAgICByZXR1cm4gZlwie3Byb3RvY29sfW9sZC5yZWRkaXQuY29te3BhdGhfYW5kX3F1ZXJ5fVwiXHJcbjIzMDplMHwgICAgICAgIHJldHVybiB1cmxcclxuMjMxOjA1fFxyXG4yMzI6MDB8ICAgIEBzdGF0aWNtZXRob2RcclxuMjMzOjNjfCAgICBhc3luYyBkZWYgcHJvY2Vzc193ZWJfc2VhcmNoX3Jlc3VsdChyZXN1bHQ6IERpY3Rbc3RyLCBBbnldLCB2YWx2ZXMsIGNsaWVudCkgLT4gRGljdFtzdHIsIEFueV06XHJcbjIzNDo1OHwgICAgICAgIFwiXCJcIlByb2Nlc3MgYSB3ZWIgc2VhcmNoIHJlc3VsdCB0byBleHRyYWN0IGNvbnRlbnQgYW5kIG1ldGFkYXRhLlwiXCJcIlxyXG4yMzU6NDF8ICAgICAgICB1cmwgPSByZXN1bHQuZ2V0KFwidXJsXCIpXHJcbjIzNjo0MXwgICAgICAgIGlmIG5vdCB1cmw6XHJcbjIzNzpmYXwgICAgICAgICAgICByZXR1cm4gTm9uZVxyXG4yMzg6MDV8ICAgICAgICBcclxuMjM5OmY4fCAgICAgICAgIyBDaGVjayBmb3IgaWdub3JlZCB3ZWJzaXRlc1xyXG4yNDA6NDR8ICAgICAgICBpZiB2YWx2ZXMuSUdOT1JFRF9XRUJTSVRFUzpcclxuMjQxOjZjfCAgICAgICAgICAgIGlnbm9yZWRfc2l0ZXMgPSBbc2l0ZS5zdHJpcCgpIGZvciBzaXRlIGluIHZhbHZlcy5JR05PUkVEX1dFQlNJVEVTLnNwbGl0KFwiLFwiKV1cclxuMjQyOjUwfCAgICAgICAgICAgIGlmIGFueShzaXRlIGluIHVybCBmb3Igc2l0ZSBpbiBpZ25vcmVkX3NpdGVzKTpcclxuMjQzOmM3fCAgICAgICAgICAgICAgICByZXR1cm4ge1widXJsXCI6IHVybCwgXCJ0aXRsZVwiOiByZXN1bHQuZ2V0KFwidGl0bGVcIiwgXCJcIiksIFwiZXJyb3JcIjogXCJJZ25vcmVkIHdlYnNpdGVcIiwgXCJzb3VwXCI6IE5vbmV9XHJcbjI0NDowNXwgICAgICAgIFxyXG4yNDU6ODR8ICAgICAgICAjIFRyeSB0byBnZXQgY29udGVudCBmcm9tIHRoZSB3ZWJzaXRlXHJcbjI0NjpkY3wgICAgICAgIHRyeTpcclxuMjQ3OjVmfCAgICAgICAgICAgIHVybF90b19mZXRjaCA9IEhlbHBlckZ1bmN0aW9ucy5fbW9kaWZ5X3JlZGRpdF91cmwodXJsKVxyXG4yNDg6Yzh8ICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBjbGllbnQuZ2V0KHVybF90b19mZXRjaCwgdGltZW91dD12YWx2ZXMuU0NSQVBJTkdfVElNRU9VVClcclxuMjQ5OjE2fCAgICAgICAgICAgIHJlc3BvbnNlLnJhaXNlX2Zvcl9zdGF0dXMoKVxyXG4yNTA6ZjJ8ICAgICAgICAgICAgaHRtbF9jb250ZW50ID0gcmVzcG9uc2UudGV4dFxyXG4yNTE6ZDN8ICAgICAgICAgICAgcmF3X2NvbnRlbnQgPSByZXNwb25zZS5jb250ZW50XHJcbjI1MjowNXxcclxuMjUzOjEzfCAgICAgICAgICAgICMgV2Ugb25seSBuZWVkIGEgY291cGxlIG9mIGluaXRpYWwgYnl0ZXMsIG5vdCB0aGUgd2hvbGUgZmlsZSBmb3IgTUlNRSB0eXBlIGd1ZXNzXHJcbjI1NDphOXwgICAgICAgICAgICBraW5kID0gZmlsZXR5cGUuZ3Vlc3MocmF3X2NvbnRlbnQpXHJcbjI1NTowNXxcclxuMjU2OmE3fCAgICAgICAgICAgIGlmIGtpbmQgaXMgbm90IE5vbmUgYW5kIGtpbmQubWltZSA9PSBcImFwcGxpY2F0aW9uL3BkZlwiOlxyXG4yNTc6OGZ8ICAgICAgICAgICAgICAgICMgUHJvY2VzcyBQREZcclxuMjU4OmU2fCAgICAgICAgICAgICAgICBkb2MgPSBweW11cGRmLm9wZW4oc3RyZWFtPXJhd19jb250ZW50LCBmaWxldHlwZT1cInBkZlwiKVxyXG4yNTk6ZTF8ICAgICAgICAgICAgICAgIG1kX3RleHQgPSBweW11cGRmNGxsbS50b19tYXJrZG93bihkb2MpXHJcbjI2MDowNXwgICAgXHJcbjI2MTo2ZnwgICAgICAgICAgICAgICAgY29udGVudCA9IG1kX3RleHRcclxuMjYyOjRhfCAgICAgICAgICAgICAgICB0cnVuY2F0ZWRfY29udGVudCA9IEhlbHBlckZ1bmN0aW9ucy50cnVuY2F0ZV90b19uX3dvcmRzKGNvbnRlbnQsIHZhbHZlcy5QQUdFX0NPTlRFTlRfV09SRFNfTElNSVQpXHJcbjI2Mzo4MXwgICAgICAgICAgICAgICAgZXhjZXJwdCA9IEhlbHBlckZ1bmN0aW9ucy5nZW5lcmF0ZV9leGNlcnB0KGNvbnRlbnQpXHJcbjI2NDowNXxcclxuMjY1OjVjfCAgICAgICAgICAgICAgICB0aXRsZSA9IFwiQSBQREYgZG9jdW1lbnQgY29udmVydGVkIHRvIE1hcmtkb3duXCJcclxuMjY2OjRkfCAgICAgICAgICAgICAgICBzb3VwID0gTm9uZVxyXG4yNjc6MDV8ICAgICAgICAgICAgZWxzZTpcclxuMjY4OmQ1fCAgICAgICAgICAgICAgICAjIEFzc3VtZSBIVE1MIGZvciBub3dcclxuMjY5OjkzfCAgICAgICAgICAgICAgICBzb3VwID0gQmVhdXRpZnVsU291cChodG1sX2NvbnRlbnQsIFwiaHRtbC5wYXJzZXJcIilcclxuMjcwOmZjfCAgICAgICAgICAgICAgICB0aXRsZSA9IHJlc3VsdC5nZXQoXCJ0aXRsZVwiKSBvciAoc291cC50aXRsZS5zdHJpbmcgaWYgc291cC50aXRsZSBlbHNlIFwiTm8gdGl0bGVcIilcclxuMjcxOjM1fCAgICAgICAgICAgICAgICB0aXRsZSA9IHVuaWNvZGVkYXRhLm5vcm1hbGl6ZShcIk5GS0NcIiwgdGl0bGUuc3RyaXAoKSlcclxuMjcyOjY3fCAgICAgICAgICAgICAgICB0aXRsZSA9IEhlbHBlckZ1bmN0aW9ucy5yZW1vdmVfZW1vamlzKHRpdGxlKVxyXG4yNzM6MDV8ICAgICAgICAgICAgXHJcbjI3NDphOXwgICAgICAgICAgICAgICAgY29udGVudCA9IEhlbHBlckZ1bmN0aW9ucy5mb3JtYXRfdGV4dF93aXRoX3RyYWZpbGF0dXJhKGh0bWxfY29udGVudCwgdmFsdmVzLlRSQUZJTEFUVVJBX1RJTUVPVVQpXHJcbjI3NTo0YXwgICAgICAgICAgICAgICAgdHJ1bmNhdGVkX2NvbnRlbnQgPSBIZWxwZXJGdW5jdGlvbnMudHJ1bmNhdGVfdG9fbl93b3Jkcyhjb250ZW50LCB2YWx2ZXMuUEFHRV9DT05URU5UX1dPUkRTX0xJTUlUKVxyXG4yNzY6ODF8ICAgICAgICAgICAgICAgIGV4Y2VycHQgPSBIZWxwZXJGdW5jdGlvbnMuZ2VuZXJhdGVfZXhjZXJwdChjb250ZW50KVxyXG4yNzc6MDV8ICAgICAgICAgICAgXHJcbjI3ODo0YXwgICAgICAgICAgICByZXR1cm4ge1xyXG4yNzk6ZTN8ICAgICAgICAgICAgICAgIFwidGl0bGVcIjogdGl0bGUsXHJcbjI4MDoyMXwgICAgICAgICAgICAgICAgXCJ1cmxcIjogdXJsLFxyXG4yODE6OWN8ICAgICAgICAgICAgICAgIFwiY29udGVudFwiOiB0cnVuY2F0ZWRfY29udGVudCxcclxuMjgyOjc0fCAgICAgICAgICAgICAgICBcImV4Y2VycHRcIjogZXhjZXJwdCxcclxuMjgzOmIzfCAgICAgICAgICAgICAgICBcInNuaXBwZXRcIjogcmVzdWx0LmdldChcImNvbnRlbnRcIiwgXCJcIiksXHJcbjI4NDpmM3wgICAgICAgICAgICAgICAgXCJkYXRlX2FjY2Vzc2VkXCI6IGRhdGV0aW1lLm5vdyh0aW1lem9uZS51dGMpLmlzb2Zvcm1hdCgpLFxyXG4yODU6OGN8ICAgICAgICAgICAgICAgIFwic291cFwiOiBzb3VwLFxyXG4yODY6YzV8ICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogTm9uZVxyXG4yODc6MTh8ICAgICAgICAgICAgfVxyXG4yODg6Njd8ICAgICAgICBleGNlcHQgaHR0cHguSFRUUFN0YXR1c0Vycm9yIGFzIGU6XHJcbjI4OTo2OHwgICAgICAgICAgICBlcnJvcl9tc2cgPSBmXCJ7ZS5yZXNwb25zZS5zdGF0dXNfY29kZX0ge2UucmVzcG9uc2UucmVhc29uX3BocmFzZX1cIlxyXG4yOTA6NGF8ICAgICAgICAgICAgcmV0dXJuIHtcclxuMjkxOmY1fCAgICAgICAgICAgICAgICBcInRpdGxlXCI6IHJlc3VsdC5nZXQoXCJ0aXRsZVwiLCBcIlwiKSxcclxuMjkyOjIxfCAgICAgICAgICAgICAgICBcInVybFwiOiB1cmwsXHJcbjI5MzpiM3wgICAgICAgICAgICAgICAgXCJzbmlwcGV0XCI6IHJlc3VsdC5nZXQoXCJjb250ZW50XCIsIFwiXCIpLFxyXG4yOTQ6YWN8ICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogZXJyb3JfbXNnLFxyXG4yOTU6MTJ8ICAgICAgICAgICAgICAgIFwic291cFwiOiBOb25lXHJcbjI5NjoxOHwgICAgICAgICAgICB9XHJcbjI5NzpmMXwgICAgICAgIGV4Y2VwdCBodHRweC5SZXF1ZXN0RXJyb3IgYXMgZTpcclxuMjk4OjQzfCAgICAgICAgICAgIGVycm9yX21zZyA9IGZcIlJlcXVlc3QgZmFpbGVkOiB7c3RyKGUpfVwiXHJcbjI5OTo0YXwgICAgICAgICAgICByZXR1cm4ge1xyXG4zMDA6ZjV8ICAgICAgICAgICAgICAgIFwidGl0bGVcIjogcmVzdWx0LmdldChcInRpdGxlXCIsIFwiXCIpLFxyXG4zMDE6MjF8ICAgICAgICAgICAgICAgIFwidXJsXCI6IHVybCxcclxuMzAyOmIzfCAgICAgICAgICAgICAgICBcInNuaXBwZXRcIjogcmVzdWx0LmdldChcImNvbnRlbnRcIiwgXCJcIiksXHJcbjMwMzphY3wgICAgICAgICAgICAgICAgXCJlcnJvclwiOiBlcnJvcl9tc2csXHJcbjMwNDoxMnwgICAgICAgICAgICAgICAgXCJzb3VwXCI6IE5vbmVcclxuMzA1OjE4fCAgICAgICAgICAgIH1cclxuMzA2OjdkfCAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxyXG4zMDc6MjN8ICAgICAgICAgICAgZXJyb3JfbXNnID0gZlwiVW5leHBlY3RlZCBlcnJvcjoge3N0cihlKX1cIlxyXG4zMDg6NGF8ICAgICAgICAgICAgcmV0dXJuIHtcclxuMzA5OmY1fCAgICAgICAgICAgICAgICBcInRpdGxlXCI6IHJlc3VsdC5nZXQoXCJ0aXRsZVwiLCBcIlwiKSxcclxuMzEwOjIxfCAgICAgICAgICAgICAgICBcInVybFwiOiB1cmwsXHJcbjMxMTpiM3wgICAgICAgICAgICAgICAgXCJzbmlwcGV0XCI6IHJlc3VsdC5nZXQoXCJjb250ZW50XCIsIFwiXCIpLFxyXG4zMTI6YWN8ICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogZXJyb3JfbXNnLFxyXG4zMTM6MTJ8ICAgICAgICAgICAgICAgIFwic291cFwiOiBOb25lXHJcbjMxNDoxOHwgICAgICAgICAgICB9XHJcbjMxNTowNXxcclxuMzE2OjJkfCMgLS0tIEV2ZW50IEVtaXR0ZXIgLS0tXHJcbjMxNzpmNXxjbGFzcyBNQ1BFdmVudEVtaXR0ZXI6XHJcbjMxODo3MXwgICAgZGVmIF9faW5pdF9fKHNlbGYsIHNlbmRfbm90aWZpY2F0aW9uX2Z1bmM6IENhbGxhYmxlW1tzdHIsIEFueV0sIEF3YWl0YWJsZVtOb25lXV0pOlxyXG4zMTk6ZjR8ICAgICAgICBzZWxmLnNlbmRfbm90aWZpY2F0aW9uX2Z1bmMgPSBzZW5kX25vdGlmaWNhdGlvbl9mdW5jXHJcbjMyMDowNXxcclxuMzIxOjQ3fCAgICBhc3luYyBkZWYgZW1pdChzZWxmLCBkZXNjcmlwdGlvbjogc3RyID0gXCJVbmtub3duIFN0YXRlXCIsIHN0YXR1czogc3RyID0gXCJpbl9wcm9ncmVzc1wiLCBkb25lOiBib29sID0gRmFsc2UsIHN0ZXBfbnVtYmVyOiBPcHRpb25hbFtmbG9hdF0gPSBOb25lKTpcclxuMzIyOjVkfCAgICAgICAgbWVzc2FnZV9kYXRhID0ge1wic3RhdHVzXCI6IHN0YXR1cywgXCJkZXNjcmlwdGlvblwiOiBkZXNjcmlwdGlvbiwgXCJkb25lXCI6IGRvbmV9XHJcbjMyMzplNnwgICAgICAgIGlmIHN0ZXBfbnVtYmVyIGlzIG5vdCBOb25lOlxyXG4zMjQ6ZDh8ICAgICAgICAgICAgbWVzc2FnZV9kYXRhW1wic3RlcFwiXSA9IHN0ZXBfbnVtYmVyXHJcbjMyNTpjNXwgICAgICAgIGF3YWl0IHNlbGYuc2VuZF9ub3RpZmljYXRpb25fZnVuYyhcInRvb2wvZXZlbnRcIiwge1widHlwZVwiOiBcInN0YXR1c1wiLCBcImRhdGFcIjogbWVzc2FnZV9kYXRhfSlcclxuMzI2OjA1fFxyXG4zMjc6Mzh8ICAgIGFzeW5jIGRlZiBlbWl0X2NpdGF0aW9uKHNlbGYsIHNvdXA6IE9wdGlvbmFsW0JlYXV0aWZ1bFNvdXBdLCByZXN1bHRfZGF0YTogRGljdFtzdHIsIEFueV0pOlxyXG4zMjg6ZGV8ICAgICAgICBwdWJfZGF0ZV9zdHIgPSBOb25lXHJcbjMyOTpmY3wgICAgICAgIGF1dGhvcl9zdHIgPSBOb25lXHJcbjMzMDo2YXwgICAgICAgIGlmIHNvdXA6XHJcbjMzMTo2YXwgICAgICAgICAgICBkYXRlX3NlbGVjdG9ycyA9IFtcclxuMzMyOmI0fCAgICAgICAgICAgICAgICB7J3Byb3BlcnR5JzogJ2FydGljbGU6cHVibGlzaGVkX3RpbWUnfSwgeyduYW1lJzogJ2RhdGVQdWJsaXNoZWQnfSwgeydpdGVtcHJvcCc6ICdkYXRlUHVibGlzaGVkJ30sXHJcbjMzMzpiMHwgICAgICAgICAgICAgICAgeyduYW1lJzogJ3B1YmRhdGUnfSwgeyduYW1lJzogJ2NyZWF0aW9uX2RhdGUnfSwgeyduYW1lJzogJ2RhdGUnfSwgeyduYW1lJzogJ2RjdGVybXMuZGF0ZSd9LCB7J25hbWUnOiAnREMuZGF0ZS5pc3N1ZWQnfVxyXG4zMzQ6Zjl8ICAgICAgICAgICAgXVxyXG4zMzU6Mjd8ICAgICAgICAgICAgZm9yIHNlbGVjdG9yIGluIGRhdGVfc2VsZWN0b3JzOlxyXG4zMzY6MTN8ICAgICAgICAgICAgICAgIHRhZyA9IHNvdXAuZmluZCgnbWV0YScsIHNlbGVjdG9yKVxyXG4zMzc6NjN8ICAgICAgICAgICAgICAgIGlmIHRhZyBhbmQgdGFnLmdldCgnY29udGVudCcpOlxyXG4zMzg6ZGN8ICAgICAgICAgICAgICAgICAgICB0cnk6XHJcbjMzOTo2MHwgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRfZGF0ZSA9IGRhdGVfcGFyc2VyLnBhcnNlKHRhZ1snY29udGVudCddKVxyXG4zNDA6NzF8ICAgICAgICAgICAgICAgICAgICAgICAgcHViX2RhdGVfc3RyID0gcGFyc2VkX2RhdGUuc3RyZnRpbWUoJyVZLSVtLSVkJylcclxuMzQxOjk1fCAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbjM0Mjo0MXwgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCAoVmFsdWVFcnJvciwgT3ZlcmZsb3dFcnJvciwgVHlwZUVycm9yKTpcclxuMzQzOjg0fCAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NcclxuMzQ0OjBmfCAgICAgICAgICAgIGF1dGhvcl9zZWxlY3RvcnMgPSBbeyduYW1lJzogJ2F1dGhvcid9LCB7J3Byb3BlcnR5JzogJ2FydGljbGU6YXV0aG9yJ30sIHsnbmFtZSc6ICdjcmVhdG9yJ30sIHsnbmFtZSc6ICdEQy5jcmVhdG9yJ31dXHJcbjM0NTpkZnwgICAgICAgICAgICBmb3Igc2VsZWN0b3IgaW4gYXV0aG9yX3NlbGVjdG9yczpcclxuMzQ2OjEzfCAgICAgICAgICAgICAgICB0YWcgPSBzb3VwLmZpbmQoJ21ldGEnLCBzZWxlY3RvcilcclxuMzQ3OjYzfCAgICAgICAgICAgICAgICBpZiB0YWcgYW5kIHRhZy5nZXQoJ2NvbnRlbnQnKTpcclxuMzQ4OjZjfCAgICAgICAgICAgICAgICAgICAgYXV0aG9yX3N0ciA9IHRhZ1snY29udGVudCddLnN0cmlwKClcclxuMzQ5Ojk1fCAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuMzUwOjQ1fCAgICAgICAgZG9jX2NvbnRlbnQgPSByZXN1bHRfZGF0YS5nZXQoXCJjb250ZW50XCIpIG9yIHJlc3VsdF9kYXRhLmdldChcInNuaXBwZXRcIikgb3IgcmVzdWx0X2RhdGEuZ2V0KFwidGl0bGVcIiwgXCJcIilcclxuMzUxOjllfCAgICAgICAgbWV0YWRhdGEgPSB7XCJzb3VyY2VcIjogcmVzdWx0X2RhdGFbXCJ1cmxcIl0sIFwiZGF0ZV9hY2Nlc3NlZFwiOiBkYXRldGltZS5ub3codGltZXpvbmUudXRjKS5pc29mb3JtYXQoKSwgXCJ0aXRsZVwiOiByZXN1bHRfZGF0YVtcInRpdGxlXCJdfVxyXG4zNTI6NjB8ICAgICAgICBpZiBwdWJfZGF0ZV9zdHI6XHJcbjM1Mzo4ZnwgICAgICAgICAgICBtZXRhZGF0YVtcImRhdGVfcHVibGlzaGVkXCJdID0gcHViX2RhdGVfc3RyXHJcbjM1NDo4N3wgICAgICAgIGlmIGF1dGhvcl9zdHI6XHJcbjM1NTplNXwgICAgICAgICAgICBtZXRhZGF0YVtcImF1dGhvclwiXSA9IGF1dGhvcl9zdHJcclxuMzU2OmVhfCAgICAgICAgc291cmNlX2luZm8gPSB7XCJuYW1lXCI6IHJlc3VsdF9kYXRhW1widGl0bGVcIl0sIFwidXJsXCI6IHJlc3VsdF9kYXRhW1widXJsXCJdfVxyXG4zNTc6ZDl8ICAgICAgICBpZiByZXN1bHRfZGF0YS5nZXQoXCJpc19pbWFnZV9yZXN1bHRcIik6XHJcbjM1ODo3M3wgICAgICAgICAgICBzb3VyY2VfaW5mb1tcInR5cGVcIl0gPSBcImltYWdlXCJcclxuMzU5OmQzfCAgICAgICAgZWxpZiByZXN1bHRfZGF0YS5nZXQoXCJpc192aWRlb19yZXN1bHRcIik6XHJcbjM2MDo1NnwgICAgICAgICAgICBzb3VyY2VfaW5mb1tcInR5cGVcIl0gPSBcInZpZGVvXCJcclxuMzYxOmRlfCAgICAgICAgZWxpZiByZXN1bHRfZGF0YS5nZXQoXCJpc19maWxlX3Jlc3VsdFwiKTpcclxuMzYyOmFifCAgICAgICAgICAgIHNvdXJjZV9pbmZvW1widHlwZVwiXSA9IFwiZmlsZVwiXHJcbjM2Mzo0MHwgICAgICAgIGVsaWYgcmVzdWx0X2RhdGEuZ2V0KFwiaXNfbWFwX3Jlc3VsdFwiKTpcclxuMzY0OjAzfCAgICAgICAgICAgIHNvdXJjZV9pbmZvW1widHlwZVwiXSA9IFwibWFwXCJcclxuMzY1Ojk1fCAgICAgICAgZWxpZiByZXN1bHRfZGF0YS5nZXQoXCJpc19zb2NpYWxfcmVzdWx0XCIpOlxyXG4zNjY6MTl8ICAgICAgICAgICAgc291cmNlX2luZm9bXCJ0eXBlXCJdID0gXCJzb2NpYWxfbWVkaWFfcG9zdFwiXHJcbjM2NzozYXwgICAgICAgIGVsaWYgXCJleGNlcnB0XCIgaW4gcmVzdWx0X2RhdGE6XHJcbjM2ODpiMXwgICAgICAgICAgICBzb3VyY2VfaW5mb1tcInR5cGVcIl0gPSBcIndlYnBhZ2VcIlxyXG4zNjk6YzF8ICAgICAgICBjaXRhdGlvbl9kYXRhID0ge1wiZG9jdW1lbnRcIjogW2RvY19jb250ZW50XSwgXCJtZXRhZGF0YVwiOiBbbWV0YWRhdGFdLCBcInNvdXJjZVwiOiBzb3VyY2VfaW5mb31cclxuMzcwOmY0fCAgICAgICAgYXdhaXQgc2VsZi5zZW5kX25vdGlmaWNhdGlvbl9mdW5jKFwidG9vbC9ldmVudFwiLCB7XCJ0eXBlXCI6IFwiY2l0YXRpb25cIiwgXCJkYXRhXCI6IGNpdGF0aW9uX2RhdGF9KVxyXG4zNzE6MDV8XHJcbjM3MjoxOHwjIC0tLSBDb25maWd1cmF0aW9uIE1hbmFnZW1lbnQgLS0tXHJcbjM3Mzo2MHxjbGFzcyBUb29sczpcclxuMzc0OmE3fCAgICBjbGFzcyBWYWx2ZXMoQmFzZU1vZGVsKTpcclxuMzc1OjI1fCAgICAgICAgU0VBUlhOR19FTkdJTkVfQVBJX0JBU0VfVVJMOiBzdHIgPSBGaWVsZChkZWZhdWx0PVwiaHR0cDovL2hvc3QuZG9ja2VyLmludGVybmFsOjgwODAvc2VhcmNoXCIpXHJcbjM3NjowN3wgICAgICAgIElHTk9SRURfV0VCU0lURVM6IHN0ciA9IEZpZWxkKGRlZmF1bHQ9XCJcIilcclxuMzc3OjY0fCAgICAgICAgUkVUVVJORURfU0NSQVBQRURfUEFHRVNfTk86IGludCA9IEZpZWxkKGRlZmF1bHQ9MywgZ2U9MSwgbGU9MjApXHJcbjM3ODowMHwgICAgICAgIFNDUkFQUEVEX1BBR0VTX05POiBpbnQgPSBGaWVsZChkZWZhdWx0PTUsIGdlPTEsIGxlPTMwKVxyXG4zNzk6M2F8ICAgICAgICBQQUdFX0NPTlRFTlRfV09SRFNfTElNSVQ6IGludCA9IEZpZWxkKGRlZmF1bHQ9NTAwMCwgZ2U9NTAsIGxlPTIwMDAwKVxyXG4zODA6Njh8ICAgICAgICBDSVRBVElPTl9MSU5LUzogYm9vbCA9IEZpZWxkKGRlZmF1bHQ9VHJ1ZSlcclxuMzgxOmQ0fCAgICAgICAgZGVzaXJlZF90aW1lem9uZTogc3RyID0gRmllbGQoZGVmYXVsdD1cIkFtZXJpY2EvTmV3X1lvcmtcIilcclxuMzgyOjM3fCAgICAgICAgVFJBRklMQVRVUkFfVElNRU9VVDogaW50ID0gRmllbGQoZGVmYXVsdD0xNSwgZ2U9NSwgbGU9NjApXHJcbjM4Mzo3M3wgICAgICAgIE1BWF9JTUFHRV9SRVNVTFRTOiBpbnQgPSBGaWVsZChkZWZhdWx0PTEwLCBnZT0xLCBsZT01MClcclxuMzg0OjlifCAgICAgICAgTUFYX1ZJREVPX1JFU1VMVFM6IGludCA9IEZpZWxkKGRlZmF1bHQ9MTAsIGdlPTEsIGxlPTUwKVxyXG4zODU6ZGR8ICAgICAgICBNQVhfRklMRV9SRVNVTFRTOiBpbnQgPSBGaWVsZChkZWZhdWx0PTUsIGdlPTEsIGxlPTIwKVxyXG4zODY6NzF8ICAgICAgICBNQVhfTUFQX1JFU1VMVFM6IGludCA9IEZpZWxkKGRlZmF1bHQ9NSwgZ2U9MSwgbGU9MjApXHJcbjM4NzpmMnwgICAgICAgIE1BWF9TT0NJQUxfUkVTVUxUUzogaW50ID0gRmllbGQoZGVmYXVsdD01LCBnZT0xLCBsZT0yMClcclxuMzg4OmRifCAgICAgICAgU0NSQVBJTkdfVElNRU9VVDogaW50ID0gRmllbGQoZGVmYXVsdD0yMCwgZ2U9NSwgbGU9MTIwKVxyXG4zODk6MGV8ICAgICAgICBDQUNIRV9NQVhTSVpFOiBpbnQgPSBGaWVsZChkZWZhdWx0PTEwMCwgZ2U9MTAsIGxlPTEwMDApXHJcbjM5MDowZHwgICAgICAgIENBQ0hFX1RUTF9NSU5VVEVTOiBpbnQgPSBGaWVsZChkZWZhdWx0PTUsIGdlPTEsIGxlPTE0NDApXHJcbjM5MTo1M3wgICAgICAgIFJBVEVfTElNSVRfUkVRVUVTVFNfUEVSX01JTlVURTogaW50ID0gRmllbGQoZGVmYXVsdD0xMCwgZ2U9MSwgbGU9NjApXHJcbjM5Mjo3OHwgICAgICAgIFJBVEVfTElNSVRfVElNRU9VVF9TRUNPTkRTOiBpbnQgPSBGaWVsZChkZWZhdWx0PTYwLCBnZT0xMCwgbGU9MzYwMClcclxuMzkzOmUyfCAgICAgICAgQ0FDSEVfTUFYX0FHRV9NSU5VVEVTOiBpbnQgPSBGaWVsZChkZWZhdWx0PTMwLCBnZT0xLCBsZT0xNDQwKVxyXG4zOTQ6MDV8ICAgICAgICBcclxuMzk1OjUzfCAgICAgICAgQHZhbGlkYXRvcignU0VBUlhOR19FTkdJTkVfQVBJX0JBU0VfVVJMJylcclxuMzk2OjA1fCAgICAgICAgZGVmIHZhbGlkYXRlX3NlYXJ4bmdfdXJsKGNscywgdik6XHJcbjM5Nzo4M3wgICAgICAgICAgICBpZiBub3Qgdi5zdGFydHN3aXRoKCgnaHR0cDovLycsICdodHRwczovLycpKTpcclxuMzk4OjQyfCAgICAgICAgICAgICAgICByYWlzZSBDb25maWd1cmF0aW9uRXJyb3IoZlwiU0VBUlhOR19FTkdJTkVfQVBJX0JBU0VfVVJMIG11c3Qgc3RhcnQgd2l0aCBodHRwOi8vIG9yIGh0dHBzOi8vLCBnb3Qge3Z9XCIpXHJcbjM5OTo3N3wgICAgICAgICAgICByZXR1cm4gdlxyXG40MDA6MDV8ICAgICAgICAgICAgXHJcbjQwMTpjMnwgICAgICAgIEB2YWxpZGF0b3IoJ2Rlc2lyZWRfdGltZXpvbmUnKVxyXG40MDI6Yzl8ICAgICAgICBkZWYgdmFsaWRhdGVfdGltZXpvbmUoY2xzLCB2KTpcclxuNDAzOmRjfCAgICAgICAgICAgIHRyeTpcclxuNDA0OmU0fCAgICAgICAgICAgICAgICBab25lSW5mbyh2KVxyXG40MDU6Nzd8ICAgICAgICAgICAgICAgIHJldHVybiB2XHJcbjQwNjo3ZHwgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XHJcbjQwNzpmYXwgICAgICAgICAgICAgICAgcmFpc2UgQ29uZmlndXJhdGlvbkVycm9yKGZcIkludmFsaWQgdGltZXpvbmU6IHt2fS4gRXJyb3I6IHtzdHIoZSl9LiBTZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl90el9kYXRhYmFzZV90aW1lX3pvbmVzIGZvciBhIGxpc3Qgb2YgdmFsaWQgdGltZXpvbmVzLlwiKVxyXG40MDg6MDV8ICAgICAgICAgICAgICAgIFxyXG40MDk6Y2R8ICAgICAgICBAcm9vdF92YWxpZGF0b3IocHJlPVRydWUpXHJcbjQxMDo2MHwgICAgICAgIGRlZiBjaGVja19wYWdlX2xpbWl0cyhjbHMsIHZhbHVlcyk6XHJcbjQxMTo1ZXwgICAgICAgICAgICBpZiAnU0NSQVBQRURfUEFHRVNfTk8nIGluIHZhbHVlcyBhbmQgJ1JFVFVSTkVEX1NDUkFQUEVEX1BBR0VTX05PJyBpbiB2YWx1ZXM6XHJcbjQxMjozNnwgICAgICAgICAgICAgICAgaWYgdmFsdWVzWydTQ1JBUFBFRF9QQUdFU19OTyddIDwgdmFsdWVzWydSRVRVUk5FRF9TQ1JBUFBFRF9QQUdFU19OTyddOlxyXG40MTM6YjZ8ICAgICAgICAgICAgICAgICAgICByYWlzZSBDb25maWd1cmF0aW9uRXJyb3IoXHJcbjQxNDphY3wgICAgICAgICAgICAgICAgICAgICAgICBmXCJTQ1JBUFBFRF9QQUdFU19OTyAoe3ZhbHVlc1snU0NSQVBQRURfUEFHRVNfTk8nXX0pIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIFwiXHJcbjQxNTo5ZnwgICAgICAgICAgICAgICAgICAgICAgICBmXCJSRVRVUk5FRF9TQ1JBUFBFRF9QQUdFU19OTyAoe3ZhbHVlc1snUkVUVVJORURfU0NSQVBQRURfUEFHRVNfTk8nXX0pXCJcclxuNDE2OjhlfCAgICAgICAgICAgICAgICAgICAgKVxyXG40MTc6YTd8ICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1xyXG40MTg6MDV8XHJcbjQxOTowMHwgICAgQHN0YXRpY21ldGhvZFxyXG40MjA6MTh8ICAgIGRlZiBsb2FkX2NvbmZpZ19maWxlKGNvbmZpZ19wYXRoOiBzdHIpIC0+IGRpY3Q6XHJcbjQyMTpkY3wgICAgICAgIHRyeTpcclxuNDIyOjE1fCAgICAgICAgICAgIHdpdGggb3Blbihjb25maWdfcGF0aCwgXCJyXCIsIGVuY29kaW5nPVwidXRmLThcIikgYXMgZjpcclxuNDIzOjA1fCAgICAgICAgICAgICAgICByZXR1cm4ganNvbi5sb2FkKGYpXHJcbjQyNDoxN3wgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246XHJcbjQyNTphZXwgICAgICAgICAgICByZXR1cm4ge31cclxuNDI2OjA1fFxyXG40Mjc6MDB8ICAgIEBzdGF0aWNtZXRob2RcclxuNDI4OjE2fCAgICBkZWYgc2F2ZV9jb25maWdfZmlsZShjb25maWdfcGF0aDogc3RyLCBjb25maWc6IGRpY3QpOlxyXG40Mjk6ZGN8ICAgICAgICB0cnk6XHJcbjQzMDo5OHwgICAgICAgICAgICB3aXRoIG9wZW4oY29uZmlnX3BhdGgsIFwid1wiLCBlbmNvZGluZz1cInV0Zi04XCIpIGFzIGY6XHJcbjQzMToxZHwgICAgICAgICAgICAgICAganNvbi5kdW1wKGNvbmZpZywgZiwgaW5kZW50PTIpXHJcbjQzMjo3ZHwgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcclxuNDMzOjM5fCAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmXCJGYWlsZWQgdG8gc2F2ZSBjb25maWc6IHtlfVwiKVxyXG40MzQ6MDV8XHJcbjQzNTo3MXwgICAgZGVmIF9faW5pdF9fKHNlbGYsIHNlbmRfbm90aWZpY2F0aW9uX2Z1bmM6IENhbGxhYmxlW1tzdHIsIEFueV0sIEF3YWl0YWJsZVtOb25lXV0pOlxyXG40MzY6OTF8ICAgICAgICBcIlwiXCJcclxuNDM3OmY2fCAgICAgICAgSW5pdGlhbGl6ZSB0aGUgVG9vbHMgY2xhc3Mgd2l0aCBjb25maWd1cmF0aW9uIGZyb20gc2NyaXB0IGRlZmF1bHRzLCBjb25maWcgZmlsZSwgYW5kIGVudmlyb25tZW50IHZhcmlhYmxlcy5cclxuNDM4OmNifCAgICAgICAgQ29uZmlndXJhdGlvbiBpcyBsb2FkZWQgaW4gdGhlIGZvbGxvd2luZyBwcmlvcml0eSBvcmRlcjpcclxuNDM5OmVifCAgICAgICAgMS4gU2NyaXB0IGRlZmF1bHRzIChsb3dlc3QgcHJpb3JpdHkpXHJcbjQ0MDo5Y3wgICAgICAgIDIuIENvbmZpZyBmaWxlIChtaWRkbGUgcHJpb3JpdHkpXHJcbjQ0MTowOHwgICAgICAgIDMuIEVudmlyb25tZW50IHZhcmlhYmxlcyAoaGlnaGVzdCBwcmlvcml0eSlcclxuNDQyOjA1fCAgICAgICAgXHJcbjQ0MzplNHwgICAgICAgIFRoZSBjb25maWcgZmlsZSBpcyBvbmx5IHdyaXR0ZW4gaWY6XHJcbjQ0NDowNnwgICAgICAgIC0gSXQgZG9lc24ndCBleGlzdCB5ZXQgKGZpcnN0LXRpbWUgaW5pdGlhbGl6YXRpb24pXHJcbjQ0NTplOHwgICAgICAgIC0gRW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSBleHBsaWNpdGx5IHByb3ZpZGVkIGZvciB0aGlzIHJ1blxyXG40NDY6OTF8ICAgICAgICBcIlwiXCJcclxuNDQ3OmU3fCAgICAgICAgIyAxLiBMb2FkIGRlZmF1bHRzIGZyb20gc2NyaXB0XHJcbjQ0ODo4N3wgICAgICAgIHNjcmlwdF9kZWZhdWx0cyA9IHNlbGYuVmFsdmVzKCkuZGljdCgpXHJcbjQ0OTowNXwgICAgICAgIFxyXG40NTA6ZDZ8ICAgICAgICAjIDIuIFRyeSB0byBsb2FkIGNvbmZpZyBmaWxlIChkZWZhdWx0OiAvY29uZmlnL29kc19jb25maWcuanNvbiwgZmFsbGJhY2s6IC4vb2RzX2NvbmZpZy5qc29uKVxyXG40NTE6NWF8ICAgICAgICBjb25maWdfcGF0aCA9IG9zLmdldGVudihcIk9EU19DT05GSUdfUEFUSFwiLCBcIi9jb25maWcvb2RzX2NvbmZpZy5qc29uXCIpXHJcbjQ1MjpiMXwgICAgICAgIGlmIG5vdCBwYXRobGliLlBhdGgoY29uZmlnX3BhdGgpLmV4aXN0cygpOlxyXG40NTM6YjJ8ICAgICAgICAgICAgY29uZmlnX3BhdGggPSBcIi4vb2RzX2NvbmZpZy5qc29uXCJcclxuNDU0OjA1fCAgICAgICAgXHJcbjQ1NTozNHwgICAgICAgIGZpbGVfZXhpc3RzID0gcGF0aGxpYi5QYXRoKGNvbmZpZ19wYXRoKS5leGlzdHMoKVxyXG40NTY6OWV8ICAgICAgICBmaWxlX2NvbmZpZyA9IHNlbGYubG9hZF9jb25maWdfZmlsZShjb25maWdfcGF0aClcclxuNDU3OjA1fCAgICAgICAgXHJcbjQ1ODpiOXwgICAgICAgICMgMy4gTG9hZCBmcm9tIGVudiB2YXJzXHJcbjQ1OTowYXwgICAgICAgIGVudl92YXJzX3ByZXNlbnQgPSBGYWxzZVxyXG40NjA6Mjh8ICAgICAgICBlbnZfY29uZmlnID0ge31cclxuNDYxOjA1fCAgICAgICAgXHJcbjQ2MjpmY3wgICAgICAgICMgU3BlY2lhbCBoYW5kbGluZyBmb3IgREVTSVJFRF9USU1FWk9ORSB3aGljaCBoYXMgZGlmZmVyZW50IGNhc2luZyBpbiB0aGUgbW9kZWxcclxuNDYzOmY5fCAgICAgICAgZGVzaXJlZF90eiA9IG9zLmdldGVudihcIkRFU0lSRURfVElNRVpPTkVcIilcclxuNDY0OmJkfCAgICAgICAgaWYgZGVzaXJlZF90eiBpcyBub3QgTm9uZTpcclxuNDY1OmU1fCAgICAgICAgICAgIGVudl92YXJzX3ByZXNlbnQgPSBUcnVlXHJcbjQ2Njo2M3wgICAgICAgICAgICBlbnZfY29uZmlnW1wiZGVzaXJlZF90aW1lem9uZVwiXSA9IGRlc2lyZWRfdHpcclxuNDY3OjA1fCAgICAgICAgXHJcbjQ2ODo1MHwgICAgICAgIGZvciBrIGluIHNjcmlwdF9kZWZhdWx0cy5rZXlzKCk6XHJcbjQ2OTphOHwgICAgICAgICAgICAjIFNraXAgZGVzaXJlZF90aW1lem9uZSBhcyBpdCdzIGhhbmRsZWQgc2VwYXJhdGVseVxyXG40NzA6MmR8ICAgICAgICAgICAgaWYgayA9PSBcImRlc2lyZWRfdGltZXpvbmVcIjpcclxuNDcxOjIwfCAgICAgICAgICAgICAgICBjb250aW51ZVxyXG40NzI6MDV8ICAgICAgICAgICAgICAgIFxyXG40NzM6NTh8ICAgICAgICAgICAgZW52X3ZhbHVlID0gb3MuZ2V0ZW52KGsudXBwZXIoKSwgTm9uZSlcclxuNDc0OjExfCAgICAgICAgICAgIGlmIGVudl92YWx1ZSBpcyBub3QgTm9uZTpcclxuNDc1OmU1fCAgICAgICAgICAgICAgICBlbnZfdmFyc19wcmVzZW50ID0gVHJ1ZVxyXG40NzY6MjF8ICAgICAgICAgICAgICAgIGRlZmF1bHRfdHlwZSA9IHR5cGUoc2NyaXB0X2RlZmF1bHRzW2tdKVxyXG40Nzc6ZGN8ICAgICAgICAgICAgICAgIHRyeTpcclxuNDc4OjdmfCAgICAgICAgICAgICAgICAgICAgaWYgZGVmYXVsdF90eXBlIGlzIGJvb2w6XHJcbjQ3OTo4Y3wgICAgICAgICAgICAgICAgICAgICAgICBlbnZfY29uZmlnW2tdID0gZW52X3ZhbHVlLmxvd2VyKCkgPT0gXCJ0cnVlXCJcclxuNDgwOjA1fCAgICAgICAgICAgICAgICAgICAgZWxzZTpcclxuNDgxOmMyfCAgICAgICAgICAgICAgICAgICAgICAgIGVudl9jb25maWdba10gPSBkZWZhdWx0X3R5cGUoZW52X3ZhbHVlKVxyXG40ODI6MTd8ICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246XHJcbjQ4Mzo3MnwgICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuaW5nKGZcIkludmFsaWQgZW52aXJvbm1lbnQgdmFyaWFibGUgdmFsdWUgZm9yIHtrLnVwcGVyKCl9OiB7ZW52X3ZhbHVlfVwiKVxyXG40ODQ6NjR8ICAgICAgICAgICAgICAgICAgICBlbnZfY29uZmlnW2tdID0gc2NyaXB0X2RlZmF1bHRzW2tdXHJcbjQ4NTowNXwgICAgICAgIFxyXG40ODY6ZWF8ICAgICAgICAjIDQuIE1lcmdlOiBzY3JpcHRfZGVmYXVsdHMgPCBmaWxlX2NvbmZpZyA8IGVudl9jb25maWdcclxuNDg3OjVjfCAgICAgICAgbWVyZ2VkID0geyoqc2NyaXB0X2RlZmF1bHRzLCAqKihmaWxlX2NvbmZpZyBvciB7fSksICoqZW52X2NvbmZpZ31cclxuNDg4OjE2fCAgICAgICAgc2VsZi52YWx2ZXMgPSBzZWxmLlZhbHZlcygqKm1lcmdlZClcclxuNDg5OjA1fCAgICAgICAgXHJcbjQ5MDozOXwgICAgICAgICMgNS4gU2F2ZSBjb25maWcgZmlsZSBPTkxZIGluIHRoZXNlIGNhc2VzOlxyXG40OTE6NWR8ICAgICAgICAjIC0gSWYgdGhlIGZpbGUgZG9lc24ndCBleGlzdCB5ZXQgKGZpcnN0LXRpbWUgaW5pdGlhbGl6YXRpb24pXHJcbjQ5MjoyNnwgICAgICAgICMgLSBJZiBlbnZpcm9ubWVudCB2YXJpYWJsZXMgd2VyZSBwcm92aWRlZCBmb3IgdGhpcyBydW5cclxuNDkzOjg4fCAgICAgICAgaWYgKG5vdCBmaWxlX2V4aXN0cyBvciBlbnZfdmFyc19wcmVzZW50KTpcclxuNDk0OjUxfCAgICAgICAgICAgIGxvZ2dlci5pbmZvKGZcIlNhdmluZyBjb25maWd1cmF0aW9uIHRvIHtjb25maWdfcGF0aH0gKHJlYXNvbjogeydmaXJzdCBydW4nIGlmIG5vdCBmaWxlX2V4aXN0cyBlbHNlICdlbnYgdmFycyBwcm92aWRlZCd9KVwiKVxyXG40OTU6ZTl8ICAgICAgICAgICAgc2VsZi5zYXZlX2NvbmZpZ19maWxlKGNvbmZpZ19wYXRoLCBtZXJnZWQpXHJcbjQ5NjowNXwgICAgICAgIFxyXG40OTc6MDJ8ICAgICAgICBsb2dnZXIuaW5mbyhmXCJJbml0aWFsaXppbmcgd2l0aCB0aW1lem9uZToge3NlbGYudmFsdmVzLmRlc2lyZWRfdGltZXpvbmV9XCIpXHJcbjQ5ODpmMHwgICAgICAgIGdsb2JhbCB3ZWJzaXRlX2NhY2hlXHJcbjQ5OTo5MXwgICAgICAgIHdlYnNpdGVfY2FjaGUgPSBUVExDYWNoZShcclxuNTAwOmYzfCAgICAgICAgICAgIG1heHNpemU9c2VsZi52YWx2ZXMuQ0FDSEVfTUFYU0laRSxcclxuNTAxOjc4fCAgICAgICAgICAgIHR0bD10aW1lZGVsdGEobWludXRlcz1zZWxmLnZhbHZlcy5DQUNIRV9UVExfTUlOVVRFUykudG90YWxfc2Vjb25kcygpXHJcbjUwMjo4ZXwgICAgICAgIClcclxuNTAzOjMwfCAgICAgICAgbG9nZ2VyLmluZm8oZlwiV2Vic2l0ZSBjYWNoZSBpbml0aWFsaXplZDogbWF4c2l6ZT17c2VsZi52YWx2ZXMuQ0FDSEVfTUFYU0laRX0sIHR0bD17c2VsZi52YWx2ZXMuQ0FDSEVfVFRMX01JTlVURVN9IG1pbnV0ZXNcIilcclxuNTA0Ojg0fCAgICAgICAgc2VsZi5oZWFkZXJzID0ge1xyXG41MDU6MTV8ICAgICAgICAgICAgXCJVc2VyLUFnZW50XCI6IFwiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzU4LjAuMzAyOS4xMTAgU2FmYXJpLzUzNy4zXCJcclxuNTA2OjE4fCAgICAgICAgfVxyXG41MDc6ZDJ8ICAgICAgICBzZWxmLmZ1bmN0aW9ucyA9IEhlbHBlckZ1bmN0aW9ucygpXHJcbjUwODphZnwgICAgICAgIHNlbGYuZW1pdHRlciA9IE1DUEV2ZW50RW1pdHRlcihzZW5kX25vdGlmaWNhdGlvbl9mdW5jKVxyXG41MDk6N2N8ICAgICAgICBzZWxmLmNsaWVudCA9IGh0dHB4LkFzeW5jQ2xpZW50KGhlYWRlcnM9c2VsZi5oZWFkZXJzLCBmb2xsb3dfcmVkaXJlY3RzPVRydWUpXHJcbjUxMDowNXxcclxuNTExOmZkfCAgICAjIC0tLSBUb29sIE1ldGhvZHMgLS0tXHJcbjUxMjoxZXwgICAgYXN5bmMgZGVmIHNlYXJjaF93ZWIoc2VsZiwgcXVlcnk6IHN0ciwgZW5naW5lczogT3B0aW9uYWxbc3RyXSA9IE5vbmUsIGNhdGVnb3J5OiBPcHRpb25hbFtzdHJdID0gXCJnZW5lcmFsXCIsIHNhZmVzZWFyY2g6IE9wdGlvbmFsW3N0cl0gPSBOb25lLCB0aW1lX3JhbmdlOiBPcHRpb25hbFtzdHJdID0gTm9uZSkgLT4gc3RyOlxyXG41MTM6MjR8ICAgICAgICBzYWZlX2NhdGVnb3J5ID0gY2F0ZWdvcnkubG93ZXIoKS5zdHJpcCgpIGlmIGNhdGVnb3J5IGVsc2UgXCJnZW5lcmFsXCJcclxuNTE0OjdifCAgICAgICAgc2VhcmNoX3R5cGUgPSBzYWZlX2NhdGVnb3J5IGlmIHNhZmVfY2F0ZWdvcnkgIT0gXCJnZW5lcmFsXCIgZWxzZSBcIndlYlwiXHJcbjUxNTo1MHwgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KGZcIvCflI0gU3RhcnRpbmcge3NlYXJjaF90eXBlfSBzZWFyY2hcIiwgc3RlcF9udW1iZXI9MSlcclxuNTE2OjQ0fCAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoZlwi8J+TnSBTZWFyY2hpbmcgZm9yIHF1ZXJ5OiB7cXVlcnl9XCIsIHN0ZXBfbnVtYmVyPTIpXHJcbjUxNzpkZXwgICAgICAgIHBhcmFtcyA9IHtcInFcIjogcXVlcnksIFwiZm9ybWF0XCI6IFwianNvblwiLCBcInBhZ2Vub1wiOiAxfVxyXG41MTg6Y2J8ICAgICAgICBpZiBlbmdpbmVzOlxyXG41MTk6ZWJ8ICAgICAgICAgICAgcGFyYW1zW1wiZW5naW5lc1wiXSA9IGVuZ2luZXNcclxuNTIwOjgxfCAgICAgICAgcGFyYW1zW1wiY2F0ZWdvcmllc1wiXSA9IHNhZmVfY2F0ZWdvcnlcclxuNTIxOjNifCAgICAgICAgaWYgc2FmZXNlYXJjaCBhbmQgc2FmZXNlYXJjaCBpbiBbXCIwXCIsIFwiMVwiLCBcIjJcIl06XHJcbjUyMjpjMnwgICAgICAgICAgICBwYXJhbXNbXCJzYWZlc2VhcmNoXCJdID0gc2FmZXNlYXJjaFxyXG41MjM6MjV8ICAgICAgICBpZiB0aW1lX3JhbmdlIGFuZCB0aW1lX3JhbmdlIGluIFtcImRheVwiLCBcIm1vbnRoXCIsIFwieWVhclwiXTpcclxuNTI0OmI0fCAgICAgICAgICAgIHBhcmFtc1tcInRpbWVfcmFuZ2VcIl0gPSB0aW1lX3JhbmdlXHJcbjUyNTphMnwgICAgICAgIHByb2Nlc3NlZF9yZXN1bHRzID0gW11cclxuNTI2OmRjfCAgICAgICAgdHJ5OlxyXG41Mjc6NGR8ICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoZlwi8J+MkCBDb25uZWN0aW5nIHRvIFNlYXJYTkcgYXQge3NlbGYudmFsdmVzLlNFQVJYTkdfRU5HSU5FX0FQSV9CQVNFX1VSTH1cIiwgc3RlcF9udW1iZXI9NClcclxuNTI4OjcxfCAgICAgICAgICAgIHJlc3AgPSBhd2FpdCBzZWxmLmNsaWVudC5nZXQoc2VsZi52YWx2ZXMuU0VBUlhOR19FTkdJTkVfQVBJX0JBU0VfVVJMLCBwYXJhbXM9cGFyYW1zLCB0aW1lb3V0PTEyMClcclxuNTI5OjRmfCAgICAgICAgICAgIHJlc3AucmFpc2VfZm9yX3N0YXR1cygpXHJcbjUzMDo2ZHwgICAgICAgICAgICBkYXRhID0gcmVzcC5qc29uKClcclxuNTMxOjRhfCAgICAgICAgICAgIHJlc3VsdHMgPSBkYXRhLmdldChcInJlc3VsdHNcIiwgW10pXHJcbjUzMjpiYXwgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChmXCLwn5OKIHtsZW4ocmVzdWx0cyl9IHJhdyByZXN1bHRzIGZvdW5kIGZvciBjYXRlZ29yeSAne3NhZmVfY2F0ZWdvcnl9J1wiLCBzdGVwX251bWJlcj01KVxyXG41MzM6Njd8ICAgICAgICBleGNlcHQgaHR0cHguSFRUUFN0YXR1c0Vycm9yIGFzIGU6XHJcbjUzNDpmNXwgICAgICAgICAgICBlcnJvcl9tc2cgPSBmXCJTZWFyWE5HIHNlYXJjaCBmYWlsZWQ6IHtlLnJlc3BvbnNlLnN0YXR1c19jb2RlfSB7ZS5yZXNwb25zZS5yZWFzb25fcGhyYXNlfVwiXHJcbjUzNTpiMnwgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJlcnJvclwiLCBkZXNjcmlwdGlvbj1mXCLinYwge2Vycm9yX21zZ31cIiwgZG9uZT1UcnVlKVxyXG41MzY6MDJ8ICAgICAgICAgICAgcmFpc2UgU2VhclhOR0Nvbm5lY3Rpb25FcnJvcihlcnJvcl9tc2cpIGZyb20gZVxyXG41Mzc6ZjF8ICAgICAgICBleGNlcHQgaHR0cHguUmVxdWVzdEVycm9yIGFzIGU6XHJcbjUzODo3NnwgICAgICAgICAgICBlcnJvcl9tc2cgPSBmXCJFcnJvciBjb25uZWN0aW5nIHRvIFNlYXJYTkc6IHtzdHIoZSl9XCJcclxuNTM5OmIyfCAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KHN0YXR1cz1cImVycm9yXCIsIGRlc2NyaXB0aW9uPWZcIuKdjCB7ZXJyb3JfbXNnfVwiLCBkb25lPVRydWUpXHJcbjU0MDowMnwgICAgICAgICAgICByYWlzZSBTZWFyWE5HQ29ubmVjdGlvbkVycm9yKGVycm9yX21zZykgZnJvbSBlXHJcbjU0MTpiNHwgICAgICAgIGV4Y2VwdCBqc29uLkpTT05EZWNvZGVFcnJvciBhcyBlOlxyXG41NDI6ZTN8ICAgICAgICAgICAgZXJyb3JfbXNnID0gZlwiRXJyb3IgZGVjb2RpbmcgU2VhclhORyByZXNwb25zZToge3N0cihlKX1cIlxyXG41NDM6YjJ8ICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoc3RhdHVzPVwiZXJyb3JcIiwgZGVzY3JpcHRpb249Zlwi4p2MIHtlcnJvcl9tc2d9XCIsIGRvbmU9VHJ1ZSlcclxuNTQ0OjAyfCAgICAgICAgICAgIHJhaXNlIFNlYXJYTkdDb25uZWN0aW9uRXJyb3IoZXJyb3JfbXNnKSBmcm9tIGVcclxuNTQ1OjdkfCAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxyXG41NDY6ODZ8ICAgICAgICAgICAgZXJyb3JfbXNnID0gZlwiVW5leHBlY3RlZCBlcnJvciBkdXJpbmcgc2VhcmNoOiB7c3RyKGUpfVwiXHJcbjU0NzpiMnwgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJlcnJvclwiLCBkZXNjcmlwdGlvbj1mXCLinYwge2Vycm9yX21zZ31cIiwgZG9uZT1UcnVlKVxyXG41NDg6MjR8ICAgICAgICAgICAgcmFpc2UgTUNQU2VydmVyRXJyb3IoZXJyb3JfbXNnKSBmcm9tIGVcclxuNTQ5OjA1fCAgICAgICAgICAgIFxyXG41NTA6MDl8ICAgICAgICBpZiBub3QgcmVzdWx0czpcclxuNTUxOjYxfCAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KHN0YXR1cz1cImNvbXBsZXRlXCIsIGRlc2NyaXB0aW9uPVwi4pyFIFNlYXJjaCBjb21wbGV0ZSAtIE5vIHJlc3VsdHMgZm91bmQuXCIsIGRvbmU9VHJ1ZSwgc3RlcF9udW1iZXI9NilcclxuNTUyOmRhfCAgICAgICAgICAgIHJldHVybiBcIk5vIHJlc3VsdHMgZm91bmQuXCJcclxuNTUzOjA1fCAgICAgICAgICAgIFxyXG41NTQ6MTV8ICAgICAgICBvdXRwdXRfcGFydHMgPSBbXVxyXG41NTU6OGN8ICAgICAgICBmaW5hbF9yZXN1bHRzX2NvdW50ID0gMFxyXG41NTY6ZTR8ICAgICAgICBjYXRlZ29yeV9saW1pdCA9IHtcclxuNTU3OjRmfCAgICAgICAgICAgIFwiaW1hZ2VzXCI6IHNlbGYudmFsdmVzLk1BWF9JTUFHRV9SRVNVTFRTLFxyXG41NTg6YmF8ICAgICAgICAgICAgXCJ2aWRlb3NcIjogc2VsZi52YWx2ZXMuTUFYX1ZJREVPX1JFU1VMVFMsXHJcbjU1OTo3M3wgICAgICAgICAgICBcImZpbGVzXCI6IHNlbGYudmFsdmVzLk1BWF9GSUxFX1JFU1VMVFMsXHJcbjU2MDo1MXwgICAgICAgICAgICBcIm1hcFwiOiBzZWxmLnZhbHZlcy5NQVhfTUFQX1JFU1VMVFMsXHJcbjU2MTo1MXwgICAgICAgICAgICBcInNvY2lhbCBtZWRpYVwiOiBzZWxmLnZhbHZlcy5NQVhfU09DSUFMX1JFU1VMVFMsXHJcbjU2Mjo3MnwgICAgICAgIH0uZ2V0KHNhZmVfY2F0ZWdvcnksIHNlbGYudmFsdmVzLlJFVFVSTkVEX1NDUkFQUEVEX1BBR0VTX05PKVxyXG41NjM6MDV8ICAgICAgICBcclxuNTY0OmNmfCAgICAgICAgIyBSYXRlIGxpbWl0ZXIgZm9yIHNjcmFwaW5nIG9wZXJhdGlvbnNcclxuNTY1OmMwfCAgICAgICAgcmF0ZV9saW1pdGVyID0gUmF0ZUxpbWl0ZXIoXHJcbjU2NjphNnwgICAgICAgICAgICByZXF1ZXN0c19wZXJfbWludXRlPXNlbGYudmFsdmVzLlJBVEVfTElNSVRfUkVRVUVTVFNfUEVSX01JTlVURSxcclxuNTY3OjZjfCAgICAgICAgICAgIHRpbWVvdXRfc2Vjb25kcz1zZWxmLnZhbHZlcy5SQVRFX0xJTUlUX1RJTUVPVVRfU0VDT05EU1xyXG41Njg6OGV8ICAgICAgICApXHJcbjU2OTowNXwgICAgICAgIFxyXG41NzA6MWV8ICAgICAgICBpZiBzYWZlX2NhdGVnb3J5ID09IFwiaW1hZ2VzXCI6XHJcbjU3MToyNnwgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChcIvCflrzvuI8gUHJvY2Vzc2luZyBpbWFnZSByZXN1bHRzXCIsIHN0ZXBfbnVtYmVyPTYpXHJcbjU3Mjo5N3wgICAgICAgICAgICBmb3IgaSwgcmVzdWx0IGluIGVudW1lcmF0ZShyZXN1bHRzWzpjYXRlZ29yeV9saW1pdF0pOlxyXG41NzM6ODF8ICAgICAgICAgICAgICAgIGlmIGkgPiAwOlxyXG41NzQ6ZDZ8ICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKFwiXFxuPT09PT09PT09PT09PT09PT09PT1cXG5cIilcclxuNTc1Ojc3fCAgICAgICAgICAgICAgICBpbWdfZGF0YSA9IHtcclxuNTc2OmY1fCAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiByZXN1bHQuZ2V0KFwidGl0bGVcIiwgXCJcIiksXHJcbjU3Nzo3ZHwgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IHJlc3VsdC5nZXQoXCJ1cmxcIiwgXCJcIiksXHJcbjU3ODo5N3wgICAgICAgICAgICAgICAgICAgIFwiaW1nX3NyY1wiOiByZXN1bHQuZ2V0KFwiaW1nX3NyY1wiLCBcIlwiKSxcclxuNTc5OjE3fCAgICAgICAgICAgICAgICAgICAgXCJpc19pbWFnZV9yZXN1bHRcIjogVHJ1ZVxyXG41ODA6MTh8ICAgICAgICAgICAgICAgIH1cclxuNTgxOjU3fCAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqVGl0bGU6Kioge2ltZ19kYXRhWyd0aXRsZSddIG9yICdOL0EnfVwiKVxyXG41ODI6ZDJ8ICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipJbWFnZSBVUkw6Kioge2ltZ19kYXRhWydpbWdfc3JjJ10gb3IgJ04vQSd9XCIpXHJcbjU4Mzo0NHwgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCIqKlNvdXJjZSBQYWdlOioqIHtpbWdfZGF0YVsndXJsJ10gb3IgJ04vQSd9XCIpXHJcbjU4NDowZnwgICAgICAgICAgICAgICAgaWYgaW1nX2RhdGFbJ2ltZ19zcmMnXTpcclxuNTg1OmQ4fCAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCJcXG4hW3tpbWdfZGF0YVsndGl0bGUnXSBvciAnSW1hZ2UnfV0oe2ltZ19kYXRhWydpbWdfc3JjJ119KVwiKVxyXG41ODY6ZDF8ICAgICAgICAgICAgICAgIHByb2Nlc3NlZF9yZXN1bHRzLmFwcGVuZChpbWdfZGF0YSlcclxuNTg3Ojg5fCAgICAgICAgICAgICAgICBpZiBzZWxmLnZhbHZlcy5DSVRBVElPTl9MSU5LUzpcclxuNTg4OmJlfCAgICAgICAgICAgICAgICAgICAgY2l0YXRpb25fY29udGVudCA9IGZcIkltYWdlIHNvdXJjZToge2ltZ19kYXRhWyd1cmwnXX1cIlxyXG41ODk6OWR8ICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdF9jaXRhdGlvbihOb25lLCB7XCJjb250ZW50XCI6IGNpdGF0aW9uX2NvbnRlbnQsICoqaW1nX2RhdGF9KVxyXG41OTA6NTV8ICAgICAgICAgICAgZmluYWxfcmVzdWx0c19jb3VudCA9IGxlbihwcm9jZXNzZWRfcmVzdWx0cylcclxuNTkxOmM2fCAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KHN0YXR1cz1cImNvbXBsZXRlXCIsIGRlc2NyaXB0aW9uPWZcIuKchSBJbWFnZSBzZWFyY2ggY29tcGxldGUgLSB7ZmluYWxfcmVzdWx0c19jb3VudH0gaW1hZ2VzIHJldHVybmVkLlwiLCBkb25lPVRydWUsIHN0ZXBfbnVtYmVyPTcpXHJcbjU5Mjo2MXwgICAgICAgIGVsaWYgc2FmZV9jYXRlZ29yeSA9PSBcInZpZGVvc1wiOlxyXG41OTM6YTR8ICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoXCLwn46sIFByb2Nlc3NpbmcgdmlkZW8gcmVzdWx0c1wiLCBzdGVwX251bWJlcj02KVxyXG41OTQ6OTd8ICAgICAgICAgICAgZm9yIGksIHJlc3VsdCBpbiBlbnVtZXJhdGUocmVzdWx0c1s6Y2F0ZWdvcnlfbGltaXRdKTpcclxuNTk1OjgxfCAgICAgICAgICAgICAgICBpZiBpID4gMDpcclxuNTk2OmQ2fCAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChcIlxcbj09PT09PT09PT09PT09PT09PT09XFxuXCIpXHJcbjU5NzozMXwgICAgICAgICAgICAgICAgdmlkX2RhdGEgPSB7XHJcbjU5ODpmNXwgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogcmVzdWx0LmdldChcInRpdGxlXCIsIFwiXCIpLFxyXG41OTk6N2R8ICAgICAgICAgICAgICAgICAgICBcInVybFwiOiByZXN1bHQuZ2V0KFwidXJsXCIsIFwiXCIpLFxyXG42MDA6OTF8ICAgICAgICAgICAgICAgICAgICBcImNvbnRlbnRcIjogcmVzdWx0LmdldChcImNvbnRlbnRcIiwgXCJcIiksXHJcbjYwMTpkMnwgICAgICAgICAgICAgICAgICAgIFwic291cmNlXCI6IHJlc3VsdC5nZXQoXCJzb3VyY2VcIiwgXCJcIiksXHJcbjYwMjozZHwgICAgICAgICAgICAgICAgICAgIFwiaWZyYW1lX3NyY1wiOiByZXN1bHQuZ2V0KFwiaWZyYW1lX3NyY1wiLCBcIlwiKSxcclxuNjAzOjk3fCAgICAgICAgICAgICAgICAgICAgXCJpc192aWRlb19yZXN1bHRcIjogVHJ1ZVxyXG42MDQ6MTh8ICAgICAgICAgICAgICAgIH1cclxuNjA1Ojg3fCAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqVGl0bGU6Kioge3ZpZF9kYXRhWyd0aXRsZSddIG9yICdOL0EnfVwiKVxyXG42MDY6YTB8ICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipVUkw6Kioge3ZpZF9kYXRhWyd1cmwnXSBvciAnTi9BJ31cIilcclxuNjA3OjA4fCAgICAgICAgICAgICAgICBpZiB2aWRfZGF0YS5nZXQoJ3NvdXJjZScpOlxyXG42MDg6MTh8ICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqU291cmNlOioqIHt2aWRfZGF0YVsnc291cmNlJ119XCIpXHJcbjYwOToyMHwgICAgICAgICAgICAgICAgaWYgdmlkX2RhdGEuZ2V0KCdpZnJhbWVfc3JjJyk6XHJcbjYxMDphMXwgICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipFbWJlZCBVUkw6Kioge3ZpZF9kYXRhWydpZnJhbWVfc3JjJ119XCIpXHJcbjYxMToyZnwgICAgICAgICAgICAgICAgaWYgdmlkX2RhdGEuZ2V0KCdjb250ZW50Jyk6XHJcbjYxMjphNHwgICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiXFxuKipEZXNjcmlwdGlvbjoqKlxcbnt2aWRfZGF0YVsnY29udGVudCddfVwiKVxyXG42MTM6NTV8ICAgICAgICAgICAgICAgIHByb2Nlc3NlZF9yZXN1bHRzLmFwcGVuZCh2aWRfZGF0YSlcclxuNjE0Ojg5fCAgICAgICAgICAgICAgICBpZiBzZWxmLnZhbHZlcy5DSVRBVElPTl9MSU5LUzpcclxuNjE1OmNjfCAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXRfY2l0YXRpb24oTm9uZSwgdmlkX2RhdGEpXHJcbjYxNjo1NXwgICAgICAgICAgICBmaW5hbF9yZXN1bHRzX2NvdW50ID0gbGVuKHByb2Nlc3NlZF9yZXN1bHRzKVxyXG42MTc6MmV8ICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoc3RhdHVzPVwiY29tcGxldGVcIiwgZGVzY3JpcHRpb249Zlwi4pyFIFZpZGVvIHNlYXJjaCBjb21wbGV0ZSAtIHtmaW5hbF9yZXN1bHRzX2NvdW50fSB2aWRlb3MgcmV0dXJuZWQuXCIsIGRvbmU9VHJ1ZSwgc3RlcF9udW1iZXI9NylcclxuNjE4Ojc5fCAgICAgICAgZWxpZiBzYWZlX2NhdGVnb3J5ID09IFwiZmlsZXNcIjpcclxuNjE5OjdlfCAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KFwi8J+TgSBQcm9jZXNzaW5nIGZpbGUgcmVzdWx0c1wiLCBzdGVwX251bWJlcj02KVxyXG42MjA6OTd8ICAgICAgICAgICAgZm9yIGksIHJlc3VsdCBpbiBlbnVtZXJhdGUocmVzdWx0c1s6Y2F0ZWdvcnlfbGltaXRdKTpcclxuNjIxOjgxfCAgICAgICAgICAgICAgICBpZiBpID4gMDpcclxuNjIyOmQ2fCAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChcIlxcbj09PT09PT09PT09PT09PT09PT09XFxuXCIpXHJcbjYyMzpmNXwgICAgICAgICAgICAgICAgZmlsZV9kYXRhID0ge1xyXG42MjQ6ZjV8ICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IHJlc3VsdC5nZXQoXCJ0aXRsZVwiLCBcIlwiKSxcclxuNjI1OjdkfCAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogcmVzdWx0LmdldChcInVybFwiLCBcIlwiKSxcclxuNjI2OjkxfCAgICAgICAgICAgICAgICAgICAgXCJjb250ZW50XCI6IHJlc3VsdC5nZXQoXCJjb250ZW50XCIsIFwiXCIpLFxyXG42Mjc6ZDh8ICAgICAgICAgICAgICAgICAgICBcInNpemVcIjogcmVzdWx0LmdldChcInNpemVcIiwgXCJcIiksXHJcbjYyODpkNHwgICAgICAgICAgICAgICAgICAgIFwiZm9ybWF0XCI6IHJlc3VsdC5nZXQoXCJmb3JtYXRcIiwgXCJcIiksXHJcbjYyOTpkOXwgICAgICAgICAgICAgICAgICAgIFwiaXNfZmlsZV9yZXN1bHRcIjogVHJ1ZVxyXG42MzA6MTh8ICAgICAgICAgICAgICAgIH1cclxuNjMxOmNlfCAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqVGl0bGU6Kioge2ZpbGVfZGF0YVsndGl0bGUnXSBvciAnTi9BJ31cIilcclxuNjMyOjU0fCAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqVVJMOioqIHtmaWxlX2RhdGFbJ3VybCddIG9yICdOL0EnfVwiKVxyXG42MzM6ZTN8ICAgICAgICAgICAgICAgIGlmIGZpbGVfZGF0YS5nZXQoJ2Zvcm1hdCcpOlxyXG42MzQ6OTR8ICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqRm9ybWF0OioqIHtmaWxlX2RhdGFbJ2Zvcm1hdCddfVwiKVxyXG42MzU6ZGJ8ICAgICAgICAgICAgICAgIGlmIGZpbGVfZGF0YS5nZXQoJ3NpemUnKTpcclxuNjM2Ojk2fCAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCIqKlNpemU6Kioge2ZpbGVfZGF0YVsnc2l6ZSddfVwiKVxyXG42Mzc6ODN8ICAgICAgICAgICAgICAgIGlmIGZpbGVfZGF0YS5nZXQoJ2NvbnRlbnQnKTpcclxuNjM4OmQ4fCAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCJcXG4qKlNuaXBwZXQ6KipcXG57ZmlsZV9kYXRhWydjb250ZW50J119XCIpXHJcbjYzOTpjMHwgICAgICAgICAgICAgICAgcHJvY2Vzc2VkX3Jlc3VsdHMuYXBwZW5kKGZpbGVfZGF0YSlcclxuNjQwOjg5fCAgICAgICAgICAgICAgICBpZiBzZWxmLnZhbHZlcy5DSVRBVElPTl9MSU5LUzpcclxuNjQxOjFjfCAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXRfY2l0YXRpb24oTm9uZSwgZmlsZV9kYXRhKVxyXG42NDI6NTV8ICAgICAgICAgICAgZmluYWxfcmVzdWx0c19jb3VudCA9IGxlbihwcm9jZXNzZWRfcmVzdWx0cylcclxuNjQzOjdhfCAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KHN0YXR1cz1cImNvbXBsZXRlXCIsIGRlc2NyaXB0aW9uPWZcIuKchSBGaWxlIHNlYXJjaCBjb21wbGV0ZSAtIHtmaW5hbF9yZXN1bHRzX2NvdW50fSBmaWxlcyByZXR1cm5lZC5cIiwgZG9uZT1UcnVlLCBzdGVwX251bWJlcj03KVxyXG42NDQ6Y2N8ICAgICAgICBlbGlmIHNhZmVfY2F0ZWdvcnkgPT0gXCJtYXBcIjpcclxuNjQ1Ojg5fCAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KFwi8J+Xuu+4jyBQcm9jZXNzaW5nIG1hcCByZXN1bHRzXCIsIHN0ZXBfbnVtYmVyPTYpXHJcbjY0NjpiN3wgICAgICAgICAgICBsaW1pdCA9IHNlbGYudmFsdmVzLk1BWF9NQVBfUkVTVUxUU1xyXG42NDc6ZjF8ICAgICAgICAgICAgZm9yIGksIHJlc3VsdCBpbiBlbnVtZXJhdGUocmVzdWx0c1s6bGltaXRdKTpcclxuNjQ4OjgxfCAgICAgICAgICAgICAgICBpZiBpID4gMDpcclxuNjQ5OmQ2fCAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChcIlxcbj09PT09PT09PT09PT09PT09PT09XFxuXCIpXHJcbjY1MDo1MHwgICAgICAgICAgICAgICAgbWFwX2RhdGEgPSB7XHJcbjY1MTpmNXwgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogcmVzdWx0LmdldChcInRpdGxlXCIsIFwiXCIpLFxyXG42NTI6N2R8ICAgICAgICAgICAgICAgICAgICBcInVybFwiOiByZXN1bHQuZ2V0KFwidXJsXCIsIFwiXCIpLFxyXG42NTM6OGN8ICAgICAgICAgICAgICAgICAgICBcImFkZHJlc3NcIjogcmVzdWx0LmdldChcImFkZHJlc3NcIiwgXCJcIiksXHJcbjY1NDplN3wgICAgICAgICAgICAgICAgICAgIFwibGF0aXR1ZGVcIjogcmVzdWx0LmdldChcImxhdGl0dWRlXCIpLFxyXG42NTU6MmF8ICAgICAgICAgICAgICAgICAgICBcImxvbmdpdHVkZVwiOiByZXN1bHQuZ2V0KFwibG9uZ2l0dWRlXCIpLFxyXG42NTY6OTF8ICAgICAgICAgICAgICAgICAgICBcImNvbnRlbnRcIjogcmVzdWx0LmdldChcImNvbnRlbnRcIiwgXCJcIiksXHJcbjY1NzplNnwgICAgICAgICAgICAgICAgICAgIFwiaXNfbWFwX3Jlc3VsdFwiOiBUcnVlXHJcbjY1ODoxOHwgICAgICAgICAgICAgICAgfVxyXG42NTk6ZDV8ICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipUaXRsZToqKiB7bWFwX2RhdGFbJ3RpdGxlJ10gb3IgJ04vQSd9XCIpXHJcbjY2MDplMXwgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCIqKk1hcCBVUkw6Kioge21hcF9kYXRhWyd1cmwnXSBvciAnTi9BJ31cIilcclxuNjYxOjlmfCAgICAgICAgICAgICAgICBpZiBtYXBfZGF0YS5nZXQoJ2FkZHJlc3MnKTpcclxuNjYyOmU4fCAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCIqKkFkZHJlc3M6Kioge21hcF9kYXRhWydhZGRyZXNzJ119XCIpXHJcbjY2MzoyZXwgICAgICAgICAgICAgICAgaWYgbWFwX2RhdGEuZ2V0KCdsYXRpdHVkZScpIGFuZCBtYXBfZGF0YS5nZXQoJ2xvbmdpdHVkZScpOlxyXG42NjQ6NzJ8ICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqQ29vcmRpbmF0ZXM6Kioge21hcF9kYXRhWydsYXRpdHVkZSddfSwge21hcF9kYXRhWydsb25naXR1ZGUnXX1cIilcclxuNjY1OjkxfCAgICAgICAgICAgICAgICBpZiBtYXBfZGF0YS5nZXQoJ2NvbnRlbnQnKTpcclxuNjY2Ojg3fCAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCJcXG4qKkRlc2NyaXB0aW9uOioqXFxue21hcF9kYXRhLmdldCgnY29udGVudCcpfVwiKVxyXG42Njc6MmR8ICAgICAgICAgICAgICAgIHByb2Nlc3NlZF9yZXN1bHRzLmFwcGVuZChtYXBfZGF0YSlcclxuNjY4Ojg5fCAgICAgICAgICAgICAgICBpZiBzZWxmLnZhbHZlcy5DSVRBVElPTl9MSU5LUzpcclxuNjY5OjhhfCAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXRfY2l0YXRpb24oTm9uZSwgbWFwX2RhdGEpXHJcbjY3MDo1NXwgICAgICAgICAgICBmaW5hbF9yZXN1bHRzX2NvdW50ID0gbGVuKHByb2Nlc3NlZF9yZXN1bHRzKVxyXG42NzE6ZDB8ICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoc3RhdHVzPVwiY29tcGxldGVcIiwgZGVzY3JpcHRpb249Zlwi4pyFIE1hcCBzZWFyY2ggY29tcGxldGUgLSB7ZmluYWxfcmVzdWx0c19jb3VudH0gbG9jYXRpb25zIHJldHVybmVkLlwiLCBkb25lPVRydWUsIHN0ZXBfbnVtYmVyPTcpXHJcbjY3MjpmZXwgICAgICAgIGVsaWYgc2FmZV9jYXRlZ29yeSA9PSBcInNvY2lhbCBtZWRpYVwiOlxyXG42NzM6NWV8ICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoXCLwn5OxIFByb2Nlc3Npbmcgc29jaWFsIG1lZGlhIHJlc3VsdHNcIiwgc3RlcF9udW1iZXI9NilcclxuNjc0OjBlfCAgICAgICAgICAgIGxpbWl0ID0gc2VsZi52YWx2ZXMuTUFYX1NPQ0lBTF9SRVNVTFRTXHJcbjY3NTpmMXwgICAgICAgICAgICBmb3IgaSwgcmVzdWx0IGluIGVudW1lcmF0ZShyZXN1bHRzWzpsaW1pdF0pOlxyXG42NzY6ODF8ICAgICAgICAgICAgICAgIGlmIGkgPiAwOlxyXG42Nzc6ZDZ8ICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKFwiXFxuPT09PT09PT09PT09PT09PT09PT1cXG5cIilcclxuNjc4OjVifCAgICAgICAgICAgICAgICBzb2NpYWxfZGF0YSA9IHtcclxuNjc5OmY1fCAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiByZXN1bHQuZ2V0KFwidGl0bGVcIiwgXCJcIiksXHJcbjY4MDo3ZHwgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IHJlc3VsdC5nZXQoXCJ1cmxcIiwgXCJcIiksXHJcbjY4MTo5MXwgICAgICAgICAgICAgICAgICAgIFwiY29udGVudFwiOiByZXN1bHQuZ2V0KFwiY29udGVudFwiLCBcIlwiKSxcclxuNjgyOjdmfCAgICAgICAgICAgICAgICAgICAgXCJpc19zb2NpYWxfcmVzdWx0XCI6IFRydWVcclxuNjgzOjE4fCAgICAgICAgICAgICAgICB9XHJcbjY4NDo1NnwgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCIqKlRpdGxlOioqIHtzb2NpYWxfZGF0YVsndGl0bGUnXSBvciAnTi9BJ31cIilcclxuNjg1OjVmfCAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqVVJMOioqIHtzb2NpYWxfZGF0YVsndXJsJ10gb3IgJ04vQSd9XCIpXHJcbjY4NjpkYnwgICAgICAgICAgICAgICAgaWYgc29jaWFsX2RhdGEuZ2V0KCdjb250ZW50Jyk6XHJcbjY4NzphOHwgICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiXFxuKipDb250ZW50OioqXFxue3NvY2lhbF9kYXRhWydjb250ZW50J119XCIpXHJcbjY4ODoyM3wgICAgICAgICAgICAgICAgcHJvY2Vzc2VkX3Jlc3VsdHMuYXBwZW5kKHNvY2lhbF9kYXRhKVxyXG42ODk6ODl8ICAgICAgICAgICAgICAgIGlmIHNlbGYudmFsdmVzLkNJVEFUSU9OX0xJTktTOlxyXG42OTA6OGF8ICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdF9jaXRhdGlvbihOb25lLCBzb2NpYWxfZGF0YSlcclxuNjkxOjU1fCAgICAgICAgICAgIGZpbmFsX3Jlc3VsdHNfY291bnQgPSBsZW4ocHJvY2Vzc2VkX3Jlc3VsdHMpXHJcbjY5MjoxOHwgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJjb21wbGV0ZVwiLCBkZXNjcmlwdGlvbj1mXCLinIUgU29jaWFsIG1lZGlhIHNlYXJjaCBjb21wbGV0ZSAtIHtmaW5hbF9yZXN1bHRzX2NvdW50fSBwb3N0cy9wcm9maWxlcyByZXR1cm5lZC5cIiwgZG9uZT1UcnVlLCBzdGVwX251bWJlcj03KVxyXG42OTM6MDV8ICAgICAgICBlbHNlOlxyXG42OTQ6MDV8ICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoXCLwn5SEIFByb2Nlc3Npbmcgd2ViIHJlc3VsdHMgYnkgc2NyYXBpbmcgcGFnZXNcIiwgc3RlcF9udW1iZXI9NilcclxuNjk1OjYyfCAgICAgICAgICAgIGxpbWl0ZWRfcmVzdWx0c19mb3Jfc2NyYXBpbmcgPSByZXN1bHRzWzpzZWxmLnZhbHZlcy5TQ1JBUFBFRF9QQUdFU19OT11cclxuNjk2OjVjfCAgICAgICAgICAgIHRhc2tzID0gW11cclxuNjk3OjA1fCAgICAgICAgICAgIFxyXG42OTg6NjZ8ICAgICAgICAgICAgIyBBcHBseSByYXRlIGxpbWl0aW5nIHRvIHNjcmFwaW5nIG9wZXJhdGlvbnNcclxuNjk5OjQxfCAgICAgICAgICAgIGZvciByZXN1bHQgaW4gbGltaXRlZF9yZXN1bHRzX2Zvcl9zY3JhcGluZzpcclxuNzAwOjM5fCAgICAgICAgICAgICAgICB1cmwgPSByZXN1bHQuZ2V0KFwidXJsXCIsIFwiXCIpXHJcbjcwMTo2M3wgICAgICAgICAgICAgICAgaWYgdXJsOlxyXG43MDI6ZGV8ICAgICAgICAgICAgICAgICAgICAjIENoZWNrIHJhdGUgbGltaXRzIGJlZm9yZSBhZGRpbmcgdGFza1xyXG43MDM6MjV8ICAgICAgICAgICAgICAgICAgICBpZiBub3QgcmF0ZV9saW1pdGVyLmNhbl9yZXF1ZXN0KHVybCk6XHJcbjcwNDo0NHwgICAgICAgICAgICAgICAgICAgICAgICBkb21haW4gPSB1cmxwYXJzZSh1cmwpLm5ldGxvY1xyXG43MDU6YzF8ICAgICAgICAgICAgICAgICAgICAgICAgd2FpdF90aW1lID0gcmF0ZV9saW1pdGVyLmdldF9yZW1haW5pbmdfdGltZSh1cmwpXHJcbjcwNjpjM3wgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybmluZyhmXCJSYXRlIGxpbWl0IGV4Y2VlZGVkIGZvciB7ZG9tYWlufS4gU2tpcHBpbmcgcmVzdWx0LiBUcnkgYWdhaW4gaW4ge3dhaXRfdGltZTouMWZ9IHNlY29uZHMuXCIpXHJcbjcwNzoyMHwgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZVxyXG43MDg6MDV8ICAgICAgICAgICAgICAgIFxyXG43MDk6Y2Z8ICAgICAgICAgICAgICAgIHRhc2tzLmFwcGVuZChIZWxwZXJGdW5jdGlvbnMucHJvY2Vzc193ZWJfc2VhcmNoX3Jlc3VsdChyZXN1bHQsIHNlbGYudmFsdmVzLCBzZWxmLmNsaWVudCkpXHJcbjcxMDowNXwgICAgICAgICAgICAgICAgXHJcbjcxMTozZnwgICAgICAgICAgICBwcm9jZXNzZWRfcmVzdWx0c193aXRoX3NvdXAgPSBhd2FpdCBhc3luY2lvLmdhdGhlcigqdGFza3MpXHJcbjcxMjozZHwgICAgICAgICAgICBwcm9jZXNzZWRfY291bnQgPSAwXHJcbjcxMzpkZHwgICAgICAgICAgICBmb3IgcmVzdWx0X2RhdGEgaW4gcHJvY2Vzc2VkX3Jlc3VsdHNfd2l0aF9zb3VwOlxyXG43MTQ6YWZ8ICAgICAgICAgICAgICAgIGlmIHJlc3VsdF9kYXRhOlxyXG43MTU6ZmZ8ICAgICAgICAgICAgICAgICAgICBzb3VwX29iaiA9IHJlc3VsdF9kYXRhLnBvcChcInNvdXBcIiwgTm9uZSlcclxuNzE2OjNjfCAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkX3Jlc3VsdHMuYXBwZW5kKHJlc3VsdF9kYXRhKVxyXG43MTc6YWF8ICAgICAgICAgICAgICAgICAgICBpZiBub3QgcmVzdWx0X2RhdGEuZ2V0KFwiZXJyb3JcIik6XHJcbjcxODo1NHwgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRfY291bnQgKz0gMVxyXG43MTk6NjV8ICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoZlwi8J+ThCBTY3JhcGVkIHBhZ2Uge3Byb2Nlc3NlZF9jb3VudH0ve2xlbih0YXNrcyl9OiB7cmVzdWx0X2RhdGEuZ2V0KCd1cmwnLCAnTi9BJyl9XCIsIHN0ZXBfbnVtYmVyPTcpXHJcbjcyMDo4OXwgICAgICAgICAgICAgICAgICAgICAgICBpZiBzZWxmLnZhbHZlcy5DSVRBVElPTl9MSU5LUzpcclxuNzIxOmU5fCAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdF9jaXRhdGlvbihzb3VwX29iaiwgcmVzdWx0X2RhdGEpXHJcbjcyMjowMnwgICAgICAgICAgICAgICAgaWYgbGVuKFtyIGZvciByIGluIHByb2Nlc3NlZF9yZXN1bHRzIGlmIG5vdCByLmdldChcImVycm9yXCIpXSkgPj0gc2VsZi52YWx2ZXMuUkVUVVJORURfU0NSQVBQRURfUEFHRVNfTk86XHJcbjcyMzo5NXwgICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbjcyNDoyNnwgICAgICAgICAgICBwcm9jZXNzZWRfcmVzdWx0cyA9IFtyZXMgZm9yIHJlcyBpbiBwcm9jZXNzZWRfcmVzdWx0cyBpZiByZXNdXHJcbjcyNTpmMHwgICAgICAgICAgICBwcm9jZXNzZWRfcmVzdWx0cyA9IHByb2Nlc3NlZF9yZXN1bHRzWzpzZWxmLnZhbHZlcy5SRVRVUk5FRF9TQ1JBUFBFRF9QQUdFU19OT11cclxuNzI2OjU1fCAgICAgICAgICAgIGZpbmFsX3Jlc3VsdHNfY291bnQgPSBsZW4ocHJvY2Vzc2VkX3Jlc3VsdHMpXHJcbjcyNzoxOXwgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJjb21wbGV0ZVwiLCBkZXNjcmlwdGlvbj1mXCLinIUgV2ViIHNlYXJjaCBjb21wbGV0ZSAtIHtmaW5hbF9yZXN1bHRzX2NvdW50fSBwYWdlcyBwcm9jZXNzZWQgYW5kIHJldHVybmVkLlwiLCBkb25lPVRydWUsIHN0ZXBfbnVtYmVyPTgpXHJcbjcyODoxNnwgICAgICAgICAgICBmb3IgaSwgcmVzIGluIGVudW1lcmF0ZShwcm9jZXNzZWRfcmVzdWx0cyk6XHJcbjcyOTo4MXwgICAgICAgICAgICAgICAgaWYgaSA+IDA6XHJcbjczMDpkNnwgICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoXCJcXG49PT09PT09PT09PT09PT09PT09PVxcblwiKVxyXG43MzE6NzN8ICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipUaXRsZToqKiB7cmVzLmdldCgndGl0bGUnLCAnTi9BJyl9XCIpXHJcbjczMjpmNnwgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCIqKlVSTDoqKiB7cmVzLmdldCgndXJsJywgJ04vQScpfVwiKVxyXG43MzM6NTJ8ICAgICAgICAgICAgICAgIGlmIHJlcy5nZXQoXCJlcnJvclwiKTpcclxuNzM0OmU3fCAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCIqKkVycm9yOioqIHtyZXMuZ2V0KCdlcnJvcicpfVwiKVxyXG43MzU6MDV8ICAgICAgICAgICAgICAgIGVsc2U6XHJcbjczNjo2ZXwgICAgICAgICAgICAgICAgICAgIGlmICdzbmlwcGV0JyBpbiByZXMgYW5kIHJlcy5nZXQoJ3NuaXBwZXQnKTpcclxuNzM3OjNifCAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiXFxuKipTbmlwcGV0OioqIHtyZXMuZ2V0KCdzbmlwcGV0Jyl9XCIpXHJcbjczODo3ZHwgICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoXCJcXG5cXG4qKkNvbnRlbnQ6KipcIikgIyBBZGRlZCBleHRyYSBcXG4gZm9yIHNwYWNpbmdcclxuNzM5OjQ0fCAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChyZXMuZ2V0KCdjb250ZW50JywgJycpKVxyXG43NDA6MTR8ICAgICAgICByZXR1cm4gXCJcXG5cIi5qb2luKG91dHB1dF9wYXJ0cylcclxuNzQxOjA1fFxyXG43NDI6OGJ8ICAgIGFzeW5jIGRlZiBfZ2V0X3dlYnNpdGVfY29udGVudF9jYWNoZWQoc2VsZiwgdXJsOiBzdHIpIC0+IERpY3Rbc3RyLCBBbnldOlxyXG43NDM6NGR8ICAgICAgICBzb3VwID0gTm9uZVxyXG43NDQ6M2V8ICAgICAgICBodG1sX2NvbnRlbnQgPSBcIlwiXHJcbjc0NTpkY3wgICAgICAgIHRyeTpcclxuNzQ2OjVmfCAgICAgICAgICAgIHVybF90b19mZXRjaCA9IEhlbHBlckZ1bmN0aW9ucy5fbW9kaWZ5X3JlZGRpdF91cmwodXJsKVxyXG43NDc6YmZ8ICAgICAgICAgICAgcmVzcG9uc2Vfc2l0ZSA9IGF3YWl0IHNlbGYuY2xpZW50LmdldCh1cmxfdG9fZmV0Y2gsIHRpbWVvdXQ9MTIwKVxyXG43NDg6YjB8ICAgICAgICAgICAgcmVzcG9uc2Vfc2l0ZS5yYWlzZV9mb3Jfc3RhdHVzKClcclxuNzQ5OmExfCAgICAgICAgICAgIGh0bWxfY29udGVudCA9IHJlc3BvbnNlX3NpdGUudGV4dFxyXG43NTA6MDV8XHJcbjc1MTpiY3wgICAgICAgICAgICAjVE9ETzogUmVmYWN0b3IgdGhpcyBpbnRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gaW4gb3JkZXIgbm8gdG8gZHVwbGljYXRlIGNvZGUgdXNlZCBpbiBzZWFyY2hfd2ViXHJcbjc1MjphNnwgICAgICAgICAgICByYXdfY29udGVudCA9IHJlc3BvbnNlX3NpdGUuY29udGVudFxyXG43NTM6MDV8XHJcbjc1NDoxM3wgICAgICAgICAgICAjIFdlIG9ubHkgbmVlZCBhIGNvdXBsZSBvZiBpbml0aWFsIGJ5dGVzLCBub3QgdGhlIHdob2xlIGZpbGUgZm9yIE1JTUUgdHlwZSBndWVzc1xyXG43NTU6YTl8ICAgICAgICAgICAga2luZCA9IGZpbGV0eXBlLmd1ZXNzKHJhd19jb250ZW50KVxyXG43NTY6MDV8XHJcbjc1NzphN3wgICAgICAgICAgICBpZiBraW5kIGlzIG5vdCBOb25lIGFuZCBraW5kLm1pbWUgPT0gXCJhcHBsaWNhdGlvbi9wZGZcIjpcclxuNzU4OjhmfCAgICAgICAgICAgICAgICAjIFByb2Nlc3MgUERGXHJcbjc1OTplNnwgICAgICAgICAgICAgICAgZG9jID0gcHltdXBkZi5vcGVuKHN0cmVhbT1yYXdfY29udGVudCwgZmlsZXR5cGU9XCJwZGZcIilcclxuNzYwOmUxfCAgICAgICAgICAgICAgICBtZF90ZXh0ID0gcHltdXBkZjRsbG0udG9fbWFya2Rvd24oZG9jKVxyXG43NjE6MDV8ICAgIFxyXG43NjI6MGV8ICAgICAgICAgICAgICAgIGNvbnRlbnRfc2l0ZSA9IG1kX3RleHRcclxuNzYzOjA1fCAgICAgICAgICAgICAgICB0cnVuY2F0ZWRfY29udGVudCA9IEhlbHBlckZ1bmN0aW9ucy50cnVuY2F0ZV90b19uX3dvcmRzKGNvbnRlbnRfc2l0ZSwgc2VsZi52YWx2ZXMuUEFHRV9DT05URU5UX1dPUkRTX0xJTUlUKVxyXG43NjQ6Zjh8ICAgICAgICAgICAgICAgIGV4Y2VycHQgPSBIZWxwZXJGdW5jdGlvbnMuZ2VuZXJhdGVfZXhjZXJwdChjb250ZW50X3NpdGUpXHJcbjc2NTowNXxcclxuNzY2OjBifCAgICAgICAgICAgICAgICBwYWdlX3RpdGxlID0gXCJBIFBERiBkb2N1bWVudCBjb252ZXJ0ZWQgdG8gTWFya2Rvd25cIlxyXG43Njc6NGR8ICAgICAgICAgICAgICAgIHNvdXAgPSBOb25lXHJcbjc2ODowNXwgICAgICAgICAgICBlbHNlOlxyXG43Njk6OTN8ICAgICAgICAgICAgICAgIHNvdXAgPSBCZWF1dGlmdWxTb3VwKGh0bWxfY29udGVudCwgXCJodG1sLnBhcnNlclwiKVxyXG43NzA6ODB8ICAgICAgICAgICAgICAgIHBhZ2VfdGl0bGVfdGFnID0gc291cC5maW5kKCd0aXRsZScpXHJcbjc3MTo4M3wgICAgICAgICAgICAgICAgcGFnZV90aXRsZSA9IHBhZ2VfdGl0bGVfdGFnLnN0cmluZyBpZiBwYWdlX3RpdGxlX3RhZyBlbHNlIFwiTm8gdGl0bGUgZm91bmRcIlxyXG43NzI6OGN8ICAgICAgICAgICAgICAgIHBhZ2VfdGl0bGUgPSB1bmljb2RlZGF0YS5ub3JtYWxpemUoXCJORktDXCIsIHBhZ2VfdGl0bGUuc3RyaXAoKSlcclxuNzczOjQ2fCAgICAgICAgICAgICAgICBwYWdlX3RpdGxlID0gSGVscGVyRnVuY3Rpb25zLnJlbW92ZV9lbW9qaXMocGFnZV90aXRsZSlcclxuNzc0OmQyfCAgICAgICAgICAgICAgICBjb250ZW50X3NpdGUgPSBIZWxwZXJGdW5jdGlvbnMuZm9ybWF0X3RleHRfd2l0aF90cmFmaWxhdHVyYShodG1sX2NvbnRlbnQsIHNlbGYudmFsdmVzLlRSQUZJTEFUVVJBX1RJTUVPVVQpXHJcbjc3NTowNXwgICAgICAgICAgICAgICAgdHJ1bmNhdGVkX2NvbnRlbnQgPSBIZWxwZXJGdW5jdGlvbnMudHJ1bmNhdGVfdG9fbl93b3Jkcyhjb250ZW50X3NpdGUsIHNlbGYudmFsdmVzLlBBR0VfQ09OVEVOVF9XT1JEU19MSU1JVClcclxuNzc2OmY4fCAgICAgICAgICAgICAgICBleGNlcnB0ID0gSGVscGVyRnVuY3Rpb25zLmdlbmVyYXRlX2V4Y2VycHQoY29udGVudF9zaXRlKVxyXG43Nzc6MDV8XHJcbjc3ODo0YXwgICAgICAgICAgICByZXR1cm4ge1xyXG43Nzk6OGN8ICAgICAgICAgICAgICAgIFwidGl0bGVcIjogcGFnZV90aXRsZSwgXCJ1cmxcIjogdXJsLCBcImNvbnRlbnRcIjogdHJ1bmNhdGVkX2NvbnRlbnQsXHJcbjc4MDpiYnwgICAgICAgICAgICAgICAgXCJleGNlcnB0XCI6IGV4Y2VycHQsIFwiZGF0ZV9hY2Nlc3NlZFwiOiBkYXRldGltZS5ub3codGltZXpvbmUudXRjKS5pc29mb3JtYXQoKSxcclxuNzgxOmMwfCAgICAgICAgICAgICAgICBcInNvdXBcIjogc291cCwgXCJlcnJvclwiOiBOb25lXHJcbjc4MjoxOHwgICAgICAgICAgICB9XHJcbjc4Mzo2N3wgICAgICAgIGV4Y2VwdCBodHRweC5IVFRQU3RhdHVzRXJyb3IgYXMgZTpcclxuNzg0OjY4fCAgICAgICAgICAgIGVycm9yX21zZyA9IGZcIntlLnJlc3BvbnNlLnN0YXR1c19jb2RlfSB7ZS5yZXNwb25zZS5yZWFzb25fcGhyYXNlfVwiXHJcbjc4NToxZXwgICAgICAgICAgICByZXR1cm4ge1widXJsXCI6IHVybCwgXCJlcnJvclwiOiBlcnJvcl9tc2csIFwiZGF0ZV9hY2Nlc3NlZFwiOiBkYXRldGltZS5ub3codGltZXpvbmUudXRjKS5pc29mb3JtYXQoKSwgXCJzb3VwXCI6IE5vbmV9XHJcbjc4NjpmMXwgICAgICAgIGV4Y2VwdCBodHRweC5SZXF1ZXN0RXJyb3IgYXMgZTpcclxuNzg3OjQzfCAgICAgICAgICAgIGVycm9yX21zZyA9IGZcIlJlcXVlc3QgZmFpbGVkOiB7c3RyKGUpfVwiXHJcbjc4ODoxZXwgICAgICAgICAgICByZXR1cm4ge1widXJsXCI6IHVybCwgXCJlcnJvclwiOiBlcnJvcl9tc2csIFwiZGF0ZV9hY2Nlc3NlZFwiOiBkYXRldGltZS5ub3codGltZXpvbmUudXRjKS5pc29mb3JtYXQoKSwgXCJzb3VwXCI6IE5vbmV9XHJcbjc4OTo3ZHwgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcclxuNzkwOjIxfCAgICAgICAgICAgIGVycm9yX21zZyA9IGZcIlVuZXhwZWN0ZWQgZXJyb3IgcHJvY2Vzc2luZyB3ZWJzaXRlOiB7c3RyKGUpfVwiXHJcbjc5MToxZXwgICAgICAgICAgICByZXR1cm4ge1widXJsXCI6IHVybCwgXCJlcnJvclwiOiBlcnJvcl9tc2csIFwiZGF0ZV9hY2Nlc3NlZFwiOiBkYXRldGltZS5ub3codGltZXpvbmUudXRjKS5pc29mb3JtYXQoKSwgXCJzb3VwXCI6IE5vbmV9XHJcbjc5MjowNXxcclxuNzkzOjUxfCAgICBhc3luYyBkZWYgZ2V0X3dlYnNpdGUoc2VsZiwgdXJsOiBzdHIpIC0+IHN0cjpcclxuNzk0OjVmfCAgICAgICAgcGFyc2VkX3VybF9pbnB1dCA9IHVybHBhcnNlKHVybClcclxuNzk1OmFmfCAgICAgICAgaWYgbm90IHBhcnNlZF91cmxfaW5wdXQuc2NoZW1lOlxyXG43OTY6NzV8ICAgICAgICAgICAgdXJsID0gXCJodHRwczovL1wiICsgdXJsXHJcbjc5NzpjOXwgICAgICAgICAgICBsb2dnZXIuaW5mbyhmXCJVUkwgJ3t1cmx9JyB3YXMgbWlzc2luZyBhIHNjaGVtZS4gUHJlcGVuZGVkIGh0dHBzOi8vLlwiKVxyXG43OTg6MDV8ICAgICAgICAgICAgXHJcbjc5OTpjMHwgICAgICAgICMgQ2hlY2sgcmF0ZSBsaW1pdGluZ1xyXG44MDA6YzB8ICAgICAgICByYXRlX2xpbWl0ZXIgPSBSYXRlTGltaXRlcihcclxuODAxOmE2fCAgICAgICAgICAgIHJlcXVlc3RzX3Blcl9taW51dGU9c2VsZi52YWx2ZXMuUkFURV9MSU1JVF9SRVFVRVNUU19QRVJfTUlOVVRFLFxyXG44MDI6NmN8ICAgICAgICAgICAgdGltZW91dF9zZWNvbmRzPXNlbGYudmFsdmVzLlJBVEVfTElNSVRfVElNRU9VVF9TRUNPTkRTXHJcbjgwMzo4ZXwgICAgICAgIClcclxuODA0OjA1fCAgICAgICAgXHJcbjgwNToyNXwgICAgICAgIGlmIG5vdCByYXRlX2xpbWl0ZXIuY2FuX3JlcXVlc3QodXJsKTpcclxuODA2OmMxfCAgICAgICAgICAgIHdhaXRfdGltZSA9IHJhdGVfbGltaXRlci5nZXRfcmVtYWluaW5nX3RpbWUodXJsKVxyXG44MDc6ZmN8ICAgICAgICAgICAgZXJyb3JfbXNnID0gZlwiUmF0ZSBsaW1pdCBleGNlZWRlZCBmb3IgZG9tYWluIHtwYXJzZWRfdXJsX2lucHV0Lm5ldGxvY30uIFRyeSBhZ2FpbiBpbiB7d2FpdF90aW1lOi4xZn0gc2Vjb25kcy5cIlxyXG44MDg6MDN8ICAgICAgICAgICAgbG9nZ2VyLndhcm5pbmcoZXJyb3JfbXNnKVxyXG44MDk6YjJ8ICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoc3RhdHVzPVwiZXJyb3JcIiwgZGVzY3JpcHRpb249Zlwi4p2MIHtlcnJvcl9tc2d9XCIsIGRvbmU9VHJ1ZSlcclxuODEwOjljfCAgICAgICAgICAgIHJhaXNlIFJhdGVMaW1pdEV4Y2VlZGVkRXJyb3IoZXJyb3JfbXNnKVxyXG44MTE6MDV8ICAgICAgICAgICAgXHJcbjgxMjpiZHwgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KGZcIvCflI0gQWNjZXNzaW5nIFVSTDoge3VybH1cIiwgc3RlcF9udW1iZXI9MSlcclxuODEzOjc4fCAgICAgICAgY2FjaGVkX3Jlc3VsdCA9IHdlYnNpdGVfY2FjaGUuZ2V0KHVybClcclxuODE0OjA1fCAgICAgICAgXHJcbjgxNTo3M3wgICAgICAgIGlmIGNhY2hlZF9yZXN1bHQgYW5kIENhY2hlVmFsaWRhdG9yLmlzX3ZhbGlkKGNhY2hlZF9yZXN1bHQsIHNlbGYudmFsdmVzLkNBQ0hFX01BWF9BR0VfTUlOVVRFUyk6XHJcbjgxNjozM3wgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChcIvCfk5EgQ29udGVudCByZXRyaWV2ZWQgZnJvbSBjYWNoZVwiLCBzdGVwX251bWJlcj0zKVxyXG44MTc6M2N8ICAgICAgICAgICAgcmVzdWx0X2RhdGEgPSBjYWNoZWRfcmVzdWx0LmNvcHkoKVxyXG44MTg6NGR8ICAgICAgICAgICAgc291cCA9IE5vbmVcclxuODE5OjM0fCAgICAgICAgICAgIGVycm9yID0gcmVzdWx0X2RhdGEuZ2V0KFwiZXJyb3JcIilcclxuODIwOjA1fCAgICAgICAgZWxzZTpcclxuODIxOjc5fCAgICAgICAgICAgIGlmIGNhY2hlZF9yZXN1bHQ6XHJcbjgyMjoyN3wgICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZlwiQ2FjaGUgZW50cnkgZm9yIHt1cmx9IGlzIHN0YWxlIChhZ2UgPiB7c2VsZi52YWx2ZXMuQ0FDSEVfTUFYX0FHRV9NSU5VVEVTfSBtaW51dGVzKS4gUmVmcmVzaGluZy5cIilcclxuODIzOjk4fCAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KFwi8J+MkCBGZXRjaGluZyB3ZWIgY29udGVudCAobm90IGNhY2hlZClcIiwgc3RlcF9udW1iZXI9MilcclxuODI0OmRjfCAgICAgICAgICAgIHRyeTpcclxuODI1OjllfCAgICAgICAgICAgICAgICByZXN1bHRfZGF0YSA9IGF3YWl0IHNlbGYuX2dldF93ZWJzaXRlX2NvbnRlbnRfY2FjaGVkKHVybClcclxuODI2OmNmfCAgICAgICAgICAgICAgICBjYWNoZV9jb3B5ID0gcmVzdWx0X2RhdGEuY29weSgpXHJcbjgyNzo1MHwgICAgICAgICAgICAgICAgc291cCA9IGNhY2hlX2NvcHkucG9wKFwic291cFwiLCBOb25lKVxyXG44Mjg6YWF8ICAgICAgICAgICAgICAgIGlmIG5vdCByZXN1bHRfZGF0YS5nZXQoXCJlcnJvclwiKTpcclxuODI5OmVhfCAgICAgICAgICAgICAgICAgICAgd2Vic2l0ZV9jYWNoZVt1cmxdID0gY2FjaGVfY29weVxyXG44MzA6MzR8ICAgICAgICAgICAgICAgIGVycm9yID0gcmVzdWx0X2RhdGEuZ2V0KFwiZXJyb3JcIilcclxuODMxOjdkfCAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcclxuODMyOmFjfCAgICAgICAgICAgICAgICBlcnJvcl9tc2cgPSBmXCJGYWlsZWQgdG8gZmV0Y2ggd2Vic2l0ZSBjb250ZW50OiB7c3RyKGUpfVwiXHJcbjgzMzpmMnwgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGVycm9yX21zZylcclxuODM0OmIyfCAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJlcnJvclwiLCBkZXNjcmlwdGlvbj1mXCLinYwge2Vycm9yX21zZ31cIiwgZG9uZT1UcnVlKVxyXG44MzU6NWV8ICAgICAgICAgICAgICAgIHJhaXNlIFdlYlNjcmFwaW5nRXJyb3IoZXJyb3JfbXNnKSBmcm9tIGVcclxuODM2OjA1fCAgICAgICAgICAgICAgICBcclxuODM3OmQ1fCAgICAgICAgaWYgZXJyb3I6XHJcbjgzODo4MXwgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJlcnJvclwiLCBkZXNjcmlwdGlvbj1mXCLinYwgRXJyb3IgYWNjZXNzaW5nIHBhZ2U6IHtlcnJvcn1cIiwgZG9uZT1UcnVlKVxyXG44Mzk6NWZ8ICAgICAgICAgICAgcmV0dXJuIGZcIkVycm9yIGFjY2Vzc2luZyB7cmVzdWx0X2RhdGEuZ2V0KCd1cmwnLCAnVVJMJyl9OiB7ZXJyb3J9XCJcclxuODQwOjA1fCAgICAgICAgZWxzZTpcclxuODQxOmJmfCAgICAgICAgICAgIGlmIHNlbGYudmFsdmVzLkNJVEFUSU9OX0xJTktTIGFuZCBzb3VwOlxyXG44NDI6MDV8ICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KFwi8J+TmiBHZW5lcmF0aW5nIGNpdGF0aW9uc1wiLCBzdGVwX251bWJlcj02KVxyXG44NDM6YzR8ICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0X2NpdGF0aW9uKHNvdXAsIHJlc3VsdF9kYXRhKVxyXG44NDQ6NzN8ICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoc3RhdHVzPVwiY29tcGxldGVcIiwgZGVzY3JpcHRpb249XCLinIUgV2Vic2l0ZSBjb250ZW50IHByb2Nlc3NlZCBzdWNjZXNzZnVsbHkuXCIsIGRvbmU9VHJ1ZSwgc3RlcF9udW1iZXI9NylcclxuODQ1OjZkfCAgICAgICAgICAgIG91dHB1dF9wYXJ0cyA9IFtcclxuODQ2OjdkfCAgICAgICAgICAgICAgICBmXCIqKlRpdGxlOioqIHtyZXN1bHRfZGF0YS5nZXQoJ3RpdGxlJywgJ04vQScpfVwiLFxyXG44NDc6YTl8ICAgICAgICAgICAgICAgIGZcIioqVVJMOioqIHtyZXN1bHRfZGF0YS5nZXQoJ3VybCcsICdOL0EnKX1cIixcclxuODQ4OjA5fCAgICAgICAgICAgICAgICBmXCIqKkRhdGUgQWNjZXNzZWQ6Kioge3Jlc3VsdF9kYXRhLmdldCgnZGF0ZV9hY2Nlc3NlZCcsICdOL0EnKX1cIixcclxuODQ5OmFlfCAgICAgICAgICAgICAgICBcIlxcbioqRXhjZXJwdDoqKlwiLFxyXG44NTA6NWN8ICAgICAgICAgICAgICAgIHJlc3VsdF9kYXRhLmdldCgnZXhjZXJwdCcsICcnKSxcclxuODUxOmE4fCAgICAgICAgICAgICAgICBcIlxcblxcbioqQ29udGVudDoqKlwiLCAjIEFkZGVkIGV4dHJhIFxcbiBmb3Igc3BhY2luZ1xyXG44NTI6MWR8ICAgICAgICAgICAgICAgIHJlc3VsdF9kYXRhLmdldCgnY29udGVudCcsICcnKVxyXG44NTM6Zjl8ICAgICAgICAgICAgXVxyXG44NTQ6NGZ8ICAgICAgICAgICAgaWYgcmVzdWx0X2RhdGEuZ2V0KFwiZXJyb3JcIik6ICMgRW5zdXJlIGVycm9yIGlzIGJvbGRlZCBpZiBpdCBleGlzdHMgYXQgdGhpcyBzdGFnZVxyXG44NTU6MDJ8ICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5pbnNlcnQoMiwgZlwiKipFcnJvcjoqKiB7cmVzdWx0X2RhdGEuZ2V0KCdlcnJvcicpfVwiKVxyXG44NTY6MTR8ICAgICAgICAgICAgcmV0dXJuIFwiXFxuXCIuam9pbihvdXRwdXRfcGFydHMpXHJcbjg1NzowNXxcclxuODU4OmFkfCAgICBhc3luYyBkZWYgY2xvc2VfY2xpZW50KHNlbGYpOlxyXG44NTk6YjR8ICAgICAgICBhd2FpdCBzZWxmLmNsaWVudC5hY2xvc2UoKVxyXG44NjA6MDV8XHJcbjg2MTphM3wgICAgZGVmIGdldF9jdXJyZW50X2RhdGV0aW1lKHNlbGYpIC0+IHN0cjpcclxuODYyOjVjfCAgICAgICAgbm93X3V0YyA9IGRhdGV0aW1lLm5vdyh0aW1lem9uZS51dGMpXHJcbjg2MzpkY3wgICAgICAgIHRyeTpcclxuODY0OjFifCAgICAgICAgICAgIHR6ID0gWm9uZUluZm8oc2VsZi52YWx2ZXMuZGVzaXJlZF90aW1lem9uZSlcclxuODY1OjE3fCAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjpcclxuODY2OjE4fCAgICAgICAgICAgIHR6ID0gdGltZXpvbmUudXRjXHJcbjg2Nzo4M3wgICAgICAgIG5vd19kZXNpcmVkID0gbm93X3V0Yy5hc3RpbWV6b25lKHR6KVxyXG44Njg6Y2J8ICAgICAgICBmb3JtYXR0ZWRfZGF0ZXRpbWUgPSBub3dfZGVzaXJlZC5zdHJmdGltZShcIiVBLCAlQiAlZCwgJVkgYXQgJUk6JU0gJXAgKCVaKVwiKVxyXG44Njk6NDZ8ICAgICAgICByZXR1cm4gZlwiVGhlIGN1cnJlbnQgZGF0ZSBhbmQgdGltZSBpcyB7Zm9ybWF0dGVkX2RhdGV0aW1lfVwiXHJcbjg3MDowNXxcclxuODcxOjEyfCMgLS0tIEpTT04tUlBDIENvbW11bmljYXRpb24gLS0tXHJcbjg3MjpiZnxhc3luYyBkZWYgc2VuZF9qc29uX3JwYyhkYXRhOiBEaWN0W3N0ciwgQW55XSk6XHJcbjg3Mzo5ZHwgICAgbWVzc2FnZV9zdHIgPSBqc29uLmR1bXBzKGRhdGEpXHJcbjg3NDplZnwgICAgc3lzLnN0ZG91dC53cml0ZShmXCJ7bWVzc2FnZV9zdHJ9XFxuXCIpXHJcbjg3NTo2MHwgICAgc3lzLnN0ZG91dC5mbHVzaCgpXHJcbjg3NjowNXxcclxuODc3OjkzfGFzeW5jIGRlZiBzZW5kX25vdGlmaWNhdGlvbihtZXRob2Q6IHN0ciwgcGFyYW1zOiBBbnkpOlxyXG44Nzg6MTZ8ICAgIGF3YWl0IHNlbmRfanNvbl9ycGMoe1wianNvbnJwY1wiOiBcIjIuMFwiLCBcIm1ldGhvZFwiOiBtZXRob2QsIFwicGFyYW1zXCI6IHBhcmFtc30pXHJcbjg3OTowNXxcclxuODgwOmEyfCMgLS0tIE1haW4gU2VydmVyIExvb3AgLS0tXHJcbjg4MTo1N3xhc3luYyBkZWYgbWFpbigpOlxyXG44ODI6YmJ8ICAgIHRvb2xzX2luc3RhbmNlID0gVG9vbHMoc2VuZF9ub3RpZmljYXRpb25fZnVuYz1zZW5kX25vdGlmaWNhdGlvbilcclxuODgzOjdhfCAgICBsb2dnZXIuaW5mbyhcIk1DUCBTZXJ2ZXIgVG9vbHMgaW5zdGFuY2UgY3JlYXRlZC5cIilcclxuODg0OmJjfCAgICBsb2dnZXIuaW5mbyhcIk1DUCBTZXJ2ZXIgZW50ZXJpbmcgbWFpbiBsb29wLi4uXCIpXHJcbjg4NToyN3wgICAgd2hpbGUgVHJ1ZTpcclxuODg2OjYzfCAgICAgICAgbGluZSA9IHN5cy5zdGRpbi5yZWFkbGluZSgpXHJcbjg4Nzo0OXwgICAgICAgIGlmIG5vdCBsaW5lOlxyXG44ODg6YTJ8ICAgICAgICAgICAgbG9nZ2VyLmluZm8oXCJNQ1AgU2VydmVyOiBFT0YgcmVjZWl2ZWQsIGV4aXRpbmcgbWFpbiBsb29wLlwiKVxyXG44ODk6OTV8ICAgICAgICAgICAgYnJlYWtcclxuODkwOmRjfCAgICAgICAgdHJ5OlxyXG44OTE6YmF8ICAgICAgICAgICAgcmVxdWVzdCA9IGpzb24ubG9hZHMobGluZSlcclxuODkyOmJhfCAgICAgICAgICAgIHJlcXVlc3RfaWQgPSByZXF1ZXN0LmdldChcImlkXCIpXHJcbjg5MzpkM3wgICAgICAgICAgICBtZXRob2QgPSByZXF1ZXN0LmdldChcIm1ldGhvZFwiKVxyXG44OTQ6Mjd8ICAgICAgICAgICAgcGFyYW1zID0gcmVxdWVzdC5nZXQoXCJwYXJhbXNcIiwge30pXHJcbjg5NTpiNXwgICAgICAgICAgICByZXNwb25zZSA9IHtcImpzb25ycGNcIjogXCIyLjBcIiwgXCJpZFwiOiByZXF1ZXN0X2lkfVxyXG44OTY6OGN8ICAgICAgICAgICAgbG9nZ2VyLmluZm8oZlwiTUNQIFNlcnZlciByZWNlaXZlZCBtZXRob2Q6IHttZXRob2Qhcn0gKElEOiB7cmVxdWVzdF9pZH0pXCIpXHJcbjg5NzpjMHwgICAgICAgICAgICBpZiBtZXRob2QgPT0gXCJpbml0aWFsaXplXCI6XHJcbjg5ODowYnwgICAgICAgICAgICAgICAgcmVzcG9uc2VbXCJyZXN1bHRcIl0gPSB7XHJcbjg5OTpmOXwgICAgICAgICAgICAgICAgICAgIFwicHJvdG9jb2xWZXJzaW9uXCI6IFwiMjAyNC0xMS0wNVwiLFxyXG45MDA6NzB8ICAgICAgICAgICAgICAgICAgICBcInNlcnZlckluZm9cIjoge1wibmFtZVwiOiBcIm1jcC1zZWFyeG5nLWVuaGFuY2VkXCIsIFwidmVyc2lvblwiOiBcIjEuMS4wXCJ9LFxyXG45MDE6YWJ8ICAgICAgICAgICAgICAgICAgICBcImNhcGFiaWxpdGllc1wiOiB7XHJcbjkwMjo1NHwgICAgICAgICAgICAgICAgICAgICAgICBcInRvb2xzXCI6IHtcclxuOTAzOjIzfCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlYXJjaF93ZWJcIjoge1xyXG45MDQ6Y2R8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiU2VhcmNoIHRoZSB3ZWIgZm9yIHZhcmlvdXMgY2F0ZWdvcmllcyAoZ2VuZXJhbCwgaW1hZ2VzLCB2aWRlb3MsIGZpbGVzLCBtYXAsIHNvY2lhbCBtZWRpYSwgbmV3cywgaXQsIHNjaWVuY2UpLiBTY3JhcGVzIHRleHQgZm9yIHdlYiBjYXRlZ29yaWVzLCByZXR1cm5zIHNwZWNpZmljIGRhdGEgZm9yIG90aGVycy4gUHJvdmlkZXMgY2l0YXRpb25zLiBBbGxvd3Mgb3B0aW9uYWwgZmlsdGVyaW5nLiBJcyBhYmxlIHRvIHJlYWQgUERGIGZpbGVzIGFuZCBjb252ZXJ0IHRvIE1hcmtkb3duLlwiLFxyXG45MDU6NDN8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlucHV0U2NoZW1hXCI6IHtcclxuOTA2OjYwfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxyXG45MDc6NDZ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcclxuOTA4OjU1fCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInF1ZXJ5XCI6IHtcInR5cGVcIjogXCJzdHJpbmdcIiwgXCJkZXNjcmlwdGlvblwiOiBcIlRoZSBzZWFyY2ggcXVlcnkuXCJ9LFxyXG45MDk6MmZ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZW5naW5lc1wiOiB7XCJ0eXBlXCI6IFwic3RyaW5nXCIsIFwiZGVzY3JpcHRpb25cIjogXCJPcHRpb25hbCBjb21tYS1zZXBhcmF0ZWQgbGlzdCBvZiBTZWFyWE5HIGVuZ2luZXMgKGUuZy4sICdnb29nbGUsd2lraXBlZGlhJykuIERlZmF1bHRzIHRvIGluc3RhbmNlIHNldHRpbmdzLlwifSxcclxuOTEwOjg4fCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3J5XCI6IHtcInR5cGVcIjogXCJzdHJpbmdcIiwgXCJkZXNjcmlwdGlvblwiOiBcIk9wdGlvbmFsIFNlYXJYTkcgY2F0ZWdvcnkgKGUuZy4sICdnZW5lcmFsJywgJ2ltYWdlcycsICd2aWRlb3MnLCAnZmlsZXMnLCAnbWFwJywgJ3NvY2lhbCBtZWRpYScsICduZXdzJywgJ2l0JywgJ3NjaWVuY2UnKS4gRGVmYXVsdHMgdG8gJ2dlbmVyYWwnLlwifSxcclxuOTExOjMyfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNhZmVzZWFyY2hcIjoge1widHlwZVwiOiBcInN0cmluZ1wiLCBcImVudW1cIjogW1wiMFwiLCBcIjFcIiwgXCIyXCJdLCBcImRlc2NyaXB0aW9uXCI6IFwiT3B0aW9uYWwgc2FmZSBzZWFyY2ggbGV2ZWwgKDA6IE5vbmUsIDE6IE1vZGVyYXRlLCAyOiBTdHJpY3QpLiBEZWZhdWx0cyB0byBpbnN0YW5jZSBzZXR0aW5ncy5cIn0sXHJcbjkxMjowNXwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aW1lX3JhbmdlXCI6IHtcInR5cGVcIjogXCJzdHJpbmdcIiwgXCJlbnVtXCI6IFtcImRheVwiLCBcIm1vbnRoXCIsIFwieWVhclwiXSwgXCJkZXNjcmlwdGlvblwiOiBcIk9wdGlvbmFsIHRpbWUgcmFuZ2UgZmlsdGVyICgnZGF5JywgJ21vbnRoJywgJ3llYXInKS4gRGVmYXVsdHMgdG8gaW5zdGFuY2Ugc2V0dGluZ3MuXCJ9XHJcbjkxMzpmNnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG45MTQ6Nzd8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiBbXCJxdWVyeVwiXSxcclxuOTE1OmY2fCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuOTE2OmY2fCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG45MTc6YWJ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2V0X3dlYnNpdGVcIjoge1xyXG45MTg6Yjl8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiU2NyYXBlIGNvbnRlbnQgZnJvbSB3ZWIgcGFnZXMgKHVzaW5nIFRyYWZpbGF0dXJhLCBjb252ZXJ0aW5nIFJlZGRpdCB0byBvbGQucmVkZGl0KS4gQ2FjaGVzIHJlc3VsdHMgYW5kIHByb3ZpZGVzIGNpdGF0aW9ucy4gSXMgYWJsZSB0byByZWFkIFBERiBmaWxlcyBhbmQgY29udmVydCB0aGVzZSB0byBNYXJrZG93bi5cIixcclxuOTE5OjQzfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbnB1dFNjaGVtYVwiOiB7XHJcbjkyMDo2MHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcclxuOTIxOjQ2fCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XHJcbjkyMjpmN3wgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjoge1widHlwZVwiOiBcInN0cmluZ1wiLCBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIFVSTCBvZiB0aGUgd2Vic2l0ZS5cIn0sXHJcbjkyMzpmNnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG45MjQ6NGR8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiBbXCJ1cmxcIl0sXHJcbjkyNTpmNnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbjkyNjpmNnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuOTI3OjIxfCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImdldF9jdXJyZW50X2RhdGV0aW1lXCI6IHtcclxuOTI4OmY4fCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkdldCB0aGUgY3VycmVudCBkYXRlIGFuZCB0aW1lIGluIHRoZSBjb25maWd1cmVkIHRpbWV6b25lLlwiLFxyXG45Mjk6MTR8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlucHV0U2NoZW1hXCI6IHtcInR5cGVcIjogXCJvYmplY3RcIiwgXCJwcm9wZXJ0aWVzXCI6IHt9fSxcclxuOTMwOmY2fCAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG45MzE6MTh8ICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG45MzI6MTh8ICAgICAgICAgICAgICAgICAgICB9XHJcbjkzMzoxOHwgICAgICAgICAgICAgICAgfVxyXG45MzQ6NjF8ICAgICAgICAgICAgZWxpZiBtZXRob2QgPT0gXCJ0b29scy9saXN0XCI6XHJcbjkzNTowYnwgICAgICAgICAgICAgICAgcmVzcG9uc2VbXCJyZXN1bHRcIl0gPSB7XHJcbjkzNjpjNHwgICAgICAgICAgICAgICAgICAgIFwidG9vbHNcIjogW1xyXG45Mzc6ZmN8ICAgICAgICAgICAgICAgICAgICAgICAge1xyXG45Mzg6ZjZ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcInNlYXJjaF93ZWJcIixcclxuOTM5OmNkfCAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiU2VhcmNoIHRoZSB3ZWIgZm9yIHZhcmlvdXMgY2F0ZWdvcmllcyAoZ2VuZXJhbCwgaW1hZ2VzLCB2aWRlb3MsIGZpbGVzLCBtYXAsIHNvY2lhbCBtZWRpYSwgbmV3cywgaXQsIHNjaWVuY2UpLiBTY3JhcGVzIHRleHQgZm9yIHdlYiBjYXRlZ29yaWVzLCByZXR1cm5zIHNwZWNpZmljIGRhdGEgZm9yIG90aGVycy4gUHJvdmlkZXMgY2l0YXRpb25zLiBBbGxvd3Mgb3B0aW9uYWwgZmlsdGVyaW5nLiBJcyBhYmxlIHRvIHJlYWQgUERGIGZpbGVzIGFuZCBjb252ZXJ0IHRvIE1hcmtkb3duLlwiLFxyXG45NDA6NDN8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW5wdXRTY2hlbWFcIjoge1xyXG45NDE6NjB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcclxuOTQyOjQ2fCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcclxuOTQzOjU1fCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicXVlcnlcIjoge1widHlwZVwiOiBcInN0cmluZ1wiLCBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHNlYXJjaCBxdWVyeS5cIn0sXHJcbjk0NDoyZnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVuZ2luZXNcIjoge1widHlwZVwiOiBcInN0cmluZ1wiLCBcImRlc2NyaXB0aW9uXCI6IFwiT3B0aW9uYWwgY29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgU2VhclhORyBlbmdpbmVzIChlLmcuLCAnZ29vZ2xlLHdpa2lwZWRpYScpLiBEZWZhdWx0cyB0byBpbnN0YW5jZSBzZXR0aW5ncy5cIn0sXHJcbjk0NTo4OHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3J5XCI6IHtcInR5cGVcIjogXCJzdHJpbmdcIiwgXCJkZXNjcmlwdGlvblwiOiBcIk9wdGlvbmFsIFNlYXJYTkcgY2F0ZWdvcnkgKGUuZy4sICdnZW5lcmFsJywgJ2ltYWdlcycsICd2aWRlb3MnLCAnZmlsZXMnLCAnbWFwJywgJ3NvY2lhbCBtZWRpYScsICduZXdzJywgJ2l0JywgJ3NjaWVuY2UnKS4gRGVmYXVsdHMgdG8gJ2dlbmVyYWwnLlwifSxcclxuOTQ2OjMyfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2FmZXNlYXJjaFwiOiB7XCJ0eXBlXCI6IFwic3RyaW5nXCIsIFwiZW51bVwiOiBbXCIwXCIsIFwiMVwiLCBcIjJcIl0sIFwiZGVzY3JpcHRpb25cIjogXCJPcHRpb25hbCBzYWZlIHNlYXJjaCBsZXZlbCAoMDogTm9uZSwgMTogTW9kZXJhdGUsIDI6IFN0cmljdCkuIERlZmF1bHRzIHRvIGluc3RhbmNlIHNldHRpbmdzLlwifSxcclxuOTQ3OjA1fCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGltZV9yYW5nZVwiOiB7XCJ0eXBlXCI6IFwic3RyaW5nXCIsIFwiZW51bVwiOiBbXCJkYXlcIiwgXCJtb250aFwiLCBcInllYXJcIl0sIFwiZGVzY3JpcHRpb25cIjogXCJPcHRpb25hbCB0aW1lIHJhbmdlIGZpbHRlciAoJ2RheScsICdtb250aCcsICd5ZWFyJykuIERlZmF1bHRzIHRvIGluc3RhbmNlIHNldHRpbmdzLlwifVxyXG45NDg6ZjZ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG45NDk6Nzd8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IFtcInF1ZXJ5XCJdLFxyXG45NTA6ZjZ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbjk1MTpmNnwgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG45NTI6ZmN8ICAgICAgICAgICAgICAgICAgICAgICAge1xyXG45NTM6YzN8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImdldF93ZWJzaXRlXCIsXHJcbjk1NDpiOXwgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlNjcmFwZSBjb250ZW50IGZyb20gd2ViIHBhZ2VzICh1c2luZyBUcmFmaWxhdHVyYSwgY29udmVydGluZyBSZWRkaXQgdG8gb2xkLnJlZGRpdCkuIENhY2hlcyByZXN1bHRzIGFuZCBwcm92aWRlcyBjaXRhdGlvbnMuIElzIGFibGUgdG8gcmVhZCBQREYgZmlsZXMgYW5kIGNvbnZlcnQgdGhlc2UgdG8gTWFya2Rvd24uXCIsXHJcbjk1NTo0M3wgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbnB1dFNjaGVtYVwiOiB7XHJcbjk1Njo2MHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxyXG45NTc6NDZ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xyXG45NTg6Zjd8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjoge1widHlwZVwiOiBcInN0cmluZ1wiLCBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIFVSTCBvZiB0aGUgd2Vic2l0ZS5cIn0sXHJcbjk1OTpmNnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbjk2MDo0ZHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogW1widXJsXCJdLFxyXG45NjE6ZjZ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbjk2MjpmNnwgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG45NjM6ZmN8ICAgICAgICAgICAgICAgICAgICAgICAge1xyXG45NjQ6OTZ8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImdldF9jdXJyZW50X2RhdGV0aW1lXCIsXHJcbjk2NTpmOHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkdldCB0aGUgY3VycmVudCBkYXRlIGFuZCB0aW1lIGluIHRoZSBjb25maWd1cmVkIHRpbWV6b25lLlwiLFxyXG45NjY6MTR8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW5wdXRTY2hlbWFcIjoge1widHlwZVwiOiBcIm9iamVjdFwiLCBcInByb3BlcnRpZXNcIjoge319LFxyXG45Njc6ZjZ8ICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuOTY4OmY5fCAgICAgICAgICAgICAgICAgICAgXVxyXG45Njk6MTh8ICAgICAgICAgICAgICAgIH1cclxuOTcwOjZmfCAgICAgICAgICAgIGVsaWYgbWV0aG9kID09IFwidG9vbHMvY2FsbFwiOlxyXG45NzE6YWF8ICAgICAgICAgICAgICAgIHRvb2xfbmFtZSA9IHBhcmFtcy5nZXQoXCJuYW1lXCIpXHJcbjk3Mjo2ZHwgICAgICAgICAgICAgICAgdG9vbF9hcmdzID0gcGFyYW1zLmdldChcImFyZ3VtZW50c1wiLCB7fSlcclxuOTczOjhhfCAgICAgICAgICAgICAgICB0cnk6ICAgICAgICAgICAgICAgICAgICAjIFRvb2wgYWxpYXNlcyBhcyBwZXIgQ2xpbmUgUnVsZSBkb2N1bWVudFxyXG45NzQ6ZTJ8ICAgICAgICAgICAgICAgICAgICBhbGlhc19tYXAgPSB7XHJcbjk3NTphNHwgICAgICAgICAgICAgICAgICAgICAgICAjIHNlYXJjaF93ZWIgYWxpYXNlc1xyXG45NzY6Y2Z8ICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWFyY2hcIjogXCJzZWFyY2hfd2ViXCIsXHJcbjk3NzozNXwgICAgICAgICAgICAgICAgICAgICAgICBcIndlYl9zZWFyY2hcIjogXCJzZWFyY2hfd2ViXCIsXHJcbjk3ODpkY3wgICAgICAgICAgICAgICAgICAgICAgICBcImZpbmRcIjogXCJzZWFyY2hfd2ViXCIsXHJcbjk3OTo3MHwgICAgICAgICAgICAgICAgICAgICAgICBcImxvb2t1cF93ZWJcIjogXCJzZWFyY2hfd2ViXCIsXHJcbjk4MDo0MHwgICAgICAgICAgICAgICAgICAgICAgICBcInNlYXJjaF9vbmxpbmVcIjogXCJzZWFyY2hfd2ViXCIsXHJcbjk4MTo5N3wgICAgICAgICAgICAgICAgICAgICAgICBcImFjY2Vzc19pbnRlcm5ldFwiOiBcInNlYXJjaF93ZWJcIixcclxuOTgyOjA1fCAgICAgICAgICAgICAgICAgICAgICAgIFxyXG45ODM6ZDF8ICAgICAgICAgICAgICAgICAgICAgICAgIyBnZXRfd2Vic2l0ZSBhbGlhc2VzXHJcbjk4NDozNXwgICAgICAgICAgICAgICAgICAgICAgICBcImZldGNoX3VybFwiOiBcImdldF93ZWJzaXRlXCIsXHJcbjk4NTphZnwgICAgICAgICAgICAgICAgICAgICAgICBcInNjcmFwZV9wYWdlXCI6IFwiZ2V0X3dlYnNpdGVcIixcclxuOTg2OmIzfCAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2V0XCI6IFwiZ2V0X3dlYnNpdGVcIixcclxuOTg3OjAwfCAgICAgICAgICAgICAgICAgICAgICAgIFwibG9hZF93ZWJzaXRlXCI6IFwiZ2V0X3dlYnNpdGVcIixcclxuOTg4OjA1fCAgICAgICAgICAgICAgICAgICAgICAgIFxyXG45ODk6MjF8ICAgICAgICAgICAgICAgICAgICAgICAgIyBnZXRfY3VycmVudF9kYXRldGltZSBhbGlhc2VzXHJcbjk5MDpiMHwgICAgICAgICAgICAgICAgICAgICAgICBcImN1cnJlbnRfdGltZVwiOiBcImdldF9jdXJyZW50X2RhdGV0aW1lXCIsXHJcbjk5MTo1NHwgICAgICAgICAgICAgICAgICAgICAgICBcImdldF90aW1lXCI6IFwiZ2V0X2N1cnJlbnRfZGF0ZXRpbWVcIixcclxuOTkyOjk0fCAgICAgICAgICAgICAgICAgICAgICAgIFwiY3VycmVudF9kYXRlXCI6IFwiZ2V0X2N1cnJlbnRfZGF0ZXRpbWVcIlxyXG45OTM6NDF8ICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAjIEhhbmRsZSB0aGUgY29udGV4dC1zZW5zaXRpdmUgJ2xvb2t1cCcgYWxpYXMgYXMgcGVyIENsaW5lIFJ1bGVcclxuOTk0OjZjfCAgICAgICAgICAgICAgICAgICAgaWYgdG9vbF9uYW1lID09IFwibG9va3VwXCI6XHJcblxuW1Nob3dpbmcgbGluZXMgMS05OTQgb2YgMTA2MCAoNTAuMEtCIGxpbWl0KS4gVXNlIG9mZnNldD05OTUgdG8gY29udGludWVdXG5cbltTaG93aW5nIGxpbmVzIDEtOTk0IG9mIDEwNjAgKDUwLjBLQiBsaW1pdCkuIFVzZSBvZmZzZXQ9OTk1IHRvIGNvbnRpbnVlXSJ9XSwiZGV0YWlscyI6eyJ0cnVuY2F0aW9uIjp7ImNvbnRlbnQiOiIjIS91c3IvYmluL2VudiBweXRob24zXHJcblwiXCJcIlxyXG5NQ1AgU2VydmVyOiBDYXRlZ29yeS1hd2FyZSB3ZWIgc2VhcmNoLCB3ZWJzaXRlIHNjcmFwaW5nLCBhbmQgZGF0ZS90aW1lIHRvb2xzLlxyXG5cIlwiXCJcclxuXHJcbmltcG9ydCBhc3luY2lvXHJcbmltcG9ydCBqc29uXHJcbmltcG9ydCBsb2dnaW5nXHJcbmltcG9ydCBvc1xyXG5pbXBvcnQgcGF0aGxpYlxyXG5pbXBvcnQgcmVcclxuaW1wb3J0IHN5c1xyXG5pbXBvcnQgdGltZVxyXG5pbXBvcnQgdW5pY29kZWRhdGFcclxuZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWV6b25lLCB0aW1lZGVsdGFcclxuZnJvbSB0eXBpbmcgaW1wb3J0IENhbGxhYmxlLCBBbnksIERpY3QsIE9wdGlvbmFsLCBBd2FpdGFibGUsIExpc3QsIFVuaW9uLCBUeXBlVmFyLCBUeXBlXHJcbmZyb20gdXJsbGliLnBhcnNlIGltcG9ydCB1cmxwYXJzZVxyXG5cclxuaW1wb3J0IGh0dHB4XHJcbmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwXHJcbmZyb20gcHlkYW50aWMgaW1wb3J0IEJhc2VNb2RlbCwgRmllbGQsIHZhbGlkYXRvciwgVmFsaWRhdGlvbkVycm9yLCByb290X3ZhbGlkYXRvclxyXG5pbXBvcnQgdHJhZmlsYXR1cmFcclxuZnJvbSBkYXRldXRpbCBpbXBvcnQgcGFyc2VyIGFzIGRhdGVfcGFyc2VyXHJcbmZyb20gY2FjaGV0b29scyBpbXBvcnQgVFRMQ2FjaGVcclxuZnJvbSB6b25laW5mbyBpbXBvcnQgWm9uZUluZm9cclxuaW1wb3J0IGZpbGV0eXBlXHJcbmltcG9ydCBweW11cGRmXHJcbmltcG9ydCBweW11cGRmNGxsbVxyXG5cclxuIyAtLS0gQ3VzdG9tIEV4Y2VwdGlvbnMgLS0tXHJcbmNsYXNzIE1DUFNlcnZlckVycm9yKEV4Y2VwdGlvbik6XHJcbiAgICBcIlwiXCJCYXNlIGV4Y2VwdGlvbiBjbGFzcyBmb3IgTUNQIFNlcnZlciBlcnJvcnMuXCJcIlwiXHJcbiAgICBwYXNzXHJcblxyXG5jbGFzcyBDb25maWd1cmF0aW9uRXJyb3IoTUNQU2VydmVyRXJyb3IpOlxyXG4gICAgXCJcIlwiUmFpc2VkIHdoZW4gdGhlcmUncyBhbiBpc3N1ZSB3aXRoIGNvbmZpZ3VyYXRpb24gdmFsdWVzLlwiXCJcIlxyXG4gICAgcGFzc1xyXG5cclxuY2xhc3MgU2VhclhOR0Nvbm5lY3Rpb25FcnJvcihNQ1BTZXJ2ZXJFcnJvcik6XHJcbiAgICBcIlwiXCJSYWlzZWQgd2hlbiBjb25uZWN0aW9uIHRvIFNlYXJYTkcgZmFpbHMuXCJcIlwiXHJcbiAgICBwYXNzXHJcblxyXG5jbGFzcyBXZWJTY3JhcGluZ0Vycm9yKE1DUFNlcnZlckVycm9yKTpcclxuICAgIFwiXCJcIlJhaXNlZCB3aGVuIHdlYiBzY3JhcGluZyBmYWlscy5cIlwiXCJcclxuICAgIHBhc3NcclxuXHJcbmNsYXNzIFJhdGVMaW1pdEV4Y2VlZGVkRXJyb3IoTUNQU2VydmVyRXJyb3IpOlxyXG4gICAgXCJcIlwiUmFpc2VkIHdoZW4gcmF0ZSBsaW1pdCBmb3IgYSBkb21haW4gaXMgZXhjZWVkZWQuXCJcIlwiXHJcbiAgICBwYXNzXHJcblxyXG4jIC0tLSBMb2dnaW5nIFNldHVwIC0tLVxyXG5sb2dnaW5nLmJhc2ljQ29uZmlnKFxyXG4gICAgbGV2ZWw9bG9nZ2luZy5JTkZPLFxyXG4gICAgZm9ybWF0PSclKGFzY3RpbWUpcyAtICUobmFtZSlzIC0gJShsZXZlbG5hbWUpcyAtICUobWVzc2FnZSlzJyxcclxuICAgIHN0cmVhbT1zeXMuc3RkZXJyXHJcbilcclxubG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pXHJcblxyXG4jIC0tLSBHbG9iYWwgQ2FjaGUgLS0tXHJcbndlYnNpdGVfY2FjaGUgPSBOb25lXHJcblxyXG4jIC0tLSBSYXRlIExpbWl0aW5nIGFuZCBDYWNoZSBWYWxpZGF0aW9uIC0tLVxyXG5jbGFzcyBSYXRlTGltaXRlcjpcclxuICAgIFwiXCJcIkltcGxlbWVudHMgZG9tYWluLWJhc2VkIHJhdGUgbGltaXRpbmcgZm9yIHdlYiByZXF1ZXN0cy5cIlwiXCJcclxuICAgIFxyXG4gICAgZGVmIF9faW5pdF9fKHNlbGYsIHJlcXVlc3RzX3Blcl9taW51dGU6IGludCA9IDEwLCB0aW1lb3V0X3NlY29uZHM6IGludCA9IDYwKTpcclxuICAgICAgICBcIlwiXCJcclxuICAgICAgICBJbml0aWFsaXplIHRoZSByYXRlIGxpbWl0ZXIuXHJcbiAgICAgICAgXHJcbiAgICAgICAgQXJnczpcclxuICAgICAgICAgICAgcmVxdWVzdHNfcGVyX21pbnV0ZTogTWF4aW11bSBudW1iZXIgb2YgcmVxdWVzdHMgYWxsb3dlZCBwZXIgZG9tYWluIHBlciBtaW51dGVcclxuICAgICAgICAgICAgdGltZW91dF9zZWNvbmRzOiBIb3cgbG9uZyB0byB0cmFjayByZXF1ZXN0cyBmb3IgZWFjaCBkb21haW5cclxuICAgICAgICBcIlwiXCJcclxuICAgICAgICBzZWxmLnJlcXVlc3RzX3Blcl9taW51dGUgPSByZXF1ZXN0c19wZXJfbWludXRlXHJcbiAgICAgICAgc2VsZi50aW1lb3V0X3NlY29uZHMgPSB0aW1lb3V0X3NlY29uZHNcclxuICAgICAgICBzZWxmLmRvbWFpbl9yZXF1ZXN0cyA9IHt9ICAjIE1hcHMgZG9tYWluIHRvIGxpc3Qgb2YgcmVxdWVzdCB0aW1lc3RhbXBzXHJcbiAgICAgICAgXHJcbiAgICBkZWYgY2FuX3JlcXVlc3Qoc2VsZiwgdXJsOiBzdHIpIC0+IGJvb2w6XHJcbiAgICAgICAgXCJcIlwiXHJcbiAgICAgICAgQ2hlY2sgaWYgYSByZXF1ZXN0IHRvIHRoZSBnaXZlbiBVUkwgaXMgYWxsb3dlZCB1bmRlciByYXRlIGxpbWl0cy5cclxuICAgICAgICBcclxuICAgICAgICBBcmdzOlxyXG4gICAgICAgICAgICB1cmw6IFRoZSBVUkwgdG8gY2hlY2tcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgUmV0dXJuczpcclxuICAgICAgICAgICAgVHJ1ZSBpZiB0aGUgcmVxdWVzdCBpcyBhbGxvd2VkLCBGYWxzZSBvdGhlcndpc2VcclxuICAgICAgICBcIlwiXCJcclxuICAgICAgICBkb21haW4gPSB1cmxwYXJzZSh1cmwpLm5ldGxvY1xyXG4gICAgICAgIGlmIG5vdCBkb21haW46XHJcbiAgICAgICAgICAgIHJldHVybiBUcnVlICAjIE5vIGRvbWFpbiwgYWxsb3cgcmVxdWVzdFxyXG4gICAgICAgICAgICBcclxuICAgICAgICBjdXJyZW50X3RpbWUgPSB0aW1lLnRpbWUoKVxyXG4gICAgICAgIFxyXG4gICAgICAgICMgSW5pdGlhbGl6ZSBkb21haW4gZW50cnkgaWYgbm90IGV4aXN0c1xyXG4gICAgICAgIGlmIGRvbWFpbiBub3QgaW4gc2VsZi5kb21haW5fcmVxdWVzdHM6XHJcbiAgICAgICAgICAgIHNlbGYuZG9tYWluX3JlcXVlc3RzW2RvbWFpbl0gPSBbXVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAjIENsZWFuIHVwIG9sZCByZXF1ZXN0c1xyXG4gICAgICAgIHNlbGYuZG9tYWluX3JlcXVlc3RzW2RvbWFpbl0gPSBbXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcCBmb3IgdGltZXN0YW1wIGluIHNlbGYuZG9tYWluX3JlcXVlc3RzW2RvbWFpbl1cclxuICAgICAgICAgICAgaWYgY3VycmVudF90aW1lIC0gdGltZXN0YW1wIDwgc2VsZi50aW1lb3V0X3NlY29uZHNcclxuICAgICAgICBdXHJcbiAgICAgICAgXHJcbiAgICAgICAgIyBDaGVjayBpZiB3ZSdyZSBvdmVyIHRoZSBsaW1pdFxyXG4gICAgICAgIGlmIGxlbihzZWxmLmRvbWFpbl9yZXF1ZXN0c1tkb21haW5dKSA+PSBzZWxmLnJlcXVlc3RzX3Blcl9taW51dGU6XHJcbiAgICAgICAgICAgIHJldHVybiBGYWxzZVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAjIEFkZCBjdXJyZW50IHJlcXVlc3QgdGltZXN0YW1wXHJcbiAgICAgICAgc2VsZi5kb21haW5fcmVxdWVzdHNbZG9tYWluXS5hcHBlbmQoY3VycmVudF90aW1lKVxyXG4gICAgICAgIHJldHVybiBUcnVlXHJcbiAgICAgICAgXHJcbiAgICBkZWYgZ2V0X3JlbWFpbmluZ190aW1lKHNlbGYsIHVybDogc3RyKSAtPiBmbG9hdDpcclxuICAgICAgICBcIlwiXCJcclxuICAgICAgICBHZXQgdGhlIHJlbWFpbmluZyB0aW1lIGluIHNlY29uZHMgYmVmb3JlIGEgcmVxdWVzdCBjYW4gYmUgbWFkZS5cclxuICAgICAgICBcclxuICAgICAgICBBcmdzOlxyXG4gICAgICAgICAgICB1cmw6IFRoZSBVUkwgdG8gY2hlY2tcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgUmV0dXJuczpcclxuICAgICAgICAgICAgVGltZSBpbiBzZWNvbmRzIHRvIHdhaXQsIG9yIDAgaWYgcmVxdWVzdCBjYW4gYmUgbWFkZSBpbW1lZGlhdGVseVxyXG4gICAgICAgIFwiXCJcIlxyXG4gICAgICAgIGRvbWFpbiA9IHVybHBhcnNlKHVybCkubmV0bG9jXHJcbiAgICAgICAgaWYgbm90IGRvbWFpbiBvciBkb21haW4gbm90IGluIHNlbGYuZG9tYWluX3JlcXVlc3RzOlxyXG4gICAgICAgICAgICByZXR1cm4gMFxyXG4gICAgICAgICAgICBcclxuICAgICAgICBjdXJyZW50X3RpbWUgPSB0aW1lLnRpbWUoKVxyXG4gICAgICAgIHRpbWVzdGFtcHMgPSBzZWxmLmRvbWFpbl9yZXF1ZXN0c1tkb21haW5dXHJcbiAgICAgICAgXHJcbiAgICAgICAgIyBDbGVhbiB1cCBvbGQgcmVxdWVzdHNcclxuICAgICAgICB0aW1lc3RhbXBzID0gW3QgZm9yIHQgaW4gdGltZXN0YW1wcyBpZiBjdXJyZW50X3RpbWUgLSB0IDwgc2VsZi50aW1lb3V0X3NlY29uZHNdXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgbGVuKHRpbWVzdGFtcHMpIDwgc2VsZi5yZXF1ZXN0c19wZXJfbWludXRlOlxyXG4gICAgICAgICAgICByZXR1cm4gMFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAjIEZpbmQgb2xkZXN0IHRpbWVzdGFtcCBhbmQgY2FsY3VsYXRlIHdoZW4gaXQgd2lsbCBleHBpcmVcclxuICAgICAgICBvbGRlc3QgPSBtaW4odGltZXN0YW1wcylcclxuICAgICAgICByZXR1cm4gbWF4KDAsIG9sZGVzdCArIHNlbGYudGltZW91dF9zZWNvbmRzIC0gY3VycmVudF90aW1lKVxyXG5cclxuXHJcbmNsYXNzIENhY2hlVmFsaWRhdG9yOlxyXG4gICAgXCJcIlwiSGFuZGxlcyB2YWxpZGF0aW9uIG9mIGNhY2hlZCB3ZWIgY29udGVudC5cIlwiXCJcclxuICAgIFxyXG4gICAgQHN0YXRpY21ldGhvZFxyXG4gICAgZGVmIGlzX3ZhbGlkKGNhY2hlZF9yZXN1bHQ6IERpY3Rbc3RyLCBBbnldLCBtYXhfYWdlX21pbnV0ZXM6IGludCA9IDMwKSAtPiBib29sOlxyXG4gICAgICAgIFwiXCJcIlxyXG4gICAgICAgIENoZWNrIGlmIGEgY2FjaGVkIHJlc3VsdCBpcyBzdGlsbCB2YWxpZC5cclxuICAgICAgICBcclxuICAgICAgICBBcmdzOlxyXG4gICAgICAgICAgICBjYWNoZWRfcmVzdWx0OiBUaGUgY2FjaGVkIHJlc3VsdCB0byB2YWxpZGF0ZVxyXG4gICAgICAgICAgICBtYXhfYWdlX21pbnV0ZXM6IE1heGltdW0gYWdlIGluIG1pbnV0ZXMgZm9yIGNhY2hlZCBjb250ZW50IHRvIGJlIGNvbnNpZGVyZWQgdmFsaWRcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgUmV0dXJuczpcclxuICAgICAgICAgICAgVHJ1ZSBpZiB0aGUgY2FjaGVkIHJlc3VsdCBpcyB2YWxpZCwgRmFsc2Ugb3RoZXJ3aXNlXHJcbiAgICAgICAgXCJcIlwiXHJcbiAgICAgICAgaWYgbm90IGNhY2hlZF9yZXN1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiBGYWxzZVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAjIENoZWNrIGlmIHRoZSBjYWNoZWQgcmVzdWx0IGhhcyBhbiBhY2Nlc3MgdGltZXN0YW1wXHJcbiAgICAgICAgaWYgXCJkYXRlX2FjY2Vzc2VkXCIgbm90IGluIGNhY2hlZF9yZXN1bHQ6XHJcbiAgICAgICAgICAgIHJldHVybiBGYWxzZVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB0cnk6XHJcbiAgICAgICAgICAgICMgUGFyc2UgdGhlIGRhdGVfYWNjZXNzZWQgdGltZXN0YW1wXHJcbiAgICAgICAgICAgIGRhdGVfYWNjZXNzZWQgPSBkYXRlX3BhcnNlci5wYXJzZShjYWNoZWRfcmVzdWx0W1wiZGF0ZV9hY2Nlc3NlZFwiXSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICMgQ2hlY2sgaWYgdGhlIGNhY2hlIGVudHJ5IGlzIHRvbyBvbGRcclxuICAgICAgICAgICAgbm93ID0gZGF0ZXRpbWUubm93KHRpbWV6b25lLnV0YylcclxuICAgICAgICAgICAgYWdlX3RkID0gbm93IC0gZGF0ZV9hY2Nlc3NlZFxyXG4gICAgICAgICAgICByZXR1cm4gYWdlX3RkLnRvdGFsX3NlY29uZHMoKSA8IChtYXhfYWdlX21pbnV0ZXMgKiA2MClcclxuICAgICAgICBleGNlcHQgKFZhbHVlRXJyb3IsIFR5cGVFcnJvcik6XHJcbiAgICAgICAgICAgIHJldHVybiBGYWxzZVxyXG5cclxuIyAtLS0gSGVscGVyIEZ1bmN0aW9ucyAtLS1cclxuY2xhc3MgSGVscGVyRnVuY3Rpb25zOlxyXG4gICAgQHN0YXRpY21ldGhvZFxyXG4gICAgZGVmIGdldF9iYXNlX3VybCh1cmw6IHN0cikgLT4gc3RyOlxyXG4gICAgICAgIHBhcnNlZF91cmwgPSB1cmxwYXJzZSh1cmwpXHJcbiAgICAgICAgcmV0dXJuIGZcIntwYXJzZWRfdXJsLnNjaGVtZX06Ly97cGFyc2VkX3VybC5uZXRsb2N9XCJcclxuXHJcbiAgICBAc3RhdGljbWV0aG9kXHJcbiAgICBkZWYgZ2VuZXJhdGVfZXhjZXJwdChjb250ZW50OiBzdHIsIG1heF9sZW5ndGg6IGludCA9IDIwMCkgLT4gc3RyOlxyXG4gICAgICAgIGxpbmVzID0gY29udGVudC5zcGxpdGxpbmVzKClcclxuICAgICAgICBleGNlcnB0ID0gXCJcIlxyXG4gICAgICAgIGZvciBsaW5lIGluIGxpbmVzOlxyXG4gICAgICAgICAgICBpZiBsZW4oZXhjZXJwdCkgKyBsZW4obGluZSkgKyAxIDwgbWF4X2xlbmd0aDpcclxuICAgICAgICAgICAgICAgIGV4Y2VycHQgKz0gbGluZSArIFwiXFxuXCJcclxuICAgICAgICAgICAgZWxzZTpcclxuICAgICAgICAgICAgICAgIHJlbWFpbmluZ19sZW4gPSBtYXhfbGVuZ3RoIC0gbGVuKGV4Y2VycHQpIC0gNFxyXG4gICAgICAgICAgICAgICAgaWYgcmVtYWluaW5nX2xlbiA+IDA6XHJcbiAgICAgICAgICAgICAgICAgICAgZXhjZXJwdCArPSBsaW5lWzpyZW1haW5pbmdfbGVuXSArIFwiIC4uLlwiXHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgIHJldHVybiBleGNlcnB0LnN0cmlwKCkgaWYgZXhjZXJwdCBlbHNlIGNvbnRlbnRbOm1heF9sZW5ndGhdICsgXCIuLi5cIlxyXG5cclxuICAgIEBzdGF0aWNtZXRob2RcclxuICAgIGRlZiBmb3JtYXRfdGV4dF93aXRoX3RyYWZpbGF0dXJhKGh0bWxfY29udGVudDogc3RyLCB0aW1lb3V0OiBpbnQpIC0+IHN0cjpcclxuICAgICAgICBleHRyYWN0ZWRfdGV4dCA9IHRyYWZpbGF0dXJhLmV4dHJhY3QoXHJcbiAgICAgICAgICAgIGh0bWxfY29udGVudCxcclxuICAgICAgICAgICAgZmF2b3JfcmVhZGFiaWxpdHk9VHJ1ZSxcclxuICAgICAgICAgICAgaW5jbHVkZV9jb21tZW50cz1GYWxzZSxcclxuICAgICAgICAgICAgaW5jbHVkZV90YWJsZXM9VHJ1ZSxcclxuICAgICAgICAgICAgdGltZW91dD10aW1lb3V0XHJcbiAgICAgICAgKVxyXG4gICAgICAgIGlmIG5vdCBleHRyYWN0ZWRfdGV4dDpcclxuICAgICAgICAgICAgc291cCA9IEJlYXV0aWZ1bFNvdXAoaHRtbF9jb250ZW50LCBcImh0bWwucGFyc2VyXCIpXHJcbiAgICAgICAgICAgIGV4dHJhY3RlZF90ZXh0ID0gc291cC5nZXRfdGV4dChzZXBhcmF0b3I9XCJcXG5cIiwgc3RyaXA9VHJ1ZSlcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm5pbmcoXCJUcmFmaWxhdHVyYSBmYWlsZWQvdGltZWQgb3V0LCBmYWxsaW5nIGJhY2sgdG8gYmFzaWMgdGV4dCBleHRyYWN0aW9uLlwiKVxyXG4gICAgICAgIGxpbmVzID0gW3VuaWNvZGVkYXRhLm5vcm1hbGl6ZShcIk5GS0NcIiwgbGluZSkuc3RyaXAoKSBmb3IgbGluZSBpbiBleHRyYWN0ZWRfdGV4dC5zcGxpdGxpbmVzKCldXHJcbiAgICAgICAgY2xlYW5lZF9saW5lcyA9IFtyZS5zdWIocidcXHN7Mix9JywgJyAnLCBsaW5lKSBmb3IgbGluZSBpbiBsaW5lcyBpZiBsaW5lXVxyXG4gICAgICAgIGZvcm1hdHRlZF90ZXh0ID0gXCJcXG5cIi5qb2luKGNsZWFuZWRfbGluZXMpXHJcbiAgICAgICAgcmV0dXJuIEhlbHBlckZ1bmN0aW9ucy5yZW1vdmVfZW1vamlzKGZvcm1hdHRlZF90ZXh0KS5zdHJpcCgpXHJcblxyXG4gICAgQHN0YXRpY21ldGhvZFxyXG4gICAgZGVmIHJlbW92ZV9lbW9qaXModGV4dDogc3RyKSAtPiBzdHI6XHJcbiAgICAgICAgcmV0dXJuIFwiXCIuam9pbihjIGZvciBjIGluIHRleHQgaWYgbm90IHVuaWNvZGVkYXRhLmNhdGVnb3J5KGMpLnN0YXJ0c3dpdGgoXCJTb1wiKSlcclxuXHJcbiAgICBAc3RhdGljbWV0aG9kXHJcbiAgICBkZWYgdHJ1bmNhdGVfdG9fbl93b3Jkcyh0ZXh0OiBzdHIsIHdvcmRfbGltaXQ6IGludCkgLT4gc3RyOlxyXG4gICAgICAgIHRva2VucyA9IHRleHQuc3BsaXQoKVxyXG4gICAgICAgIGlmIGxlbih0b2tlbnMpIDw9IHdvcmRfbGltaXQ6XHJcbiAgICAgICAgICAgIHJldHVybiB0ZXh0XHJcbiAgICAgICAgcmV0dXJuIFwiIFwiLmpvaW4odG9rZW5zWzp3b3JkX2xpbWl0XSkgKyBcIi4uLlwiXHJcblxyXG4gICAgQHN0YXRpY21ldGhvZFxyXG4gICAgZGVmIF9tb2RpZnlfcmVkZGl0X3VybCh1cmw6IHN0cikgLT4gc3RyOlxyXG4gICAgICAgIG1hdGNoID0gcmUubWF0Y2goclwiXihodHRwcz86Ly8pKHd3d1xcLik/KHJlZGRpdFxcLmNvbSkoLiopJFwiLCB1cmwsIHJlLklHTk9SRUNBU0UpXHJcbiAgICAgICAgaWYgbWF0Y2g6XHJcbiAgICAgICAgICAgIHByb3RvY29sID0gbWF0Y2guZ3JvdXAoMSlcclxuICAgICAgICAgICAgcGF0aF9hbmRfcXVlcnkgPSBtYXRjaC5ncm91cCg0KVxyXG4gICAgICAgICAgICByZXR1cm4gZlwie3Byb3RvY29sfW9sZC5yZWRkaXQuY29te3BhdGhfYW5kX3F1ZXJ5fVwiXHJcbiAgICAgICAgcmV0dXJuIHVybFxyXG5cclxuICAgIEBzdGF0aWNtZXRob2RcclxuICAgIGFzeW5jIGRlZiBwcm9jZXNzX3dlYl9zZWFyY2hfcmVzdWx0KHJlc3VsdDogRGljdFtzdHIsIEFueV0sIHZhbHZlcywgY2xpZW50KSAtPiBEaWN0W3N0ciwgQW55XTpcclxuICAgICAgICBcIlwiXCJQcm9jZXNzIGEgd2ViIHNlYXJjaCByZXN1bHQgdG8gZXh0cmFjdCBjb250ZW50IGFuZCBtZXRhZGF0YS5cIlwiXCJcclxuICAgICAgICB1cmwgPSByZXN1bHQuZ2V0KFwidXJsXCIpXHJcbiAgICAgICAgaWYgbm90IHVybDpcclxuICAgICAgICAgICAgcmV0dXJuIE5vbmVcclxuICAgICAgICBcclxuICAgICAgICAjIENoZWNrIGZvciBpZ25vcmVkIHdlYnNpdGVzXHJcbiAgICAgICAgaWYgdmFsdmVzLklHTk9SRURfV0VCU0lURVM6XHJcbiAgICAgICAgICAgIGlnbm9yZWRfc2l0ZXMgPSBbc2l0ZS5zdHJpcCgpIGZvciBzaXRlIGluIHZhbHZlcy5JR05PUkVEX1dFQlNJVEVTLnNwbGl0KFwiLFwiKV1cclxuICAgICAgICAgICAgaWYgYW55KHNpdGUgaW4gdXJsIGZvciBzaXRlIGluIGlnbm9yZWRfc2l0ZXMpOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcInVybFwiOiB1cmwsIFwidGl0bGVcIjogcmVzdWx0LmdldChcInRpdGxlXCIsIFwiXCIpLCBcImVycm9yXCI6IFwiSWdub3JlZCB3ZWJzaXRlXCIsIFwic291cFwiOiBOb25lfVxyXG4gICAgICAgIFxyXG4gICAgICAgICMgVHJ5IHRvIGdldCBjb250ZW50IGZyb20gdGhlIHdlYnNpdGVcclxuICAgICAgICB0cnk6XHJcbiAgICAgICAgICAgIHVybF90b19mZXRjaCA9IEhlbHBlckZ1bmN0aW9ucy5fbW9kaWZ5X3JlZGRpdF91cmwodXJsKVxyXG4gICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGNsaWVudC5nZXQodXJsX3RvX2ZldGNoLCB0aW1lb3V0PXZhbHZlcy5TQ1JBUElOR19USU1FT1VUKVxyXG4gICAgICAgICAgICByZXNwb25zZS5yYWlzZV9mb3Jfc3RhdHVzKClcclxuICAgICAgICAgICAgaHRtbF9jb250ZW50ID0gcmVzcG9uc2UudGV4dFxyXG4gICAgICAgICAgICByYXdfY29udGVudCA9IHJlc3BvbnNlLmNvbnRlbnRcclxuXHJcbiAgICAgICAgICAgICMgV2Ugb25seSBuZWVkIGEgY291cGxlIG9mIGluaXRpYWwgYnl0ZXMsIG5vdCB0aGUgd2hvbGUgZmlsZSBmb3IgTUlNRSB0eXBlIGd1ZXNzXHJcbiAgICAgICAgICAgIGtpbmQgPSBmaWxldHlwZS5ndWVzcyhyYXdfY29udGVudClcclxuXHJcbiAgICAgICAgICAgIGlmIGtpbmQgaXMgbm90IE5vbmUgYW5kIGtpbmQubWltZSA9PSBcImFwcGxpY2F0aW9uL3BkZlwiOlxyXG4gICAgICAgICAgICAgICAgIyBQcm9jZXNzIFBERlxyXG4gICAgICAgICAgICAgICAgZG9jID0gcHltdXBkZi5vcGVuKHN0cmVhbT1yYXdfY29udGVudCwgZmlsZXR5cGU9XCJwZGZcIilcclxuICAgICAgICAgICAgICAgIG1kX3RleHQgPSBweW11cGRmNGxsbS50b19tYXJrZG93bihkb2MpXHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBtZF90ZXh0XHJcbiAgICAgICAgICAgICAgICB0cnVuY2F0ZWRfY29udGVudCA9IEhlbHBlckZ1bmN0aW9ucy50cnVuY2F0ZV90b19uX3dvcmRzKGNvbnRlbnQsIHZhbHZlcy5QQUdFX0NPTlRFTlRfV09SRFNfTElNSVQpXHJcbiAgICAgICAgICAgICAgICBleGNlcnB0ID0gSGVscGVyRnVuY3Rpb25zLmdlbmVyYXRlX2V4Y2VycHQoY29udGVudClcclxuXHJcbiAgICAgICAgICAgICAgICB0aXRsZSA9IFwiQSBQREYgZG9jdW1lbnQgY29udmVydGVkIHRvIE1hcmtkb3duXCJcclxuICAgICAgICAgICAgICAgIHNvdXAgPSBOb25lXHJcbiAgICAgICAgICAgIGVsc2U6XHJcbiAgICAgICAgICAgICAgICAjIEFzc3VtZSBIVE1MIGZvciBub3dcclxuICAgICAgICAgICAgICAgIHNvdXAgPSBCZWF1dGlmdWxTb3VwKGh0bWxfY29udGVudCwgXCJodG1sLnBhcnNlclwiKVxyXG4gICAgICAgICAgICAgICAgdGl0bGUgPSByZXN1bHQuZ2V0KFwidGl0bGVcIikgb3IgKHNvdXAudGl0bGUuc3RyaW5nIGlmIHNvdXAudGl0bGUgZWxzZSBcIk5vIHRpdGxlXCIpXHJcbiAgICAgICAgICAgICAgICB0aXRsZSA9IHVuaWNvZGVkYXRhLm5vcm1hbGl6ZShcIk5GS0NcIiwgdGl0bGUuc3RyaXAoKSlcclxuICAgICAgICAgICAgICAgIHRpdGxlID0gSGVscGVyRnVuY3Rpb25zLnJlbW92ZV9lbW9qaXModGl0bGUpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29udGVudCA9IEhlbHBlckZ1bmN0aW9ucy5mb3JtYXRfdGV4dF93aXRoX3RyYWZpbGF0dXJhKGh0bWxfY29udGVudCwgdmFsdmVzLlRSQUZJTEFUVVJBX1RJTUVPVVQpXHJcbiAgICAgICAgICAgICAgICB0cnVuY2F0ZWRfY29udGVudCA9IEhlbHBlckZ1bmN0aW9ucy50cnVuY2F0ZV90b19uX3dvcmRzKGNvbnRlbnQsIHZhbHZlcy5QQUdFX0NPTlRFTlRfV09SRFNfTElNSVQpXHJcbiAgICAgICAgICAgICAgICBleGNlcnB0ID0gSGVscGVyRnVuY3Rpb25zLmdlbmVyYXRlX2V4Y2VycHQoY29udGVudClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBcInRpdGxlXCI6IHRpdGxlLFxyXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogdXJsLFxyXG4gICAgICAgICAgICAgICAgXCJjb250ZW50XCI6IHRydW5jYXRlZF9jb250ZW50LFxyXG4gICAgICAgICAgICAgICAgXCJleGNlcnB0XCI6IGV4Y2VycHQsXHJcbiAgICAgICAgICAgICAgICBcInNuaXBwZXRcIjogcmVzdWx0LmdldChcImNvbnRlbnRcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICBcImRhdGVfYWNjZXNzZWRcIjogZGF0ZXRpbWUubm93KHRpbWV6b25lLnV0YykuaXNvZm9ybWF0KCksXHJcbiAgICAgICAgICAgICAgICBcInNvdXBcIjogc291cCxcclxuICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogTm9uZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgZXhjZXB0IGh0dHB4LkhUVFBTdGF0dXNFcnJvciBhcyBlOlxyXG4gICAgICAgICAgICBlcnJvcl9tc2cgPSBmXCJ7ZS5yZXNwb25zZS5zdGF0dXNfY29kZX0ge2UucmVzcG9uc2UucmVhc29uX3BocmFzZX1cIlxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiByZXN1bHQuZ2V0KFwidGl0bGVcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICBcInVybFwiOiB1cmwsXHJcbiAgICAgICAgICAgICAgICBcInNuaXBwZXRcIjogcmVzdWx0LmdldChcImNvbnRlbnRcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICBcImVycm9yXCI6IGVycm9yX21zZyxcclxuICAgICAgICAgICAgICAgIFwic291cFwiOiBOb25lXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBleGNlcHQgaHR0cHguUmVxdWVzdEVycm9yIGFzIGU6XHJcbiAgICAgICAgICAgIGVycm9yX21zZyA9IGZcIlJlcXVlc3QgZmFpbGVkOiB7c3RyKGUpfVwiXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBcInRpdGxlXCI6IHJlc3VsdC5nZXQoXCJ0aXRsZVwiLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgIFwidXJsXCI6IHVybCxcclxuICAgICAgICAgICAgICAgIFwic25pcHBldFwiOiByZXN1bHQuZ2V0KFwiY29udGVudFwiLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogZXJyb3JfbXNnLFxyXG4gICAgICAgICAgICAgICAgXCJzb3VwXCI6IE5vbmVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTpcclxuICAgICAgICAgICAgZXJyb3JfbXNnID0gZlwiVW5leHBlY3RlZCBlcnJvcjoge3N0cihlKX1cIlxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiByZXN1bHQuZ2V0KFwidGl0bGVcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICBcInVybFwiOiB1cmwsXHJcbiAgICAgICAgICAgICAgICBcInNuaXBwZXRcIjogcmVzdWx0LmdldChcImNvbnRlbnRcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICBcImVycm9yXCI6IGVycm9yX21zZyxcclxuICAgICAgICAgICAgICAgIFwic291cFwiOiBOb25lXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiMgLS0tIEV2ZW50IEVtaXR0ZXIgLS0tXHJcbmNsYXNzIE1DUEV2ZW50RW1pdHRlcjpcclxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzZW5kX25vdGlmaWNhdGlvbl9mdW5jOiBDYWxsYWJsZVtbc3RyLCBBbnldLCBBd2FpdGFibGVbTm9uZV1dKTpcclxuICAgICAgICBzZWxmLnNlbmRfbm90aWZpY2F0aW9uX2Z1bmMgPSBzZW5kX25vdGlmaWNhdGlvbl9mdW5jXHJcblxyXG4gICAgYXN5bmMgZGVmIGVtaXQoc2VsZiwgZGVzY3JpcHRpb246IHN0ciA9IFwiVW5rbm93biBTdGF0ZVwiLCBzdGF0dXM6IHN0ciA9IFwiaW5fcHJvZ3Jlc3NcIiwgZG9uZTogYm9vbCA9IEZhbHNlLCBzdGVwX251bWJlcjogT3B0aW9uYWxbZmxvYXRdID0gTm9uZSk6XHJcbiAgICAgICAgbWVzc2FnZV9kYXRhID0ge1wic3RhdHVzXCI6IHN0YXR1cywgXCJkZXNjcmlwdGlvblwiOiBkZXNjcmlwdGlvbiwgXCJkb25lXCI6IGRvbmV9XHJcbiAgICAgICAgaWYgc3RlcF9udW1iZXIgaXMgbm90IE5vbmU6XHJcbiAgICAgICAgICAgIG1lc3NhZ2VfZGF0YVtcInN0ZXBcIl0gPSBzdGVwX251bWJlclxyXG4gICAgICAgIGF3YWl0IHNlbGYuc2VuZF9ub3RpZmljYXRpb25fZnVuYyhcInRvb2wvZXZlbnRcIiwge1widHlwZVwiOiBcInN0YXR1c1wiLCBcImRhdGFcIjogbWVzc2FnZV9kYXRhfSlcclxuXHJcbiAgICBhc3luYyBkZWYgZW1pdF9jaXRhdGlvbihzZWxmLCBzb3VwOiBPcHRpb25hbFtCZWF1dGlmdWxTb3VwXSwgcmVzdWx0X2RhdGE6IERpY3Rbc3RyLCBBbnldKTpcclxuICAgICAgICBwdWJfZGF0ZV9zdHIgPSBOb25lXHJcbiAgICAgICAgYXV0aG9yX3N0ciA9IE5vbmVcclxuICAgICAgICBpZiBzb3VwOlxyXG4gICAgICAgICAgICBkYXRlX3NlbGVjdG9ycyA9IFtcclxuICAgICAgICAgICAgICAgIHsncHJvcGVydHknOiAnYXJ0aWNsZTpwdWJsaXNoZWRfdGltZSd9LCB7J25hbWUnOiAnZGF0ZVB1Ymxpc2hlZCd9LCB7J2l0ZW1wcm9wJzogJ2RhdGVQdWJsaXNoZWQnfSxcclxuICAgICAgICAgICAgICAgIHsnbmFtZSc6ICdwdWJkYXRlJ30sIHsnbmFtZSc6ICdjcmVhdGlvbl9kYXRlJ30sIHsnbmFtZSc6ICdkYXRlJ30sIHsnbmFtZSc6ICdkY3Rlcm1zLmRhdGUnfSwgeyduYW1lJzogJ0RDLmRhdGUuaXNzdWVkJ31cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICBmb3Igc2VsZWN0b3IgaW4gZGF0ZV9zZWxlY3RvcnM6XHJcbiAgICAgICAgICAgICAgICB0YWcgPSBzb3VwLmZpbmQoJ21ldGEnLCBzZWxlY3RvcilcclxuICAgICAgICAgICAgICAgIGlmIHRhZyBhbmQgdGFnLmdldCgnY29udGVudCcpOlxyXG4gICAgICAgICAgICAgICAgICAgIHRyeTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkX2RhdGUgPSBkYXRlX3BhcnNlci5wYXJzZSh0YWdbJ2NvbnRlbnQnXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHViX2RhdGVfc3RyID0gcGFyc2VkX2RhdGUuc3RyZnRpbWUoJyVZLSVtLSVkJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgICAgICBleGNlcHQgKFZhbHVlRXJyb3IsIE92ZXJmbG93RXJyb3IsIFR5cGVFcnJvcik6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NcclxuICAgICAgICAgICAgYXV0aG9yX3NlbGVjdG9ycyA9IFt7J25hbWUnOiAnYXV0aG9yJ30sIHsncHJvcGVydHknOiAnYXJ0aWNsZTphdXRob3InfSwgeyduYW1lJzogJ2NyZWF0b3InfSwgeyduYW1lJzogJ0RDLmNyZWF0b3InfV1cclxuICAgICAgICAgICAgZm9yIHNlbGVjdG9yIGluIGF1dGhvcl9zZWxlY3RvcnM6XHJcbiAgICAgICAgICAgICAgICB0YWcgPSBzb3VwLmZpbmQoJ21ldGEnLCBzZWxlY3RvcilcclxuICAgICAgICAgICAgICAgIGlmIHRhZyBhbmQgdGFnLmdldCgnY29udGVudCcpOlxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhvcl9zdHIgPSB0YWdbJ2NvbnRlbnQnXS5zdHJpcCgpXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICBkb2NfY29udGVudCA9IHJlc3VsdF9kYXRhLmdldChcImNvbnRlbnRcIikgb3IgcmVzdWx0X2RhdGEuZ2V0KFwic25pcHBldFwiKSBvciByZXN1bHRfZGF0YS5nZXQoXCJ0aXRsZVwiLCBcIlwiKVxyXG4gICAgICAgIG1ldGFkYXRhID0ge1wic291cmNlXCI6IHJlc3VsdF9kYXRhW1widXJsXCJdLCBcImRhdGVfYWNjZXNzZWRcIjogZGF0ZXRpbWUubm93KHRpbWV6b25lLnV0YykuaXNvZm9ybWF0KCksIFwidGl0bGVcIjogcmVzdWx0X2RhdGFbXCJ0aXRsZVwiXX1cclxuICAgICAgICBpZiBwdWJfZGF0ZV9zdHI6XHJcbiAgICAgICAgICAgIG1ldGFkYXRhW1wiZGF0ZV9wdWJsaXNoZWRcIl0gPSBwdWJfZGF0ZV9zdHJcclxuICAgICAgICBpZiBhdXRob3Jfc3RyOlxyXG4gICAgICAgICAgICBtZXRhZGF0YVtcImF1dGhvclwiXSA9IGF1dGhvcl9zdHJcclxuICAgICAgICBzb3VyY2VfaW5mbyA9IHtcIm5hbWVcIjogcmVzdWx0X2RhdGFbXCJ0aXRsZVwiXSwgXCJ1cmxcIjogcmVzdWx0X2RhdGFbXCJ1cmxcIl19XHJcbiAgICAgICAgaWYgcmVzdWx0X2RhdGEuZ2V0KFwiaXNfaW1hZ2VfcmVzdWx0XCIpOlxyXG4gICAgICAgICAgICBzb3VyY2VfaW5mb1tcInR5cGVcIl0gPSBcImltYWdlXCJcclxuICAgICAgICBlbGlmIHJlc3VsdF9kYXRhLmdldChcImlzX3ZpZGVvX3Jlc3VsdFwiKTpcclxuICAgICAgICAgICAgc291cmNlX2luZm9bXCJ0eXBlXCJdID0gXCJ2aWRlb1wiXHJcbiAgICAgICAgZWxpZiByZXN1bHRfZGF0YS5nZXQoXCJpc19maWxlX3Jlc3VsdFwiKTpcclxuICAgICAgICAgICAgc291cmNlX2luZm9bXCJ0eXBlXCJdID0gXCJmaWxlXCJcclxuICAgICAgICBlbGlmIHJlc3VsdF9kYXRhLmdldChcImlzX21hcF9yZXN1bHRcIik6XHJcbiAgICAgICAgICAgIHNvdXJjZV9pbmZvW1widHlwZVwiXSA9IFwibWFwXCJcclxuICAgICAgICBlbGlmIHJlc3VsdF9kYXRhLmdldChcImlzX3NvY2lhbF9yZXN1bHRcIik6XHJcbiAgICAgICAgICAgIHNvdXJjZV9pbmZvW1widHlwZVwiXSA9IFwic29jaWFsX21lZGlhX3Bvc3RcIlxyXG4gICAgICAgIGVsaWYgXCJleGNlcnB0XCIgaW4gcmVzdWx0X2RhdGE6XHJcbiAgICAgICAgICAgIHNvdXJjZV9pbmZvW1widHlwZVwiXSA9IFwid2VicGFnZVwiXHJcbiAgICAgICAgY2l0YXRpb25fZGF0YSA9IHtcImRvY3VtZW50XCI6IFtkb2NfY29udGVudF0sIFwibWV0YWRhdGFcIjogW21ldGFkYXRhXSwgXCJzb3VyY2VcIjogc291cmNlX2luZm99XHJcbiAgICAgICAgYXdhaXQgc2VsZi5zZW5kX25vdGlmaWNhdGlvbl9mdW5jKFwidG9vbC9ldmVudFwiLCB7XCJ0eXBlXCI6IFwiY2l0YXRpb25cIiwgXCJkYXRhXCI6IGNpdGF0aW9uX2RhdGF9KVxyXG5cclxuIyAtLS0gQ29uZmlndXJhdGlvbiBNYW5hZ2VtZW50IC0tLVxyXG5jbGFzcyBUb29sczpcclxuICAgIGNsYXNzIFZhbHZlcyhCYXNlTW9kZWwpOlxyXG4gICAgICAgIFNFQVJYTkdfRU5HSU5FX0FQSV9CQVNFX1VSTDogc3RyID0gRmllbGQoZGVmYXVsdD1cImh0dHA6Ly9ob3N0LmRvY2tlci5pbnRlcm5hbDo4MDgwL3NlYXJjaFwiKVxyXG4gICAgICAgIElHTk9SRURfV0VCU0lURVM6IHN0ciA9IEZpZWxkKGRlZmF1bHQ9XCJcIilcclxuICAgICAgICBSRVRVUk5FRF9TQ1JBUFBFRF9QQUdFU19OTzogaW50ID0gRmllbGQoZGVmYXVsdD0zLCBnZT0xLCBsZT0yMClcclxuICAgICAgICBTQ1JBUFBFRF9QQUdFU19OTzogaW50ID0gRmllbGQoZGVmYXVsdD01LCBnZT0xLCBsZT0zMClcclxuICAgICAgICBQQUdFX0NPTlRFTlRfV09SRFNfTElNSVQ6IGludCA9IEZpZWxkKGRlZmF1bHQ9NTAwMCwgZ2U9NTAsIGxlPTIwMDAwKVxyXG4gICAgICAgIENJVEFUSU9OX0xJTktTOiBib29sID0gRmllbGQoZGVmYXVsdD1UcnVlKVxyXG4gICAgICAgIGRlc2lyZWRfdGltZXpvbmU6IHN0ciA9IEZpZWxkKGRlZmF1bHQ9XCJBbWVyaWNhL05ld19Zb3JrXCIpXHJcbiAgICAgICAgVFJBRklMQVRVUkFfVElNRU9VVDogaW50ID0gRmllbGQoZGVmYXVsdD0xNSwgZ2U9NSwgbGU9NjApXHJcbiAgICAgICAgTUFYX0lNQUdFX1JFU1VMVFM6IGludCA9IEZpZWxkKGRlZmF1bHQ9MTAsIGdlPTEsIGxlPTUwKVxyXG4gICAgICAgIE1BWF9WSURFT19SRVNVTFRTOiBpbnQgPSBGaWVsZChkZWZhdWx0PTEwLCBnZT0xLCBsZT01MClcclxuICAgICAgICBNQVhfRklMRV9SRVNVTFRTOiBpbnQgPSBGaWVsZChkZWZhdWx0PTUsIGdlPTEsIGxlPTIwKVxyXG4gICAgICAgIE1BWF9NQVBfUkVTVUxUUzogaW50ID0gRmllbGQoZGVmYXVsdD01LCBnZT0xLCBsZT0yMClcclxuICAgICAgICBNQVhfU09DSUFMX1JFU1VMVFM6IGludCA9IEZpZWxkKGRlZmF1bHQ9NSwgZ2U9MSwgbGU9MjApXHJcbiAgICAgICAgU0NSQVBJTkdfVElNRU9VVDogaW50ID0gRmllbGQoZGVmYXVsdD0yMCwgZ2U9NSwgbGU9MTIwKVxyXG4gICAgICAgIENBQ0hFX01BWFNJWkU6IGludCA9IEZpZWxkKGRlZmF1bHQ9MTAwLCBnZT0xMCwgbGU9MTAwMClcclxuICAgICAgICBDQUNIRV9UVExfTUlOVVRFUzogaW50ID0gRmllbGQoZGVmYXVsdD01LCBnZT0xLCBsZT0xNDQwKVxyXG4gICAgICAgIFJBVEVfTElNSVRfUkVRVUVTVFNfUEVSX01JTlVURTogaW50ID0gRmllbGQoZGVmYXVsdD0xMCwgZ2U9MSwgbGU9NjApXHJcbiAgICAgICAgUkFURV9MSU1JVF9USU1FT1VUX1NFQ09ORFM6IGludCA9IEZpZWxkKGRlZmF1bHQ9NjAsIGdlPTEwLCBsZT0zNjAwKVxyXG4gICAgICAgIENBQ0hFX01BWF9BR0VfTUlOVVRFUzogaW50ID0gRmllbGQoZGVmYXVsdD0zMCwgZ2U9MSwgbGU9MTQ0MClcclxuICAgICAgICBcclxuICAgICAgICBAdmFsaWRhdG9yKCdTRUFSWE5HX0VOR0lORV9BUElfQkFTRV9VUkwnKVxyXG4gICAgICAgIGRlZiB2YWxpZGF0ZV9zZWFyeG5nX3VybChjbHMsIHYpOlxyXG4gICAgICAgICAgICBpZiBub3Qgdi5zdGFydHN3aXRoKCgnaHR0cDovLycsICdodHRwczovLycpKTpcclxuICAgICAgICAgICAgICAgIHJhaXNlIENvbmZpZ3VyYXRpb25FcnJvcihmXCJTRUFSWE5HX0VOR0lORV9BUElfQkFTRV9VUkwgbXVzdCBzdGFydCB3aXRoIGh0dHA6Ly8gb3IgaHR0cHM6Ly8sIGdvdCB7dn1cIilcclxuICAgICAgICAgICAgcmV0dXJuIHZcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgQHZhbGlkYXRvcignZGVzaXJlZF90aW1lem9uZScpXHJcbiAgICAgICAgZGVmIHZhbGlkYXRlX3RpbWV6b25lKGNscywgdik6XHJcbiAgICAgICAgICAgIHRyeTpcclxuICAgICAgICAgICAgICAgIFpvbmVJbmZvKHYpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdlxyXG4gICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XHJcbiAgICAgICAgICAgICAgICByYWlzZSBDb25maWd1cmF0aW9uRXJyb3IoZlwiSW52YWxpZCB0aW1lem9uZToge3Z9LiBFcnJvcjoge3N0cihlKX0uIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX3R6X2RhdGFiYXNlX3RpbWVfem9uZXMgZm9yIGEgbGlzdCBvZiB2YWxpZCB0aW1lem9uZXMuXCIpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICBAcm9vdF92YWxpZGF0b3IocHJlPVRydWUpXHJcbiAgICAgICAgZGVmIGNoZWNrX3BhZ2VfbGltaXRzKGNscywgdmFsdWVzKTpcclxuICAgICAgICAgICAgaWYgJ1NDUkFQUEVEX1BBR0VTX05PJyBpbiB2YWx1ZXMgYW5kICdSRVRVUk5FRF9TQ1JBUFBFRF9QQUdFU19OTycgaW4gdmFsdWVzOlxyXG4gICAgICAgICAgICAgICAgaWYgdmFsdWVzWydTQ1JBUFBFRF9QQUdFU19OTyddIDwgdmFsdWVzWydSRVRVUk5FRF9TQ1JBUFBFRF9QQUdFU19OTyddOlxyXG4gICAgICAgICAgICAgICAgICAgIHJhaXNlIENvbmZpZ3VyYXRpb25FcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgZlwiU0NSQVBQRURfUEFHRVNfTk8gKHt2YWx1ZXNbJ1NDUkFQUEVEX1BBR0VTX05PJ119KSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmXCJSRVRVUk5FRF9TQ1JBUFBFRF9QQUdFU19OTyAoe3ZhbHVlc1snUkVUVVJORURfU0NSQVBQRURfUEFHRVNfTk8nXX0pXCJcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXNcclxuXHJcbiAgICBAc3RhdGljbWV0aG9kXHJcbiAgICBkZWYgbG9hZF9jb25maWdfZmlsZShjb25maWdfcGF0aDogc3RyKSAtPiBkaWN0OlxyXG4gICAgICAgIHRyeTpcclxuICAgICAgICAgICAgd2l0aCBvcGVuKGNvbmZpZ19wYXRoLCBcInJcIiwgZW5jb2Rpbmc9XCJ1dGYtOFwiKSBhcyBmOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb24ubG9hZChmKVxyXG4gICAgICAgIGV4Y2VwdCBFeGNlcHRpb246XHJcbiAgICAgICAgICAgIHJldHVybiB7fVxyXG5cclxuICAgIEBzdGF0aWNtZXRob2RcclxuICAgIGRlZiBzYXZlX2NvbmZpZ19maWxlKGNvbmZpZ19wYXRoOiBzdHIsIGNvbmZpZzogZGljdCk6XHJcbiAgICAgICAgdHJ5OlxyXG4gICAgICAgICAgICB3aXRoIG9wZW4oY29uZmlnX3BhdGgsIFwid1wiLCBlbmNvZGluZz1cInV0Zi04XCIpIGFzIGY6XHJcbiAgICAgICAgICAgICAgICBqc29uLmR1bXAoY29uZmlnLCBmLCBpbmRlbnQ9MilcclxuICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XHJcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmXCJGYWlsZWQgdG8gc2F2ZSBjb25maWc6IHtlfVwiKVxyXG5cclxuICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzZW5kX25vdGlmaWNhdGlvbl9mdW5jOiBDYWxsYWJsZVtbc3RyLCBBbnldLCBBd2FpdGFibGVbTm9uZV1dKTpcclxuICAgICAgICBcIlwiXCJcclxuICAgICAgICBJbml0aWFsaXplIHRoZSBUb29scyBjbGFzcyB3aXRoIGNvbmZpZ3VyYXRpb24gZnJvbSBzY3JpcHQgZGVmYXVsdHMsIGNvbmZpZyBmaWxlLCBhbmQgZW52aXJvbm1lbnQgdmFyaWFibGVzLlxyXG4gICAgICAgIENvbmZpZ3VyYXRpb24gaXMgbG9hZGVkIGluIHRoZSBmb2xsb3dpbmcgcHJpb3JpdHkgb3JkZXI6XHJcbiAgICAgICAgMS4gU2NyaXB0IGRlZmF1bHRzIChsb3dlc3QgcHJpb3JpdHkpXHJcbiAgICAgICAgMi4gQ29uZmlnIGZpbGUgKG1pZGRsZSBwcmlvcml0eSlcclxuICAgICAgICAzLiBFbnZpcm9ubWVudCB2YXJpYWJsZXMgKGhpZ2hlc3QgcHJpb3JpdHkpXHJcbiAgICAgICAgXHJcbiAgICAgICAgVGhlIGNvbmZpZyBmaWxlIGlzIG9ubHkgd3JpdHRlbiBpZjpcclxuICAgICAgICAtIEl0IGRvZXNuJ3QgZXhpc3QgeWV0IChmaXJzdC10aW1lIGluaXRpYWxpemF0aW9uKVxyXG4gICAgICAgIC0gRW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSBleHBsaWNpdGx5IHByb3ZpZGVkIGZvciB0aGlzIHJ1blxyXG4gICAgICAgIFwiXCJcIlxyXG4gICAgICAgICMgMS4gTG9hZCBkZWZhdWx0cyBmcm9tIHNjcmlwdFxyXG4gICAgICAgIHNjcmlwdF9kZWZhdWx0cyA9IHNlbGYuVmFsdmVzKCkuZGljdCgpXHJcbiAgICAgICAgXHJcbiAgICAgICAgIyAyLiBUcnkgdG8gbG9hZCBjb25maWcgZmlsZSAoZGVmYXVsdDogL2NvbmZpZy9vZHNfY29uZmlnLmpzb24sIGZhbGxiYWNrOiAuL29kc19jb25maWcuanNvbilcclxuICAgICAgICBjb25maWdfcGF0aCA9IG9zLmdldGVudihcIk9EU19DT05GSUdfUEFUSFwiLCBcIi9jb25maWcvb2RzX2NvbmZpZy5qc29uXCIpXHJcbiAgICAgICAgaWYgbm90IHBhdGhsaWIuUGF0aChjb25maWdfcGF0aCkuZXhpc3RzKCk6XHJcbiAgICAgICAgICAgIGNvbmZpZ19wYXRoID0gXCIuL29kc19jb25maWcuanNvblwiXHJcbiAgICAgICAgXHJcbiAgICAgICAgZmlsZV9leGlzdHMgPSBwYXRobGliLlBhdGgoY29uZmlnX3BhdGgpLmV4aXN0cygpXHJcbiAgICAgICAgZmlsZV9jb25maWcgPSBzZWxmLmxvYWRfY29uZmlnX2ZpbGUoY29uZmlnX3BhdGgpXHJcbiAgICAgICAgXHJcbiAgICAgICAgIyAzLiBMb2FkIGZyb20gZW52IHZhcnNcclxuICAgICAgICBlbnZfdmFyc19wcmVzZW50ID0gRmFsc2VcclxuICAgICAgICBlbnZfY29uZmlnID0ge31cclxuICAgICAgICBcclxuICAgICAgICAjIFNwZWNpYWwgaGFuZGxpbmcgZm9yIERFU0lSRURfVElNRVpPTkUgd2hpY2ggaGFzIGRpZmZlcmVudCBjYXNpbmcgaW4gdGhlIG1vZGVsXHJcbiAgICAgICAgZGVzaXJlZF90eiA9IG9zLmdldGVudihcIkRFU0lSRURfVElNRVpPTkVcIilcclxuICAgICAgICBpZiBkZXNpcmVkX3R6IGlzIG5vdCBOb25lOlxyXG4gICAgICAgICAgICBlbnZfdmFyc19wcmVzZW50ID0gVHJ1ZVxyXG4gICAgICAgICAgICBlbnZfY29uZmlnW1wiZGVzaXJlZF90aW1lem9uZVwiXSA9IGRlc2lyZWRfdHpcclxuICAgICAgICBcclxuICAgICAgICBmb3IgayBpbiBzY3JpcHRfZGVmYXVsdHMua2V5cygpOlxyXG4gICAgICAgICAgICAjIFNraXAgZGVzaXJlZF90aW1lem9uZSBhcyBpdCdzIGhhbmRsZWQgc2VwYXJhdGVseVxyXG4gICAgICAgICAgICBpZiBrID09IFwiZGVzaXJlZF90aW1lem9uZVwiOlxyXG4gICAgICAgICAgICAgICAgY29udGludWVcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBlbnZfdmFsdWUgPSBvcy5nZXRlbnYoay51cHBlcigpLCBOb25lKVxyXG4gICAgICAgICAgICBpZiBlbnZfdmFsdWUgaXMgbm90IE5vbmU6XHJcbiAgICAgICAgICAgICAgICBlbnZfdmFyc19wcmVzZW50ID0gVHJ1ZVxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdF90eXBlID0gdHlwZShzY3JpcHRfZGVmYXVsdHNba10pXHJcbiAgICAgICAgICAgICAgICB0cnk6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgZGVmYXVsdF90eXBlIGlzIGJvb2w6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudl9jb25maWdba10gPSBlbnZfdmFsdWUubG93ZXIoKSA9PSBcInRydWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2U6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudl9jb25maWdba10gPSBkZWZhdWx0X3R5cGUoZW52X3ZhbHVlKVxyXG4gICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjpcclxuICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybmluZyhmXCJJbnZhbGlkIGVudmlyb25tZW50IHZhcmlhYmxlIHZhbHVlIGZvciB7ay51cHBlcigpfToge2Vudl92YWx1ZX1cIilcclxuICAgICAgICAgICAgICAgICAgICBlbnZfY29uZmlnW2tdID0gc2NyaXB0X2RlZmF1bHRzW2tdXHJcbiAgICAgICAgXHJcbiAgICAgICAgIyA0LiBNZXJnZTogc2NyaXB0X2RlZmF1bHRzIDwgZmlsZV9jb25maWcgPCBlbnZfY29uZmlnXHJcbiAgICAgICAgbWVyZ2VkID0geyoqc2NyaXB0X2RlZmF1bHRzLCAqKihmaWxlX2NvbmZpZyBvciB7fSksICoqZW52X2NvbmZpZ31cclxuICAgICAgICBzZWxmLnZhbHZlcyA9IHNlbGYuVmFsdmVzKCoqbWVyZ2VkKVxyXG4gICAgICAgIFxyXG4gICAgICAgICMgNS4gU2F2ZSBjb25maWcgZmlsZSBPTkxZIGluIHRoZXNlIGNhc2VzOlxyXG4gICAgICAgICMgLSBJZiB0aGUgZmlsZSBkb2Vzbid0IGV4aXN0IHlldCAoZmlyc3QtdGltZSBpbml0aWFsaXphdGlvbilcclxuICAgICAgICAjIC0gSWYgZW52aXJvbm1lbnQgdmFyaWFibGVzIHdlcmUgcHJvdmlkZWQgZm9yIHRoaXMgcnVuXHJcbiAgICAgICAgaWYgKG5vdCBmaWxlX2V4aXN0cyBvciBlbnZfdmFyc19wcmVzZW50KTpcclxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oZlwiU2F2aW5nIGNvbmZpZ3VyYXRpb24gdG8ge2NvbmZpZ19wYXRofSAocmVhc29uOiB7J2ZpcnN0IHJ1bicgaWYgbm90IGZpbGVfZXhpc3RzIGVsc2UgJ2VudiB2YXJzIHByb3ZpZGVkJ30pXCIpXHJcbiAgICAgICAgICAgIHNlbGYuc2F2ZV9jb25maWdfZmlsZShjb25maWdfcGF0aCwgbWVyZ2VkKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxvZ2dlci5pbmZvKGZcIkluaXRpYWxpemluZyB3aXRoIHRpbWV6b25lOiB7c2VsZi52YWx2ZXMuZGVzaXJlZF90aW1lem9uZX1cIilcclxuICAgICAgICBnbG9iYWwgd2Vic2l0ZV9jYWNoZVxyXG4gICAgICAgIHdlYnNpdGVfY2FjaGUgPSBUVExDYWNoZShcclxuICAgICAgICAgICAgbWF4c2l6ZT1zZWxmLnZhbHZlcy5DQUNIRV9NQVhTSVpFLFxyXG4gICAgICAgICAgICB0dGw9dGltZWRlbHRhKG1pbnV0ZXM9c2VsZi52YWx2ZXMuQ0FDSEVfVFRMX01JTlVURVMpLnRvdGFsX3NlY29uZHMoKVxyXG4gICAgICAgIClcclxuICAgICAgICBsb2dnZXIuaW5mbyhmXCJXZWJzaXRlIGNhY2hlIGluaXRpYWxpemVkOiBtYXhzaXplPXtzZWxmLnZhbHZlcy5DQUNIRV9NQVhTSVpFfSwgdHRsPXtzZWxmLnZhbHZlcy5DQUNIRV9UVExfTUlOVVRFU30gbWludXRlc1wiKVxyXG4gICAgICAgIHNlbGYuaGVhZGVycyA9IHtcclxuICAgICAgICAgICAgXCJVc2VyLUFnZW50XCI6IFwiTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzU4LjAuMzAyOS4xMTAgU2FmYXJpLzUzNy4zXCJcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZi5mdW5jdGlvbnMgPSBIZWxwZXJGdW5jdGlvbnMoKVxyXG4gICAgICAgIHNlbGYuZW1pdHRlciA9IE1DUEV2ZW50RW1pdHRlcihzZW5kX25vdGlmaWNhdGlvbl9mdW5jKVxyXG4gICAgICAgIHNlbGYuY2xpZW50ID0gaHR0cHguQXN5bmNDbGllbnQoaGVhZGVycz1zZWxmLmhlYWRlcnMsIGZvbGxvd19yZWRpcmVjdHM9VHJ1ZSlcclxuXHJcbiAgICAjIC0tLSBUb29sIE1ldGhvZHMgLS0tXHJcbiAgICBhc3luYyBkZWYgc2VhcmNoX3dlYihzZWxmLCBxdWVyeTogc3RyLCBlbmdpbmVzOiBPcHRpb25hbFtzdHJdID0gTm9uZSwgY2F0ZWdvcnk6IE9wdGlvbmFsW3N0cl0gPSBcImdlbmVyYWxcIiwgc2FmZXNlYXJjaDogT3B0aW9uYWxbc3RyXSA9IE5vbmUsIHRpbWVfcmFuZ2U6IE9wdGlvbmFsW3N0cl0gPSBOb25lKSAtPiBzdHI6XHJcbiAgICAgICAgc2FmZV9jYXRlZ29yeSA9IGNhdGVnb3J5Lmxvd2VyKCkuc3RyaXAoKSBpZiBjYXRlZ29yeSBlbHNlIFwiZ2VuZXJhbFwiXHJcbiAgICAgICAgc2VhcmNoX3R5cGUgPSBzYWZlX2NhdGVnb3J5IGlmIHNhZmVfY2F0ZWdvcnkgIT0gXCJnZW5lcmFsXCIgZWxzZSBcIndlYlwiXHJcbiAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoZlwi8J+UjSBTdGFydGluZyB7c2VhcmNoX3R5cGV9IHNlYXJjaFwiLCBzdGVwX251bWJlcj0xKVxyXG4gICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KGZcIvCfk50gU2VhcmNoaW5nIGZvciBxdWVyeToge3F1ZXJ5fVwiLCBzdGVwX251bWJlcj0yKVxyXG4gICAgICAgIHBhcmFtcyA9IHtcInFcIjogcXVlcnksIFwiZm9ybWF0XCI6IFwianNvblwiLCBcInBhZ2Vub1wiOiAxfVxyXG4gICAgICAgIGlmIGVuZ2luZXM6XHJcbiAgICAgICAgICAgIHBhcmFtc1tcImVuZ2luZXNcIl0gPSBlbmdpbmVzXHJcbiAgICAgICAgcGFyYW1zW1wiY2F0ZWdvcmllc1wiXSA9IHNhZmVfY2F0ZWdvcnlcclxuICAgICAgICBpZiBzYWZlc2VhcmNoIGFuZCBzYWZlc2VhcmNoIGluIFtcIjBcIiwgXCIxXCIsIFwiMlwiXTpcclxuICAgICAgICAgICAgcGFyYW1zW1wic2FmZXNlYXJjaFwiXSA9IHNhZmVzZWFyY2hcclxuICAgICAgICBpZiB0aW1lX3JhbmdlIGFuZCB0aW1lX3JhbmdlIGluIFtcImRheVwiLCBcIm1vbnRoXCIsIFwieWVhclwiXTpcclxuICAgICAgICAgICAgcGFyYW1zW1widGltZV9yYW5nZVwiXSA9IHRpbWVfcmFuZ2VcclxuICAgICAgICBwcm9jZXNzZWRfcmVzdWx0cyA9IFtdXHJcbiAgICAgICAgdHJ5OlxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChmXCLwn4yQIENvbm5lY3RpbmcgdG8gU2VhclhORyBhdCB7c2VsZi52YWx2ZXMuU0VBUlhOR19FTkdJTkVfQVBJX0JBU0VfVVJMfVwiLCBzdGVwX251bWJlcj00KVxyXG4gICAgICAgICAgICByZXNwID0gYXdhaXQgc2VsZi5jbGllbnQuZ2V0KHNlbGYudmFsdmVzLlNFQVJYTkdfRU5HSU5FX0FQSV9CQVNFX1VSTCwgcGFyYW1zPXBhcmFtcywgdGltZW91dD0xMjApXHJcbiAgICAgICAgICAgIHJlc3AucmFpc2VfZm9yX3N0YXR1cygpXHJcbiAgICAgICAgICAgIGRhdGEgPSByZXNwLmpzb24oKVxyXG4gICAgICAgICAgICByZXN1bHRzID0gZGF0YS5nZXQoXCJyZXN1bHRzXCIsIFtdKVxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChmXCLwn5OKIHtsZW4ocmVzdWx0cyl9IHJhdyByZXN1bHRzIGZvdW5kIGZvciBjYXRlZ29yeSAne3NhZmVfY2F0ZWdvcnl9J1wiLCBzdGVwX251bWJlcj01KVxyXG4gICAgICAgIGV4Y2VwdCBodHRweC5IVFRQU3RhdHVzRXJyb3IgYXMgZTpcclxuICAgICAgICAgICAgZXJyb3JfbXNnID0gZlwiU2VhclhORyBzZWFyY2ggZmFpbGVkOiB7ZS5yZXNwb25zZS5zdGF0dXNfY29kZX0ge2UucmVzcG9uc2UucmVhc29uX3BocmFzZX1cIlxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJlcnJvclwiLCBkZXNjcmlwdGlvbj1mXCLinYwge2Vycm9yX21zZ31cIiwgZG9uZT1UcnVlKVxyXG4gICAgICAgICAgICByYWlzZSBTZWFyWE5HQ29ubmVjdGlvbkVycm9yKGVycm9yX21zZykgZnJvbSBlXHJcbiAgICAgICAgZXhjZXB0IGh0dHB4LlJlcXVlc3RFcnJvciBhcyBlOlxyXG4gICAgICAgICAgICBlcnJvcl9tc2cgPSBmXCJFcnJvciBjb25uZWN0aW5nIHRvIFNlYXJYTkc6IHtzdHIoZSl9XCJcclxuICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoc3RhdHVzPVwiZXJyb3JcIiwgZGVzY3JpcHRpb249Zlwi4p2MIHtlcnJvcl9tc2d9XCIsIGRvbmU9VHJ1ZSlcclxuICAgICAgICAgICAgcmFpc2UgU2VhclhOR0Nvbm5lY3Rpb25FcnJvcihlcnJvcl9tc2cpIGZyb20gZVxyXG4gICAgICAgIGV4Y2VwdCBqc29uLkpTT05EZWNvZGVFcnJvciBhcyBlOlxyXG4gICAgICAgICAgICBlcnJvcl9tc2cgPSBmXCJFcnJvciBkZWNvZGluZyBTZWFyWE5HIHJlc3BvbnNlOiB7c3RyKGUpfVwiXHJcbiAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KHN0YXR1cz1cImVycm9yXCIsIGRlc2NyaXB0aW9uPWZcIuKdjCB7ZXJyb3JfbXNnfVwiLCBkb25lPVRydWUpXHJcbiAgICAgICAgICAgIHJhaXNlIFNlYXJYTkdDb25uZWN0aW9uRXJyb3IoZXJyb3JfbXNnKSBmcm9tIGVcclxuICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XHJcbiAgICAgICAgICAgIGVycm9yX21zZyA9IGZcIlVuZXhwZWN0ZWQgZXJyb3IgZHVyaW5nIHNlYXJjaDoge3N0cihlKX1cIlxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJlcnJvclwiLCBkZXNjcmlwdGlvbj1mXCLinYwge2Vycm9yX21zZ31cIiwgZG9uZT1UcnVlKVxyXG4gICAgICAgICAgICByYWlzZSBNQ1BTZXJ2ZXJFcnJvcihlcnJvcl9tc2cpIGZyb20gZVxyXG4gICAgICAgICAgICBcclxuICAgICAgICBpZiBub3QgcmVzdWx0czpcclxuICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoc3RhdHVzPVwiY29tcGxldGVcIiwgZGVzY3JpcHRpb249XCLinIUgU2VhcmNoIGNvbXBsZXRlIC0gTm8gcmVzdWx0cyBmb3VuZC5cIiwgZG9uZT1UcnVlLCBzdGVwX251bWJlcj02KVxyXG4gICAgICAgICAgICByZXR1cm4gXCJObyByZXN1bHRzIGZvdW5kLlwiXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIG91dHB1dF9wYXJ0cyA9IFtdXHJcbiAgICAgICAgZmluYWxfcmVzdWx0c19jb3VudCA9IDBcclxuICAgICAgICBjYXRlZ29yeV9saW1pdCA9IHtcclxuICAgICAgICAgICAgXCJpbWFnZXNcIjogc2VsZi52YWx2ZXMuTUFYX0lNQUdFX1JFU1VMVFMsXHJcbiAgICAgICAgICAgIFwidmlkZW9zXCI6IHNlbGYudmFsdmVzLk1BWF9WSURFT19SRVNVTFRTLFxyXG4gICAgICAgICAgICBcImZpbGVzXCI6IHNlbGYudmFsdmVzLk1BWF9GSUxFX1JFU1VMVFMsXHJcbiAgICAgICAgICAgIFwibWFwXCI6IHNlbGYudmFsdmVzLk1BWF9NQVBfUkVTVUxUUyxcclxuICAgICAgICAgICAgXCJzb2NpYWwgbWVkaWFcIjogc2VsZi52YWx2ZXMuTUFYX1NPQ0lBTF9SRVNVTFRTLFxyXG4gICAgICAgIH0uZ2V0KHNhZmVfY2F0ZWdvcnksIHNlbGYudmFsdmVzLlJFVFVSTkVEX1NDUkFQUEVEX1BBR0VTX05PKVxyXG4gICAgICAgIFxyXG4gICAgICAgICMgUmF0ZSBsaW1pdGVyIGZvciBzY3JhcGluZyBvcGVyYXRpb25zXHJcbiAgICAgICAgcmF0ZV9saW1pdGVyID0gUmF0ZUxpbWl0ZXIoXHJcbiAgICAgICAgICAgIHJlcXVlc3RzX3Blcl9taW51dGU9c2VsZi52YWx2ZXMuUkFURV9MSU1JVF9SRVFVRVNUU19QRVJfTUlOVVRFLFxyXG4gICAgICAgICAgICB0aW1lb3V0X3NlY29uZHM9c2VsZi52YWx2ZXMuUkFURV9MSU1JVF9USU1FT1VUX1NFQ09ORFNcclxuICAgICAgICApXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgc2FmZV9jYXRlZ29yeSA9PSBcImltYWdlc1wiOlxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChcIvCflrzvuI8gUHJvY2Vzc2luZyBpbWFnZSByZXN1bHRzXCIsIHN0ZXBfbnVtYmVyPTYpXHJcbiAgICAgICAgICAgIGZvciBpLCByZXN1bHQgaW4gZW51bWVyYXRlKHJlc3VsdHNbOmNhdGVnb3J5X2xpbWl0XSk6XHJcbiAgICAgICAgICAgICAgICBpZiBpID4gMDpcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKFwiXFxuPT09PT09PT09PT09PT09PT09PT1cXG5cIilcclxuICAgICAgICAgICAgICAgIGltZ19kYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogcmVzdWx0LmdldChcInRpdGxlXCIsIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IHJlc3VsdC5nZXQoXCJ1cmxcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJpbWdfc3JjXCI6IHJlc3VsdC5nZXQoXCJpbWdfc3JjXCIsIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaXNfaW1hZ2VfcmVzdWx0XCI6IFRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipUaXRsZToqKiB7aW1nX2RhdGFbJ3RpdGxlJ10gb3IgJ04vQSd9XCIpXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqSW1hZ2UgVVJMOioqIHtpbWdfZGF0YVsnaW1nX3NyYyddIG9yICdOL0EnfVwiKVxyXG4gICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCIqKlNvdXJjZSBQYWdlOioqIHtpbWdfZGF0YVsndXJsJ10gb3IgJ04vQSd9XCIpXHJcbiAgICAgICAgICAgICAgICBpZiBpbWdfZGF0YVsnaW1nX3NyYyddOlxyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiXFxuIVt7aW1nX2RhdGFbJ3RpdGxlJ10gb3IgJ0ltYWdlJ31dKHtpbWdfZGF0YVsnaW1nX3NyYyddfSlcIilcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZF9yZXN1bHRzLmFwcGVuZChpbWdfZGF0YSlcclxuICAgICAgICAgICAgICAgIGlmIHNlbGYudmFsdmVzLkNJVEFUSU9OX0xJTktTOlxyXG4gICAgICAgICAgICAgICAgICAgIGNpdGF0aW9uX2NvbnRlbnQgPSBmXCJJbWFnZSBzb3VyY2U6IHtpbWdfZGF0YVsndXJsJ119XCJcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdF9jaXRhdGlvbihOb25lLCB7XCJjb250ZW50XCI6IGNpdGF0aW9uX2NvbnRlbnQsICoqaW1nX2RhdGF9KVxyXG4gICAgICAgICAgICBmaW5hbF9yZXN1bHRzX2NvdW50ID0gbGVuKHByb2Nlc3NlZF9yZXN1bHRzKVxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJjb21wbGV0ZVwiLCBkZXNjcmlwdGlvbj1mXCLinIUgSW1hZ2Ugc2VhcmNoIGNvbXBsZXRlIC0ge2ZpbmFsX3Jlc3VsdHNfY291bnR9IGltYWdlcyByZXR1cm5lZC5cIiwgZG9uZT1UcnVlLCBzdGVwX251bWJlcj03KVxyXG4gICAgICAgIGVsaWYgc2FmZV9jYXRlZ29yeSA9PSBcInZpZGVvc1wiOlxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChcIvCfjqwgUHJvY2Vzc2luZyB2aWRlbyByZXN1bHRzXCIsIHN0ZXBfbnVtYmVyPTYpXHJcbiAgICAgICAgICAgIGZvciBpLCByZXN1bHQgaW4gZW51bWVyYXRlKHJlc3VsdHNbOmNhdGVnb3J5X2xpbWl0XSk6XHJcbiAgICAgICAgICAgICAgICBpZiBpID4gMDpcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKFwiXFxuPT09PT09PT09PT09PT09PT09PT1cXG5cIilcclxuICAgICAgICAgICAgICAgIHZpZF9kYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogcmVzdWx0LmdldChcInRpdGxlXCIsIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IHJlc3VsdC5nZXQoXCJ1cmxcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjb250ZW50XCI6IHJlc3VsdC5nZXQoXCJjb250ZW50XCIsIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic291cmNlXCI6IHJlc3VsdC5nZXQoXCJzb3VyY2VcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJpZnJhbWVfc3JjXCI6IHJlc3VsdC5nZXQoXCJpZnJhbWVfc3JjXCIsIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaXNfdmlkZW9fcmVzdWx0XCI6IFRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipUaXRsZToqKiB7dmlkX2RhdGFbJ3RpdGxlJ10gb3IgJ04vQSd9XCIpXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqVVJMOioqIHt2aWRfZGF0YVsndXJsJ10gb3IgJ04vQSd9XCIpXHJcbiAgICAgICAgICAgICAgICBpZiB2aWRfZGF0YS5nZXQoJ3NvdXJjZScpOlxyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipTb3VyY2U6Kioge3ZpZF9kYXRhWydzb3VyY2UnXX1cIilcclxuICAgICAgICAgICAgICAgIGlmIHZpZF9kYXRhLmdldCgnaWZyYW1lX3NyYycpOlxyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipFbWJlZCBVUkw6Kioge3ZpZF9kYXRhWydpZnJhbWVfc3JjJ119XCIpXHJcbiAgICAgICAgICAgICAgICBpZiB2aWRfZGF0YS5nZXQoJ2NvbnRlbnQnKTpcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIlxcbioqRGVzY3JpcHRpb246KipcXG57dmlkX2RhdGFbJ2NvbnRlbnQnXX1cIilcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZF9yZXN1bHRzLmFwcGVuZCh2aWRfZGF0YSlcclxuICAgICAgICAgICAgICAgIGlmIHNlbGYudmFsdmVzLkNJVEFUSU9OX0xJTktTOlxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0X2NpdGF0aW9uKE5vbmUsIHZpZF9kYXRhKVxyXG4gICAgICAgICAgICBmaW5hbF9yZXN1bHRzX2NvdW50ID0gbGVuKHByb2Nlc3NlZF9yZXN1bHRzKVxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJjb21wbGV0ZVwiLCBkZXNjcmlwdGlvbj1mXCLinIUgVmlkZW8gc2VhcmNoIGNvbXBsZXRlIC0ge2ZpbmFsX3Jlc3VsdHNfY291bnR9IHZpZGVvcyByZXR1cm5lZC5cIiwgZG9uZT1UcnVlLCBzdGVwX251bWJlcj03KVxyXG4gICAgICAgIGVsaWYgc2FmZV9jYXRlZ29yeSA9PSBcImZpbGVzXCI6XHJcbiAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KFwi8J+TgSBQcm9jZXNzaW5nIGZpbGUgcmVzdWx0c1wiLCBzdGVwX251bWJlcj02KVxyXG4gICAgICAgICAgICBmb3IgaSwgcmVzdWx0IGluIGVudW1lcmF0ZShyZXN1bHRzWzpjYXRlZ29yeV9saW1pdF0pOlxyXG4gICAgICAgICAgICAgICAgaWYgaSA+IDA6XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChcIlxcbj09PT09PT09PT09PT09PT09PT09XFxuXCIpXHJcbiAgICAgICAgICAgICAgICBmaWxlX2RhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiByZXN1bHQuZ2V0KFwidGl0bGVcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogcmVzdWx0LmdldChcInVybFwiLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICBcImNvbnRlbnRcIjogcmVzdWx0LmdldChcImNvbnRlbnRcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzaXplXCI6IHJlc3VsdC5nZXQoXCJzaXplXCIsIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybWF0XCI6IHJlc3VsdC5nZXQoXCJmb3JtYXRcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJpc19maWxlX3Jlc3VsdFwiOiBUcnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqVGl0bGU6Kioge2ZpbGVfZGF0YVsndGl0bGUnXSBvciAnTi9BJ31cIilcclxuICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipVUkw6Kioge2ZpbGVfZGF0YVsndXJsJ10gb3IgJ04vQSd9XCIpXHJcbiAgICAgICAgICAgICAgICBpZiBmaWxlX2RhdGEuZ2V0KCdmb3JtYXQnKTpcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqRm9ybWF0OioqIHtmaWxlX2RhdGFbJ2Zvcm1hdCddfVwiKVxyXG4gICAgICAgICAgICAgICAgaWYgZmlsZV9kYXRhLmdldCgnc2l6ZScpOlxyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipTaXplOioqIHtmaWxlX2RhdGFbJ3NpemUnXX1cIilcclxuICAgICAgICAgICAgICAgIGlmIGZpbGVfZGF0YS5nZXQoJ2NvbnRlbnQnKTpcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIlxcbioqU25pcHBldDoqKlxcbntmaWxlX2RhdGFbJ2NvbnRlbnQnXX1cIilcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZF9yZXN1bHRzLmFwcGVuZChmaWxlX2RhdGEpXHJcbiAgICAgICAgICAgICAgICBpZiBzZWxmLnZhbHZlcy5DSVRBVElPTl9MSU5LUzpcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdF9jaXRhdGlvbihOb25lLCBmaWxlX2RhdGEpXHJcbiAgICAgICAgICAgIGZpbmFsX3Jlc3VsdHNfY291bnQgPSBsZW4ocHJvY2Vzc2VkX3Jlc3VsdHMpXHJcbiAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KHN0YXR1cz1cImNvbXBsZXRlXCIsIGRlc2NyaXB0aW9uPWZcIuKchSBGaWxlIHNlYXJjaCBjb21wbGV0ZSAtIHtmaW5hbF9yZXN1bHRzX2NvdW50fSBmaWxlcyByZXR1cm5lZC5cIiwgZG9uZT1UcnVlLCBzdGVwX251bWJlcj03KVxyXG4gICAgICAgIGVsaWYgc2FmZV9jYXRlZ29yeSA9PSBcIm1hcFwiOlxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChcIvCfl7rvuI8gUHJvY2Vzc2luZyBtYXAgcmVzdWx0c1wiLCBzdGVwX251bWJlcj02KVxyXG4gICAgICAgICAgICBsaW1pdCA9IHNlbGYudmFsdmVzLk1BWF9NQVBfUkVTVUxUU1xyXG4gICAgICAgICAgICBmb3IgaSwgcmVzdWx0IGluIGVudW1lcmF0ZShyZXN1bHRzWzpsaW1pdF0pOlxyXG4gICAgICAgICAgICAgICAgaWYgaSA+IDA6XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChcIlxcbj09PT09PT09PT09PT09PT09PT09XFxuXCIpXHJcbiAgICAgICAgICAgICAgICBtYXBfZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IHJlc3VsdC5nZXQoXCJ0aXRsZVwiLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICBcInVybFwiOiByZXN1bHQuZ2V0KFwidXJsXCIsIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYWRkcmVzc1wiOiByZXN1bHQuZ2V0KFwiYWRkcmVzc1wiLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICBcImxhdGl0dWRlXCI6IHJlc3VsdC5nZXQoXCJsYXRpdHVkZVwiKSxcclxuICAgICAgICAgICAgICAgICAgICBcImxvbmdpdHVkZVwiOiByZXN1bHQuZ2V0KFwibG9uZ2l0dWRlXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiY29udGVudFwiOiByZXN1bHQuZ2V0KFwiY29udGVudFwiLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICBcImlzX21hcF9yZXN1bHRcIjogVHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCIqKlRpdGxlOioqIHttYXBfZGF0YVsndGl0bGUnXSBvciAnTi9BJ31cIilcclxuICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipNYXAgVVJMOioqIHttYXBfZGF0YVsndXJsJ10gb3IgJ04vQSd9XCIpXHJcbiAgICAgICAgICAgICAgICBpZiBtYXBfZGF0YS5nZXQoJ2FkZHJlc3MnKTpcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqQWRkcmVzczoqKiB7bWFwX2RhdGFbJ2FkZHJlc3MnXX1cIilcclxuICAgICAgICAgICAgICAgIGlmIG1hcF9kYXRhLmdldCgnbGF0aXR1ZGUnKSBhbmQgbWFwX2RhdGEuZ2V0KCdsb25naXR1ZGUnKTpcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqQ29vcmRpbmF0ZXM6Kioge21hcF9kYXRhWydsYXRpdHVkZSddfSwge21hcF9kYXRhWydsb25naXR1ZGUnXX1cIilcclxuICAgICAgICAgICAgICAgIGlmIG1hcF9kYXRhLmdldCgnY29udGVudCcpOlxyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiXFxuKipEZXNjcmlwdGlvbjoqKlxcbnttYXBfZGF0YS5nZXQoJ2NvbnRlbnQnKX1cIilcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZF9yZXN1bHRzLmFwcGVuZChtYXBfZGF0YSlcclxuICAgICAgICAgICAgICAgIGlmIHNlbGYudmFsdmVzLkNJVEFUSU9OX0xJTktTOlxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0X2NpdGF0aW9uKE5vbmUsIG1hcF9kYXRhKVxyXG4gICAgICAgICAgICBmaW5hbF9yZXN1bHRzX2NvdW50ID0gbGVuKHByb2Nlc3NlZF9yZXN1bHRzKVxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJjb21wbGV0ZVwiLCBkZXNjcmlwdGlvbj1mXCLinIUgTWFwIHNlYXJjaCBjb21wbGV0ZSAtIHtmaW5hbF9yZXN1bHRzX2NvdW50fSBsb2NhdGlvbnMgcmV0dXJuZWQuXCIsIGRvbmU9VHJ1ZSwgc3RlcF9udW1iZXI9NylcclxuICAgICAgICBlbGlmIHNhZmVfY2F0ZWdvcnkgPT0gXCJzb2NpYWwgbWVkaWFcIjpcclxuICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoXCLwn5OxIFByb2Nlc3Npbmcgc29jaWFsIG1lZGlhIHJlc3VsdHNcIiwgc3RlcF9udW1iZXI9NilcclxuICAgICAgICAgICAgbGltaXQgPSBzZWxmLnZhbHZlcy5NQVhfU09DSUFMX1JFU1VMVFNcclxuICAgICAgICAgICAgZm9yIGksIHJlc3VsdCBpbiBlbnVtZXJhdGUocmVzdWx0c1s6bGltaXRdKTpcclxuICAgICAgICAgICAgICAgIGlmIGkgPiAwOlxyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoXCJcXG49PT09PT09PT09PT09PT09PT09PVxcblwiKVxyXG4gICAgICAgICAgICAgICAgc29jaWFsX2RhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiByZXN1bHQuZ2V0KFwidGl0bGVcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogcmVzdWx0LmdldChcInVybFwiLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICBcImNvbnRlbnRcIjogcmVzdWx0LmdldChcImNvbnRlbnRcIiwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJpc19zb2NpYWxfcmVzdWx0XCI6IFRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipUaXRsZToqKiB7c29jaWFsX2RhdGFbJ3RpdGxlJ10gb3IgJ04vQSd9XCIpXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqVVJMOioqIHtzb2NpYWxfZGF0YVsndXJsJ10gb3IgJ04vQSd9XCIpXHJcbiAgICAgICAgICAgICAgICBpZiBzb2NpYWxfZGF0YS5nZXQoJ2NvbnRlbnQnKTpcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIlxcbioqQ29udGVudDoqKlxcbntzb2NpYWxfZGF0YVsnY29udGVudCddfVwiKVxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc2VkX3Jlc3VsdHMuYXBwZW5kKHNvY2lhbF9kYXRhKVxyXG4gICAgICAgICAgICAgICAgaWYgc2VsZi52YWx2ZXMuQ0lUQVRJT05fTElOS1M6XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXRfY2l0YXRpb24oTm9uZSwgc29jaWFsX2RhdGEpXHJcbiAgICAgICAgICAgIGZpbmFsX3Jlc3VsdHNfY291bnQgPSBsZW4ocHJvY2Vzc2VkX3Jlc3VsdHMpXHJcbiAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KHN0YXR1cz1cImNvbXBsZXRlXCIsIGRlc2NyaXB0aW9uPWZcIuKchSBTb2NpYWwgbWVkaWEgc2VhcmNoIGNvbXBsZXRlIC0ge2ZpbmFsX3Jlc3VsdHNfY291bnR9IHBvc3RzL3Byb2ZpbGVzIHJldHVybmVkLlwiLCBkb25lPVRydWUsIHN0ZXBfbnVtYmVyPTcpXHJcbiAgICAgICAgZWxzZTpcclxuICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoXCLwn5SEIFByb2Nlc3Npbmcgd2ViIHJlc3VsdHMgYnkgc2NyYXBpbmcgcGFnZXNcIiwgc3RlcF9udW1iZXI9NilcclxuICAgICAgICAgICAgbGltaXRlZF9yZXN1bHRzX2Zvcl9zY3JhcGluZyA9IHJlc3VsdHNbOnNlbGYudmFsdmVzLlNDUkFQUEVEX1BBR0VTX05PXVxyXG4gICAgICAgICAgICB0YXNrcyA9IFtdXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAjIEFwcGx5IHJhdGUgbGltaXRpbmcgdG8gc2NyYXBpbmcgb3BlcmF0aW9uc1xyXG4gICAgICAgICAgICBmb3IgcmVzdWx0IGluIGxpbWl0ZWRfcmVzdWx0c19mb3Jfc2NyYXBpbmc6XHJcbiAgICAgICAgICAgICAgICB1cmwgPSByZXN1bHQuZ2V0KFwidXJsXCIsIFwiXCIpXHJcbiAgICAgICAgICAgICAgICBpZiB1cmw6XHJcbiAgICAgICAgICAgICAgICAgICAgIyBDaGVjayByYXRlIGxpbWl0cyBiZWZvcmUgYWRkaW5nIHRhc2tcclxuICAgICAgICAgICAgICAgICAgICBpZiBub3QgcmF0ZV9saW1pdGVyLmNhbl9yZXF1ZXN0KHVybCk6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbWFpbiA9IHVybHBhcnNlKHVybCkubmV0bG9jXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhaXRfdGltZSA9IHJhdGVfbGltaXRlci5nZXRfcmVtYWluaW5nX3RpbWUodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybmluZyhmXCJSYXRlIGxpbWl0IGV4Y2VlZGVkIGZvciB7ZG9tYWlufS4gU2tpcHBpbmcgcmVzdWx0LiBUcnkgYWdhaW4gaW4ge3dhaXRfdGltZTouMWZ9IHNlY29uZHMuXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHRhc2tzLmFwcGVuZChIZWxwZXJGdW5jdGlvbnMucHJvY2Vzc193ZWJfc2VhcmNoX3Jlc3VsdChyZXN1bHQsIHNlbGYudmFsdmVzLCBzZWxmLmNsaWVudCkpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgcHJvY2Vzc2VkX3Jlc3VsdHNfd2l0aF9zb3VwID0gYXdhaXQgYXN5bmNpby5nYXRoZXIoKnRhc2tzKVxyXG4gICAgICAgICAgICBwcm9jZXNzZWRfY291bnQgPSAwXHJcbiAgICAgICAgICAgIGZvciByZXN1bHRfZGF0YSBpbiBwcm9jZXNzZWRfcmVzdWx0c193aXRoX3NvdXA6XHJcbiAgICAgICAgICAgICAgICBpZiByZXN1bHRfZGF0YTpcclxuICAgICAgICAgICAgICAgICAgICBzb3VwX29iaiA9IHJlc3VsdF9kYXRhLnBvcChcInNvdXBcIiwgTm9uZSlcclxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRfcmVzdWx0cy5hcHBlbmQocmVzdWx0X2RhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgbm90IHJlc3VsdF9kYXRhLmdldChcImVycm9yXCIpOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRfY291bnQgKz0gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChmXCLwn5OEIFNjcmFwZWQgcGFnZSB7cHJvY2Vzc2VkX2NvdW50fS97bGVuKHRhc2tzKX06IHtyZXN1bHRfZGF0YS5nZXQoJ3VybCcsICdOL0EnKX1cIiwgc3RlcF9udW1iZXI9NylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgc2VsZi52YWx2ZXMuQ0lUQVRJT05fTElOS1M6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdF9jaXRhdGlvbihzb3VwX29iaiwgcmVzdWx0X2RhdGEpXHJcbiAgICAgICAgICAgICAgICBpZiBsZW4oW3IgZm9yIHIgaW4gcHJvY2Vzc2VkX3Jlc3VsdHMgaWYgbm90IHIuZ2V0KFwiZXJyb3JcIildKSA+PSBzZWxmLnZhbHZlcy5SRVRVUk5FRF9TQ1JBUFBFRF9QQUdFU19OTzpcclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICBwcm9jZXNzZWRfcmVzdWx0cyA9IFtyZXMgZm9yIHJlcyBpbiBwcm9jZXNzZWRfcmVzdWx0cyBpZiByZXNdXHJcbiAgICAgICAgICAgIHByb2Nlc3NlZF9yZXN1bHRzID0gcHJvY2Vzc2VkX3Jlc3VsdHNbOnNlbGYudmFsdmVzLlJFVFVSTkVEX1NDUkFQUEVEX1BBR0VTX05PXVxyXG4gICAgICAgICAgICBmaW5hbF9yZXN1bHRzX2NvdW50ID0gbGVuKHByb2Nlc3NlZF9yZXN1bHRzKVxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJjb21wbGV0ZVwiLCBkZXNjcmlwdGlvbj1mXCLinIUgV2ViIHNlYXJjaCBjb21wbGV0ZSAtIHtmaW5hbF9yZXN1bHRzX2NvdW50fSBwYWdlcyBwcm9jZXNzZWQgYW5kIHJldHVybmVkLlwiLCBkb25lPVRydWUsIHN0ZXBfbnVtYmVyPTgpXHJcbiAgICAgICAgICAgIGZvciBpLCByZXMgaW4gZW51bWVyYXRlKHByb2Nlc3NlZF9yZXN1bHRzKTpcclxuICAgICAgICAgICAgICAgIGlmIGkgPiAwOlxyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoXCJcXG49PT09PT09PT09PT09PT09PT09PVxcblwiKVxyXG4gICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCIqKlRpdGxlOioqIHtyZXMuZ2V0KCd0aXRsZScsICdOL0EnKX1cIilcclxuICAgICAgICAgICAgICAgIG91dHB1dF9wYXJ0cy5hcHBlbmQoZlwiKipVUkw6Kioge3Jlcy5nZXQoJ3VybCcsICdOL0EnKX1cIilcclxuICAgICAgICAgICAgICAgIGlmIHJlcy5nZXQoXCJlcnJvclwiKTpcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKGZcIioqRXJyb3I6Kioge3Jlcy5nZXQoJ2Vycm9yJyl9XCIpXHJcbiAgICAgICAgICAgICAgICBlbHNlOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICdzbmlwcGV0JyBpbiByZXMgYW5kIHJlcy5nZXQoJ3NuaXBwZXQnKTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChmXCJcXG4qKlNuaXBwZXQ6Kioge3Jlcy5nZXQoJ3NuaXBwZXQnKX1cIilcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuYXBwZW5kKFwiXFxuXFxuKipDb250ZW50OioqXCIpICMgQWRkZWQgZXh0cmEgXFxuIGZvciBzcGFjaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0X3BhcnRzLmFwcGVuZChyZXMuZ2V0KCdjb250ZW50JywgJycpKVxyXG4gICAgICAgIHJldHVybiBcIlxcblwiLmpvaW4ob3V0cHV0X3BhcnRzKVxyXG5cclxuICAgIGFzeW5jIGRlZiBfZ2V0X3dlYnNpdGVfY29udGVudF9jYWNoZWQoc2VsZiwgdXJsOiBzdHIpIC0+IERpY3Rbc3RyLCBBbnldOlxyXG4gICAgICAgIHNvdXAgPSBOb25lXHJcbiAgICAgICAgaHRtbF9jb250ZW50ID0gXCJcIlxyXG4gICAgICAgIHRyeTpcclxuICAgICAgICAgICAgdXJsX3RvX2ZldGNoID0gSGVscGVyRnVuY3Rpb25zLl9tb2RpZnlfcmVkZGl0X3VybCh1cmwpXHJcbiAgICAgICAgICAgIHJlc3BvbnNlX3NpdGUgPSBhd2FpdCBzZWxmLmNsaWVudC5nZXQodXJsX3RvX2ZldGNoLCB0aW1lb3V0PTEyMClcclxuICAgICAgICAgICAgcmVzcG9uc2Vfc2l0ZS5yYWlzZV9mb3Jfc3RhdHVzKClcclxuICAgICAgICAgICAgaHRtbF9jb250ZW50ID0gcmVzcG9uc2Vfc2l0ZS50ZXh0XHJcblxyXG4gICAgICAgICAgICAjVE9ETzogUmVmYWN0b3IgdGhpcyBpbnRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gaW4gb3JkZXIgbm8gdG8gZHVwbGljYXRlIGNvZGUgdXNlZCBpbiBzZWFyY2hfd2ViXHJcbiAgICAgICAgICAgIHJhd19jb250ZW50ID0gcmVzcG9uc2Vfc2l0ZS5jb250ZW50XHJcblxyXG4gICAgICAgICAgICAjIFdlIG9ubHkgbmVlZCBhIGNvdXBsZSBvZiBpbml0aWFsIGJ5dGVzLCBub3QgdGhlIHdob2xlIGZpbGUgZm9yIE1JTUUgdHlwZSBndWVzc1xyXG4gICAgICAgICAgICBraW5kID0gZmlsZXR5cGUuZ3Vlc3MocmF3X2NvbnRlbnQpXHJcblxyXG4gICAgICAgICAgICBpZiBraW5kIGlzIG5vdCBOb25lIGFuZCBraW5kLm1pbWUgPT0gXCJhcHBsaWNhdGlvbi9wZGZcIjpcclxuICAgICAgICAgICAgICAgICMgUHJvY2VzcyBQREZcclxuICAgICAgICAgICAgICAgIGRvYyA9IHB5bXVwZGYub3BlbihzdHJlYW09cmF3X2NvbnRlbnQsIGZpbGV0eXBlPVwicGRmXCIpXHJcbiAgICAgICAgICAgICAgICBtZF90ZXh0ID0gcHltdXBkZjRsbG0udG9fbWFya2Rvd24oZG9jKVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBjb250ZW50X3NpdGUgPSBtZF90ZXh0XHJcbiAgICAgICAgICAgICAgICB0cnVuY2F0ZWRfY29udGVudCA9IEhlbHBlckZ1bmN0aW9ucy50cnVuY2F0ZV90b19uX3dvcmRzKGNvbnRlbnRfc2l0ZSwgc2VsZi52YWx2ZXMuUEFHRV9DT05URU5UX1dPUkRTX0xJTUlUKVxyXG4gICAgICAgICAgICAgICAgZXhjZXJwdCA9IEhlbHBlckZ1bmN0aW9ucy5nZW5lcmF0ZV9leGNlcnB0KGNvbnRlbnRfc2l0ZSlcclxuXHJcbiAgICAgICAgICAgICAgICBwYWdlX3RpdGxlID0gXCJBIFBERiBkb2N1bWVudCBjb252ZXJ0ZWQgdG8gTWFya2Rvd25cIlxyXG4gICAgICAgICAgICAgICAgc291cCA9IE5vbmVcclxuICAgICAgICAgICAgZWxzZTpcclxuICAgICAgICAgICAgICAgIHNvdXAgPSBCZWF1dGlmdWxTb3VwKGh0bWxfY29udGVudCwgXCJodG1sLnBhcnNlclwiKVxyXG4gICAgICAgICAgICAgICAgcGFnZV90aXRsZV90YWcgPSBzb3VwLmZpbmQoJ3RpdGxlJylcclxuICAgICAgICAgICAgICAgIHBhZ2VfdGl0bGUgPSBwYWdlX3RpdGxlX3RhZy5zdHJpbmcgaWYgcGFnZV90aXRsZV90YWcgZWxzZSBcIk5vIHRpdGxlIGZvdW5kXCJcclxuICAgICAgICAgICAgICAgIHBhZ2VfdGl0bGUgPSB1bmljb2RlZGF0YS5ub3JtYWxpemUoXCJORktDXCIsIHBhZ2VfdGl0bGUuc3RyaXAoKSlcclxuICAgICAgICAgICAgICAgIHBhZ2VfdGl0bGUgPSBIZWxwZXJGdW5jdGlvbnMucmVtb3ZlX2Vtb2ppcyhwYWdlX3RpdGxlKVxyXG4gICAgICAgICAgICAgICAgY29udGVudF9zaXRlID0gSGVscGVyRnVuY3Rpb25zLmZvcm1hdF90ZXh0X3dpdGhfdHJhZmlsYXR1cmEoaHRtbF9jb250ZW50LCBzZWxmLnZhbHZlcy5UUkFGSUxBVFVSQV9USU1FT1VUKVxyXG4gICAgICAgICAgICAgICAgdHJ1bmNhdGVkX2NvbnRlbnQgPSBIZWxwZXJGdW5jdGlvbnMudHJ1bmNhdGVfdG9fbl93b3Jkcyhjb250ZW50X3NpdGUsIHNlbGYudmFsdmVzLlBBR0VfQ09OVEVOVF9XT1JEU19MSU1JVClcclxuICAgICAgICAgICAgICAgIGV4Y2VycHQgPSBIZWxwZXJGdW5jdGlvbnMuZ2VuZXJhdGVfZXhjZXJwdChjb250ZW50X3NpdGUpXHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBwYWdlX3RpdGxlLCBcInVybFwiOiB1cmwsIFwiY29udGVudFwiOiB0cnVuY2F0ZWRfY29udGVudCxcclxuICAgICAgICAgICAgICAgIFwiZXhjZXJwdFwiOiBleGNlcnB0LCBcImRhdGVfYWNjZXNzZWRcIjogZGF0ZXRpbWUubm93KHRpbWV6b25lLnV0YykuaXNvZm9ybWF0KCksXHJcbiAgICAgICAgICAgICAgICBcInNvdXBcIjogc291cCwgXCJlcnJvclwiOiBOb25lXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBleGNlcHQgaHR0cHguSFRUUFN0YXR1c0Vycm9yIGFzIGU6XHJcbiAgICAgICAgICAgIGVycm9yX21zZyA9IGZcIntlLnJlc3BvbnNlLnN0YXR1c19jb2RlfSB7ZS5yZXNwb25zZS5yZWFzb25fcGhyYXNlfVwiXHJcbiAgICAgICAgICAgIHJldHVybiB7XCJ1cmxcIjogdXJsLCBcImVycm9yXCI6IGVycm9yX21zZywgXCJkYXRlX2FjY2Vzc2VkXCI6IGRhdGV0aW1lLm5vdyh0aW1lem9uZS51dGMpLmlzb2Zvcm1hdCgpLCBcInNvdXBcIjogTm9uZX1cclxuICAgICAgICBleGNlcHQgaHR0cHguUmVxdWVzdEVycm9yIGFzIGU6XHJcbiAgICAgICAgICAgIGVycm9yX21zZyA9IGZcIlJlcXVlc3QgZmFpbGVkOiB7c3RyKGUpfVwiXHJcbiAgICAgICAgICAgIHJldHVybiB7XCJ1cmxcIjogdXJsLCBcImVycm9yXCI6IGVycm9yX21zZywgXCJkYXRlX2FjY2Vzc2VkXCI6IGRhdGV0aW1lLm5vdyh0aW1lem9uZS51dGMpLmlzb2Zvcm1hdCgpLCBcInNvdXBcIjogTm9uZX1cclxuICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XHJcbiAgICAgICAgICAgIGVycm9yX21zZyA9IGZcIlVuZXhwZWN0ZWQgZXJyb3IgcHJvY2Vzc2luZyB3ZWJzaXRlOiB7c3RyKGUpfVwiXHJcbiAgICAgICAgICAgIHJldHVybiB7XCJ1cmxcIjogdXJsLCBcImVycm9yXCI6IGVycm9yX21zZywgXCJkYXRlX2FjY2Vzc2VkXCI6IGRhdGV0aW1lLm5vdyh0aW1lem9uZS51dGMpLmlzb2Zvcm1hdCgpLCBcInNvdXBcIjogTm9uZX1cclxuXHJcbiAgICBhc3luYyBkZWYgZ2V0X3dlYnNpdGUoc2VsZiwgdXJsOiBzdHIpIC0+IHN0cjpcclxuICAgICAgICBwYXJzZWRfdXJsX2lucHV0ID0gdXJscGFyc2UodXJsKVxyXG4gICAgICAgIGlmIG5vdCBwYXJzZWRfdXJsX2lucHV0LnNjaGVtZTpcclxuICAgICAgICAgICAgdXJsID0gXCJodHRwczovL1wiICsgdXJsXHJcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKGZcIlVSTCAne3VybH0nIHdhcyBtaXNzaW5nIGEgc2NoZW1lLiBQcmVwZW5kZWQgaHR0cHM6Ly8uXCIpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICMgQ2hlY2sgcmF0ZSBsaW1pdGluZ1xyXG4gICAgICAgIHJhdGVfbGltaXRlciA9IFJhdGVMaW1pdGVyKFxyXG4gICAgICAgICAgICByZXF1ZXN0c19wZXJfbWludXRlPXNlbGYudmFsdmVzLlJBVEVfTElNSVRfUkVRVUVTVFNfUEVSX01JTlVURSxcclxuICAgICAgICAgICAgdGltZW91dF9zZWNvbmRzPXNlbGYudmFsdmVzLlJBVEVfTElNSVRfVElNRU9VVF9TRUNPTkRTXHJcbiAgICAgICAgKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIG5vdCByYXRlX2xpbWl0ZXIuY2FuX3JlcXVlc3QodXJsKTpcclxuICAgICAgICAgICAgd2FpdF90aW1lID0gcmF0ZV9saW1pdGVyLmdldF9yZW1haW5pbmdfdGltZSh1cmwpXHJcbiAgICAgICAgICAgIGVycm9yX21zZyA9IGZcIlJhdGUgbGltaXQgZXhjZWVkZWQgZm9yIGRvbWFpbiB7cGFyc2VkX3VybF9pbnB1dC5uZXRsb2N9LiBUcnkgYWdhaW4gaW4ge3dhaXRfdGltZTouMWZ9IHNlY29uZHMuXCJcclxuICAgICAgICAgICAgbG9nZ2VyLndhcm5pbmcoZXJyb3JfbXNnKVxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJlcnJvclwiLCBkZXNjcmlwdGlvbj1mXCLinYwge2Vycm9yX21zZ31cIiwgZG9uZT1UcnVlKVxyXG4gICAgICAgICAgICByYWlzZSBSYXRlTGltaXRFeGNlZWRlZEVycm9yKGVycm9yX21zZylcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoZlwi8J+UjSBBY2Nlc3NpbmcgVVJMOiB7dXJsfVwiLCBzdGVwX251bWJlcj0xKVxyXG4gICAgICAgIGNhY2hlZF9yZXN1bHQgPSB3ZWJzaXRlX2NhY2hlLmdldCh1cmwpXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgY2FjaGVkX3Jlc3VsdCBhbmQgQ2FjaGVWYWxpZGF0b3IuaXNfdmFsaWQoY2FjaGVkX3Jlc3VsdCwgc2VsZi52YWx2ZXMuQ0FDSEVfTUFYX0FHRV9NSU5VVEVTKTpcclxuICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoXCLwn5ORIENvbnRlbnQgcmV0cmlldmVkIGZyb20gY2FjaGVcIiwgc3RlcF9udW1iZXI9MylcclxuICAgICAgICAgICAgcmVzdWx0X2RhdGEgPSBjYWNoZWRfcmVzdWx0LmNvcHkoKVxyXG4gICAgICAgICAgICBzb3VwID0gTm9uZVxyXG4gICAgICAgICAgICBlcnJvciA9IHJlc3VsdF9kYXRhLmdldChcImVycm9yXCIpXHJcbiAgICAgICAgZWxzZTpcclxuICAgICAgICAgICAgaWYgY2FjaGVkX3Jlc3VsdDpcclxuICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGZcIkNhY2hlIGVudHJ5IGZvciB7dXJsfSBpcyBzdGFsZSAoYWdlID4ge3NlbGYudmFsdmVzLkNBQ0hFX01BWF9BR0VfTUlOVVRFU30gbWludXRlcykuIFJlZnJlc2hpbmcuXCIpXHJcbiAgICAgICAgICAgIGF3YWl0IHNlbGYuZW1pdHRlci5lbWl0KFwi8J+MkCBGZXRjaGluZyB3ZWIgY29udGVudCAobm90IGNhY2hlZClcIiwgc3RlcF9udW1iZXI9MilcclxuICAgICAgICAgICAgdHJ5OlxyXG4gICAgICAgICAgICAgICAgcmVzdWx0X2RhdGEgPSBhd2FpdCBzZWxmLl9nZXRfd2Vic2l0ZV9jb250ZW50X2NhY2hlZCh1cmwpXHJcbiAgICAgICAgICAgICAgICBjYWNoZV9jb3B5ID0gcmVzdWx0X2RhdGEuY29weSgpXHJcbiAgICAgICAgICAgICAgICBzb3VwID0gY2FjaGVfY29weS5wb3AoXCJzb3VwXCIsIE5vbmUpXHJcbiAgICAgICAgICAgICAgICBpZiBub3QgcmVzdWx0X2RhdGEuZ2V0KFwiZXJyb3JcIik6XHJcbiAgICAgICAgICAgICAgICAgICAgd2Vic2l0ZV9jYWNoZVt1cmxdID0gY2FjaGVfY29weVxyXG4gICAgICAgICAgICAgICAgZXJyb3IgPSByZXN1bHRfZGF0YS5nZXQoXCJlcnJvclwiKVxyXG4gICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XHJcbiAgICAgICAgICAgICAgICBlcnJvcl9tc2cgPSBmXCJGYWlsZWQgdG8gZmV0Y2ggd2Vic2l0ZSBjb250ZW50OiB7c3RyKGUpfVwiXHJcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoZXJyb3JfbXNnKVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoc3RhdHVzPVwiZXJyb3JcIiwgZGVzY3JpcHRpb249Zlwi4p2MIHtlcnJvcl9tc2d9XCIsIGRvbmU9VHJ1ZSlcclxuICAgICAgICAgICAgICAgIHJhaXNlIFdlYlNjcmFwaW5nRXJyb3IoZXJyb3JfbXNnKSBmcm9tIGVcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIGlmIGVycm9yOlxyXG4gICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdChzdGF0dXM9XCJlcnJvclwiLCBkZXNjcmlwdGlvbj1mXCLinYwgRXJyb3IgYWNjZXNzaW5nIHBhZ2U6IHtlcnJvcn1cIiwgZG9uZT1UcnVlKVxyXG4gICAgICAgICAgICByZXR1cm4gZlwiRXJyb3IgYWNjZXNzaW5nIHtyZXN1bHRfZGF0YS5nZXQoJ3VybCcsICdVUkwnKX06IHtlcnJvcn1cIlxyXG4gICAgICAgIGVsc2U6XHJcbiAgICAgICAgICAgIGlmIHNlbGYudmFsdmVzLkNJVEFUSU9OX0xJTktTIGFuZCBzb3VwOlxyXG4gICAgICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoXCLwn5OaIEdlbmVyYXRpbmcgY2l0YXRpb25zXCIsIHN0ZXBfbnVtYmVyPTYpXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBzZWxmLmVtaXR0ZXIuZW1pdF9jaXRhdGlvbihzb3VwLCByZXN1bHRfZGF0YSlcclxuICAgICAgICAgICAgYXdhaXQgc2VsZi5lbWl0dGVyLmVtaXQoc3RhdHVzPVwiY29tcGxldGVcIiwgZGVzY3JpcHRpb249XCLinIUgV2Vic2l0ZSBjb250ZW50IHByb2Nlc3NlZCBzdWNjZXNzZnVsbHkuXCIsIGRvbmU9VHJ1ZSwgc3RlcF9udW1iZXI9NylcclxuICAgICAgICAgICAgb3V0cHV0X3BhcnRzID0gW1xyXG4gICAgICAgICAgICAgICAgZlwiKipUaXRsZToqKiB7cmVzdWx0X2RhdGEuZ2V0KCd0aXRsZScsICdOL0EnKX1cIixcclxuICAgICAgICAgICAgICAgIGZcIioqVVJMOioqIHtyZXN1bHRfZGF0YS5nZXQoJ3VybCcsICdOL0EnKX1cIixcclxuICAgICAgICAgICAgICAgIGZcIioqRGF0ZSBBY2Nlc3NlZDoqKiB7cmVzdWx0X2RhdGEuZ2V0KCdkYXRlX2FjY2Vzc2VkJywgJ04vQScpfVwiLFxyXG4gICAgICAgICAgICAgICAgXCJcXG4qKkV4Y2VycHQ6KipcIixcclxuICAgICAgICAgICAgICAgIHJlc3VsdF9kYXRhLmdldCgnZXhjZXJwdCcsICcnKSxcclxuICAgICAgICAgICAgICAgIFwiXFxuXFxuKipDb250ZW50OioqXCIsICMgQWRkZWQgZXh0cmEgXFxuIGZvciBzcGFjaW5nXHJcbiAgICAgICAgICAgICAgICByZXN1bHRfZGF0YS5nZXQoJ2NvbnRlbnQnLCAnJylcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICBpZiByZXN1bHRfZGF0YS5nZXQoXCJlcnJvclwiKTogIyBFbnN1cmUgZXJyb3IgaXMgYm9sZGVkIGlmIGl0IGV4aXN0cyBhdCB0aGlzIHN0YWdlXHJcbiAgICAgICAgICAgICAgICBvdXRwdXRfcGFydHMuaW5zZXJ0KDIsIGZcIioqRXJyb3I6Kioge3Jlc3VsdF9kYXRhLmdldCgnZXJyb3InKX1cIilcclxuICAgICAgICAgICAgcmV0dXJuIFwiXFxuXCIuam9pbihvdXRwdXRfcGFydHMpXHJcblxyXG4gICAgYXN5bmMgZGVmIGNsb3NlX2NsaWVudChzZWxmKTpcclxuICAgICAgICBhd2FpdCBzZWxmLmNsaWVudC5hY2xvc2UoKVxyXG5cclxuICAgIGRlZiBnZXRfY3VycmVudF9kYXRldGltZShzZWxmKSAtPiBzdHI6XHJcbiAgICAgICAgbm93X3V0YyA9IGRhdGV0aW1lLm5vdyh0aW1lem9uZS51dGMpXHJcbiAgICAgICAgdHJ5OlxyXG4gICAgICAgICAgICB0eiA9IFpvbmVJbmZvKHNlbGYudmFsdmVzLmRlc2lyZWRfdGltZXpvbmUpXHJcbiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjpcclxuICAgICAgICAgICAgdHogPSB0aW1lem9uZS51dGNcclxuICAgICAgICBub3dfZGVzaXJlZCA9IG5vd191dGMuYXN0aW1lem9uZSh0eilcclxuICAgICAgICBmb3JtYXR0ZWRfZGF0ZXRpbWUgPSBub3dfZGVzaXJlZC5zdHJmdGltZShcIiVBLCAlQiAlZCwgJVkgYXQgJUk6JU0gJXAgKCVaKVwiKVxyXG4gICAgICAgIHJldHVybiBmXCJUaGUgY3VycmVudCBkYXRlIGFuZCB0aW1lIGlzIHtmb3JtYXR0ZWRfZGF0ZXRpbWV9XCJcclxuXHJcbiMgLS0tIEpTT04tUlBDIENvbW11bmljYXRpb24gLS0tXHJcbmFzeW5jIGRlZiBzZW5kX2pzb25fcnBjKGRhdGE6IERpY3Rbc3RyLCBBbnldKTpcclxuICAgIG1lc3NhZ2Vfc3RyID0ganNvbi5kdW1wcyhkYXRhKVxyXG4gICAgc3lzLnN0ZG91dC53cml0ZShmXCJ7bWVzc2FnZV9zdHJ9XFxuXCIpXHJcbiAgICBzeXMuc3Rkb3V0LmZsdXNoKClcclxuXHJcbmFzeW5jIGRlZiBzZW5kX25vdGlmaWNhdGlvbihtZXRob2Q6IHN0ciwgcGFyYW1zOiBBbnkpOlxyXG4gICAgYXdhaXQgc2VuZF9qc29uX3JwYyh7XCJqc29ucnBjXCI6IFwiMi4wXCIsIFwibWV0aG9kXCI6IG1ldGhvZCwgXCJwYXJhbXNcIjogcGFyYW1zfSlcclxuXHJcbiMgLS0tIE1haW4gU2VydmVyIExvb3AgLS0tXHJcbmFzeW5jIGRlZiBtYWluKCk6XHJcbiAgICB0b29sc19pbnN0YW5jZSA9IFRvb2xzKHNlbmRfbm90aWZpY2F0aW9uX2Z1bmM9c2VuZF9ub3RpZmljYXRpb24pXHJcbiAgICBsb2dnZXIuaW5mbyhcIk1DUCBTZXJ2ZXIgVG9vbHMgaW5zdGFuY2UgY3JlYXRlZC5cIilcclxuICAgIGxvZ2dlci5pbmZvKFwiTUNQIFNlcnZlciBlbnRlcmluZyBtYWluIGxvb3AuLi5cIilcclxuICAgIHdoaWxlIFRydWU6XHJcbiAgICAgICAgbGluZSA9IHN5cy5zdGRpbi5yZWFkbGluZSgpXHJcbiAgICAgICAgaWYgbm90IGxpbmU6XHJcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKFwiTUNQIFNlcnZlcjogRU9GIHJlY2VpdmVkLCBleGl0aW5nIG1haW4gbG9vcC5cIilcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICB0cnk6XHJcbiAgICAgICAgICAgIHJlcXVlc3QgPSBqc29uLmxvYWRzKGxpbmUpXHJcbiAgICAgICAgICAgIHJlcXVlc3RfaWQgPSByZXF1ZXN0LmdldChcImlkXCIpXHJcbiAgICAgICAgICAgIG1ldGhvZCA9IHJlcXVlc3QuZ2V0KFwibWV0aG9kXCIpXHJcbiAgICAgICAgICAgIHBhcmFtcyA9IHJlcXVlc3QuZ2V0KFwicGFyYW1zXCIsIHt9KVxyXG4gICAgICAgICAgICByZXNwb25zZSA9IHtcImpzb25ycGNcIjogXCIyLjBcIiwgXCJpZFwiOiByZXF1ZXN0X2lkfVxyXG4gICAgICAgICAgICBsb2dnZXIuaW5mbyhmXCJNQ1AgU2VydmVyIHJlY2VpdmVkIG1ldGhvZDoge21ldGhvZCFyfSAoSUQ6IHtyZXF1ZXN0X2lkfSlcIilcclxuICAgICAgICAgICAgaWYgbWV0aG9kID09IFwiaW5pdGlhbGl6ZVwiOlxyXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VbXCJyZXN1bHRcIl0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm90b2NvbFZlcnNpb25cIjogXCIyMDI0LTExLTA1XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzZXJ2ZXJJbmZvXCI6IHtcIm5hbWVcIjogXCJtY3Atc2VhcnhuZy1lbmhhbmNlZFwiLCBcInZlcnNpb25cIjogXCIxLjEuMFwifSxcclxuICAgICAgICAgICAgICAgICAgICBcImNhcGFiaWxpdGllc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidG9vbHNcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWFyY2hfd2ViXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiU2VhcmNoIHRoZSB3ZWIgZm9yIHZhcmlvdXMgY2F0ZWdvcmllcyAoZ2VuZXJhbCwgaW1hZ2VzLCB2aWRlb3MsIGZpbGVzLCBtYXAsIHNvY2lhbCBtZWRpYSwgbmV3cywgaXQsIHNjaWVuY2UpLiBTY3JhcGVzIHRleHQgZm9yIHdlYiBjYXRlZ29yaWVzLCByZXR1cm5zIHNwZWNpZmljIGRhdGEgZm9yIG90aGVycy4gUHJvdmlkZXMgY2l0YXRpb25zLiBBbGxvd3Mgb3B0aW9uYWwgZmlsdGVyaW5nLiBJcyBhYmxlIHRvIHJlYWQgUERGIGZpbGVzIGFuZCBjb252ZXJ0IHRvIE1hcmtkb3duLlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW5wdXRTY2hlbWFcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicXVlcnlcIjoge1widHlwZVwiOiBcInN0cmluZ1wiLCBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHNlYXJjaCBxdWVyeS5cIn0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVuZ2luZXNcIjoge1widHlwZVwiOiBcInN0cmluZ1wiLCBcImRlc2NyaXB0aW9uXCI6IFwiT3B0aW9uYWwgY29tbWEtc2VwYXJhdGVkIGxpc3Qgb2YgU2VhclhORyBlbmdpbmVzIChlLmcuLCAnZ29vZ2xlLHdpa2lwZWRpYScpLiBEZWZhdWx0cyB0byBpbnN0YW5jZSBzZXR0aW5ncy5cIn0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3J5XCI6IHtcInR5cGVcIjogXCJzdHJpbmdcIiwgXCJkZXNjcmlwdGlvblwiOiBcIk9wdGlvbmFsIFNlYXJYTkcgY2F0ZWdvcnkgKGUuZy4sICdnZW5lcmFsJywgJ2ltYWdlcycsICd2aWRlb3MnLCAnZmlsZXMnLCAnbWFwJywgJ3NvY2lhbCBtZWRpYScsICduZXdzJywgJ2l0JywgJ3NjaWVuY2UnKS4gRGVmYXVsdHMgdG8gJ2dlbmVyYWwnLlwifSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2FmZXNlYXJjaFwiOiB7XCJ0eXBlXCI6IFwic3RyaW5nXCIsIFwiZW51bVwiOiBbXCIwXCIsIFwiMVwiLCBcIjJcIl0sIFwiZGVzY3JpcHRpb25cIjogXCJPcHRpb25hbCBzYWZlIHNlYXJjaCBsZXZlbCAoMDogTm9uZSwgMTogTW9kZXJhdGUsIDI6IFN0cmljdCkuIERlZmF1bHRzIHRvIGluc3RhbmNlIHNldHRpbmdzLlwifSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGltZV9yYW5nZVwiOiB7XCJ0eXBlXCI6IFwic3RyaW5nXCIsIFwiZW51bVwiOiBbXCJkYXlcIiwgXCJtb250aFwiLCBcInllYXJcIl0sIFwiZGVzY3JpcHRpb25cIjogXCJPcHRpb25hbCB0aW1lIHJhbmdlIGZpbHRlciAoJ2RheScsICdtb250aCcsICd5ZWFyJykuIERlZmF1bHRzIHRvIGluc3RhbmNlIHNldHRpbmdzLlwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IFtcInF1ZXJ5XCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnZXRfd2Vic2l0ZVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlNjcmFwZSBjb250ZW50IGZyb20gd2ViIHBhZ2VzICh1c2luZyBUcmFmaWxhdHVyYSwgY29udmVydGluZyBSZWRkaXQgdG8gb2xkLnJlZGRpdCkuIENhY2hlcyByZXN1bHRzIGFuZCBwcm92aWRlcyBjaXRhdGlvbnMuIElzIGFibGUgdG8gcmVhZCBQREYgZmlsZXMgYW5kIGNvbnZlcnQgdGhlc2UgdG8gTWFya2Rvd24uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbnB1dFNjaGVtYVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjoge1widHlwZVwiOiBcInN0cmluZ1wiLCBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIFVSTCBvZiB0aGUgd2Vic2l0ZS5cIn0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogW1widXJsXCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnZXRfY3VycmVudF9kYXRldGltZVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkdldCB0aGUgY3VycmVudCBkYXRlIGFuZCB0aW1lIGluIHRoZSBjb25maWd1cmVkIHRpbWV6b25lLlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW5wdXRTY2hlbWFcIjoge1widHlwZVwiOiBcIm9iamVjdFwiLCBcInByb3BlcnRpZXNcIjoge319LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxpZiBtZXRob2QgPT0gXCJ0b29scy9saXN0XCI6XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZVtcInJlc3VsdFwiXSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBcInRvb2xzXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwic2VhcmNoX3dlYlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlNlYXJjaCB0aGUgd2ViIGZvciB2YXJpb3VzIGNhdGVnb3JpZXMgKGdlbmVyYWwsIGltYWdlcywgdmlkZW9zLCBmaWxlcywgbWFwLCBzb2NpYWwgbWVkaWEsIG5ld3MsIGl0LCBzY2llbmNlKS4gU2NyYXBlcyB0ZXh0IGZvciB3ZWIgY2F0ZWdvcmllcywgcmV0dXJucyBzcGVjaWZpYyBkYXRhIGZvciBvdGhlcnMuIFByb3ZpZGVzIGNpdGF0aW9ucy4gQWxsb3dzIG9wdGlvbmFsIGZpbHRlcmluZy4gSXMgYWJsZSB0byByZWFkIFBERiBmaWxlcyBhbmQgY29udmVydCB0byBNYXJrZG93bi5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW5wdXRTY2hlbWFcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicXVlcnlcIjoge1widHlwZVwiOiBcInN0cmluZ1wiLCBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIHNlYXJjaCBxdWVyeS5cIn0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZW5naW5lc1wiOiB7XCJ0eXBlXCI6IFwic3RyaW5nXCIsIFwiZGVzY3JpcHRpb25cIjogXCJPcHRpb25hbCBjb21tYS1zZXBhcmF0ZWQgbGlzdCBvZiBTZWFyWE5HIGVuZ2luZXMgKGUuZy4sICdnb29nbGUsd2lraXBlZGlhJykuIERlZmF1bHRzIHRvIGluc3RhbmNlIHNldHRpbmdzLlwifSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjYXRlZ29yeVwiOiB7XCJ0eXBlXCI6IFwic3RyaW5nXCIsIFwiZGVzY3JpcHRpb25cIjogXCJPcHRpb25hbCBTZWFyWE5HIGNhdGVnb3J5IChlLmcuLCAnZ2VuZXJhbCcsICdpbWFnZXMnLCAndmlkZW9zJywgJ2ZpbGVzJywgJ21hcCcsICdzb2NpYWwgbWVkaWEnLCAnbmV3cycsICdpdCcsICdzY2llbmNlJykuIERlZmF1bHRzIHRvICdnZW5lcmFsJy5cIn0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2FmZXNlYXJjaFwiOiB7XCJ0eXBlXCI6IFwic3RyaW5nXCIsIFwiZW51bVwiOiBbXCIwXCIsIFwiMVwiLCBcIjJcIl0sIFwiZGVzY3JpcHRpb25cIjogXCJPcHRpb25hbCBzYWZlIHNlYXJjaCBsZXZlbCAoMDogTm9uZSwgMTogTW9kZXJhdGUsIDI6IFN0cmljdCkuIERlZmF1bHRzIHRvIGluc3RhbmNlIHNldHRpbmdzLlwifSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aW1lX3JhbmdlXCI6IHtcInR5cGVcIjogXCJzdHJpbmdcIiwgXCJlbnVtXCI6IFtcImRheVwiLCBcIm1vbnRoXCIsIFwieWVhclwiXSwgXCJkZXNjcmlwdGlvblwiOiBcIk9wdGlvbmFsIHRpbWUgcmFuZ2UgZmlsdGVyICgnZGF5JywgJ21vbnRoJywgJ3llYXInKS4gRGVmYXVsdHMgdG8gaW5zdGFuY2Ugc2V0dGluZ3MuXCJ9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IFtcInF1ZXJ5XCJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiZ2V0X3dlYnNpdGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJTY3JhcGUgY29udGVudCBmcm9tIHdlYiBwYWdlcyAodXNpbmcgVHJhZmlsYXR1cmEsIGNvbnZlcnRpbmcgUmVkZGl0IHRvIG9sZC5yZWRkaXQpLiBDYWNoZXMgcmVzdWx0cyBhbmQgcHJvdmlkZXMgY2l0YXRpb25zLiBJcyBhYmxlIHRvIHJlYWQgUERGIGZpbGVzIGFuZCBjb252ZXJ0IHRoZXNlIHRvIE1hcmtkb3duLlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbnB1dFNjaGVtYVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjoge1widHlwZVwiOiBcInN0cmluZ1wiLCBcImRlc2NyaXB0aW9uXCI6IFwiVGhlIFVSTCBvZiB0aGUgd2Vic2l0ZS5cIn0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IFtcInVybFwiXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcImdldF9jdXJyZW50X2RhdGV0aW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiR2V0IHRoZSBjdXJyZW50IGRhdGUgYW5kIHRpbWUgaW4gdGhlIGNvbmZpZ3VyZWQgdGltZXpvbmUuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlucHV0U2NoZW1hXCI6IHtcInR5cGVcIjogXCJvYmplY3RcIiwgXCJwcm9wZXJ0aWVzXCI6IHt9fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsaWYgbWV0aG9kID09IFwidG9vbHMvY2FsbFwiOlxyXG4gICAgICAgICAgICAgICAgdG9vbF9uYW1lID0gcGFyYW1zLmdldChcIm5hbWVcIilcclxuICAgICAgICAgICAgICAgIHRvb2xfYXJncyA9IHBhcmFtcy5nZXQoXCJhcmd1bWVudHNcIiwge30pXHJcbiAgICAgICAgICAgICAgICB0cnk6ICAgICAgICAgICAgICAgICAgICAjIFRvb2wgYWxpYXNlcyBhcyBwZXIgQ2xpbmUgUnVsZSBkb2N1bWVudFxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWFzX21hcCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgIyBzZWFyY2hfd2ViIGFsaWFzZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzZWFyY2hcIjogXCJzZWFyY2hfd2ViXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwid2ViX3NlYXJjaFwiOiBcInNlYXJjaF93ZWJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmaW5kXCI6IFwic2VhcmNoX3dlYlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxvb2t1cF93ZWJcIjogXCJzZWFyY2hfd2ViXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic2VhcmNoX29ubGluZVwiOiBcInNlYXJjaF93ZWJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhY2Nlc3NfaW50ZXJuZXRcIjogXCJzZWFyY2hfd2ViXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAjIGdldF93ZWJzaXRlIGFsaWFzZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmZXRjaF91cmxcIjogXCJnZXRfd2Vic2l0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInNjcmFwZV9wYWdlXCI6IFwiZ2V0X3dlYnNpdGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJnZXRcIjogXCJnZXRfd2Vic2l0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxvYWRfd2Vic2l0ZVwiOiBcImdldF93ZWJzaXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAjIGdldF9jdXJyZW50X2RhdGV0aW1lIGFsaWFzZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjdXJyZW50X3RpbWVcIjogXCJnZXRfY3VycmVudF9kYXRldGltZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImdldF90aW1lXCI6IFwiZ2V0X2N1cnJlbnRfZGF0ZXRpbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjdXJyZW50X2RhdGVcIjogXCJnZXRfY3VycmVudF9kYXRldGltZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgIyBIYW5kbGUgdGhlIGNvbnRleHQtc2Vuc2l0aXZlICdsb29rdXAnIGFsaWFzIGFzIHBlciBDbGluZSBSdWxlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgdG9vbF9uYW1lID09IFwibG9va3VwXCI6XHIiLCJ0cnVuY2F0ZWQiOnRydWUsInRydW5jYXRlZEJ5IjoiYnl0ZXMiLCJ0b3RhbExpbmVzIjoxMDYwLCJ0b3RhbEJ5dGVzIjo1MTE4MSwib3V0cHV0TGluZXMiOjk5NCwib3V0cHV0Qnl0ZXMiOjUxMTgxLCJsYXN0TGluZVBhcnRpYWwiOmZhbHNlLCJmaXJzdExpbmVFeGNlZWRzTGltaXQiOmZhbHNlLCJtYXhMaW5lcyI6MzAwMCwibWF4Qnl0ZXMiOjUxMjAwfSwibWV0YSI6eyJzb3VyY2UiOnsidHlwZSI6InBhdGgiLCJ2YWx1ZSI6IkQ6XFxsbG1cXG1wLXNlYXJ4bmctZW5oYW5jZWRcXG1jcF9zZXJ2ZXIucHkifSwidHJ1bmNhdGlvbiI6eyJkaXJlY3Rpb24iOiJoZWFkIiwidHJ1bmNhdGVkQnkiOiJieXRlcyIsInRvdGFsTGluZXMiOjEwNjAsInRvdGFsQnl0ZXMiOjUxMTgxLCJvdXRwdXRMaW5lcyI6OTk0LCJvdXRwdXRCeXRlcyI6NTExODEsIm1heEJ5dGVzIjo1MTIwMCwic2hvd25SYW5nZSI6eyJzdGFydCI6MSwiZW5kIjo5OTR9LCJuZXh0T2Zmc2V0Ijo5OTV9fX0sImlzRXJyb3IiOmZhbHNlLCJ0aW1lc3RhbXAiOjE3NzEzMDIzNzQxMTN9fSx7InR5cGUiOiJtZXNzYWdlIiwiaWQiOiIxNjBlYjQzMyIsInBhcmVudElkIjoiMjdiY2I3NjUiLCJ0aW1lc3RhbXAiOiIyMDI2LTAyLTE3VDA0OjI2OjQ2LjUyOFoiLCJtZXNzYWdlIjp7InJvbGUiOiJhc3Npc3RhbnQiLCJjb250ZW50IjpbeyJ0eXBlIjoidGhpbmtpbmciLCJ0aGlua2luZyI6IkNvbnRpbnVlIHJlYWQgcmVzdC4iLCJ0aGlua2luZ1NpZ25hdHVyZSI6InJlYXNvbmluZ19jb250ZW50In0seyJ0eXBlIjoidG9vbENhbGwiLCJpZCI6Im1FaXp0eWkzR0wyQzMybDFFZGxGdW4xZHVySVNCSzFEIiwibmFtZSI6InJlYWQiLCJhcmd1bWVudHMiOnsicGF0aCI6Im1jcF9zZXJ2ZXIucHkiLCJvZmZzZXQiOjk5NSwibGltaXQiOjIwMH19XSwiYXBpIjoib3BlbmFpLWNvbXBsZXRpb25zIiwicHJvdmlkZXIiOiJBTUQtc2VydmVyIiwibW9kZWwiOiJncHQtb3NzLTEyMGItaGVyZXRpYy12Mi1NWEZQIiwidXNhZ2UiOnsiaW5wdXQiOjMzOTM3LCJvdXRwdXQiOjM3LCJjYWNoZVJlYWQiOjAsImNhY2hlV3JpdGUiOjAsInRvdGFsVG9rZW5zIjozMzk3NCwiY29zdCI6eyJpbnB1dCI6MCwib3V0cHV0IjowLCJjYWNoZVJlYWQiOjAsImNhY2hlV3JpdGUiOjAsInRvdGFsIjowfX0sInN0b3BSZWFzb24iOiJ0b29sVXNlIiwidGltZXN0YW1wIjoxNzcxMzAyMzc0MTE0LCJkdXJhdGlvbiI6MzI0MTN9fSx7InR5cGUiOiJtZXNzYWdlIiwiaWQiOiI3ZDQ0M2I0NCIsInBhcmVudElkIjoiMTYwZWI0MzMiLCJ0aW1lc3RhbXAiOiIyMDI2LTAyLTE3VDA0OjI2OjQ2LjUzOFoiLCJtZXNzYWdlIjp7InJvbGUiOiJ0b29sUmVzdWx0IiwidG9vbENhbGxJZCI6Im1FaXp0eWkzR0wyQzMybDFFZGxGdW4xZHVySVNCSzFEIiwidG9vbE5hbWUiOiJyZWFkIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiOTk1OmVifCAgICAgICAgICAgICAgICAgICAgICAgICMgSWYgY2FsbGVkIHdpdGggYSAndXJsJyBhcmd1bWVudCwgbWFwIHRvICdnZXRfd2Vic2l0ZSdcclxuOTk2OmI0fCAgICAgICAgICAgICAgICAgICAgICAgICMgT3RoZXJ3aXNlLCBtYXAgdG8gJ3NlYXJjaF93ZWInXHJcbjk5NzpkZXwgICAgICAgICAgICAgICAgICAgICAgICBpZiBcInVybFwiIGluIHRvb2xfYXJncyBhbmQgdG9vbF9hcmdzW1widXJsXCJdOlxyXG45OTg6ODB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbm9uaWNhbF9uYW1lID0gXCJnZXRfd2Vic2l0ZVwiXHJcbjk5OTowNXwgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOlxyXG4xMDAwOmVifCAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5vbmljYWxfbmFtZSA9IFwic2VhcmNoX3dlYlwiXHJcbjEwMDE6NTd8ICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZlwiQ29udGV4dC1zZW5zaXRpdmUgYWxpYXM6IE1hcHBpbmcgJ2xvb2t1cCcgdG8gJ3tjYW5vbmljYWxfbmFtZX0nIGJhc2VkIG9uIGFyZ3VtZW50c1wiKVxyXG4xMDAyOmMzfCAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfbmFtZSA9IGNhbm9uaWNhbF9uYW1lXHJcbjEwMDM6ODd8ICAgICAgICAgICAgICAgICAgICBlbGlmIHRvb2xfbmFtZSBpbiBhbGlhc19tYXA6XHJcbjEwMDQ6NzJ8ICAgICAgICAgICAgICAgICAgICAgICAgY2Fub25pY2FsX25hbWUgPSBhbGlhc19tYXBbdG9vbF9uYW1lXVxyXG4xMDA1OjI3fCAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGZcIkFsaWFzaW5nIHRvb2wgY2FsbCBmcm9tICd7dG9vbF9uYW1lfScgdG8gJ3tjYW5vbmljYWxfbmFtZX0nXCIpXHJcbjEwMDY6YzN8ICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9uYW1lID0gY2Fub25pY2FsX25hbWVcclxuMTAwNzpiMnwgICAgICAgICAgICAgICAgICAgIGlmIHRvb2xfbmFtZSA9PSBcInNlYXJjaF93ZWJcIjpcclxuMTAwODo2MnwgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IHRvb2xfYXJncy5nZXQoXCJxdWVyeVwiKVxyXG4xMDA5OjVifCAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdCBxdWVyeTpcclxuMTAxMDo2NHwgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihcIk1pc3NpbmcgJ3F1ZXJ5JyBhcmd1bWVudCBmb3Igc2VhcmNoX3dlYlwiKVxyXG4xMDExOmFhfCAgICAgICAgICAgICAgICAgICAgICAgIGVuZ2luZXMgPSB0b29sX2FyZ3MuZ2V0KFwiZW5naW5lc1wiKVxyXG4xMDEyOjNjfCAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5ID0gdG9vbF9hcmdzLmdldChcImNhdGVnb3J5XCIsIFwiZ2VuZXJhbFwiKVxyXG4xMDEzOmFmfCAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVzZWFyY2ggPSB0b29sX2FyZ3MuZ2V0KFwic2FmZXNlYXJjaFwiKVxyXG4xMDE0OmEwfCAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVfcmFuZ2UgPSB0b29sX2FyZ3MuZ2V0KFwidGltZV9yYW5nZVwiKVxyXG4xMDE1OjNjfCAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdF90ZXh0ID0gYXdhaXQgdG9vbHNfaW5zdGFuY2Uuc2VhcmNoX3dlYihxdWVyeSwgZW5naW5lcywgY2F0ZWdvcnksIHNhZmVzZWFyY2gsIHRpbWVfcmFuZ2UpXHJcbjEwMTY6NDh8ICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbXCJyZXN1bHRcIl0gPSB7XCJjb250ZW50XCI6IFt7XCJ0eXBlXCI6IFwidGV4dFwiLCBcInRleHRcIjogcmVzdWx0X3RleHR9XSwgXCJpc0Vycm9yXCI6IEZhbHNlfVxyXG4xMDE3OmZkfCAgICAgICAgICAgICAgICAgICAgZWxpZiB0b29sX25hbWUgPT0gXCJnZXRfd2Vic2l0ZVwiOlxyXG4xMDE4OjQyfCAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHRvb2xfYXJncy5nZXQoXCJ1cmxcIilcclxuMTAxOTo0MXwgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QgdXJsOlxyXG4xMDIwOjU1fCAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKFwiTWlzc2luZyAndXJsJyBhcmd1bWVudCBmb3IgZ2V0X3dlYnNpdGVcIilcclxuMTAyMTowNnwgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRfdGV4dCA9IGF3YWl0IHRvb2xzX2luc3RhbmNlLmdldF93ZWJzaXRlKHVybClcclxuMTAyMjo0OHwgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVtcInJlc3VsdFwiXSA9IHtcImNvbnRlbnRcIjogW3tcInR5cGVcIjogXCJ0ZXh0XCIsIFwidGV4dFwiOiByZXN1bHRfdGV4dH1dLCBcImlzRXJyb3JcIjogRmFsc2V9XHJcbjEwMjM6YjB8ICAgICAgICAgICAgICAgICAgICBlbGlmIHRvb2xfbmFtZSA9PSBcImdldF9jdXJyZW50X2RhdGV0aW1lXCI6XHJcbjEwMjQ6OTN8ICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZXRpbWVfc3RyID0gdG9vbHNfaW5zdGFuY2UuZ2V0X2N1cnJlbnRfZGF0ZXRpbWUoKVxyXG4xMDI1OjhmfCAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlW1wicmVzdWx0XCJdID0ge1wiY29udGVudFwiOiBbe1widHlwZVwiOiBcInRleHRcIiwgXCJ0ZXh0XCI6IGRhdGV0aW1lX3N0cn1dLCBcImlzRXJyb3JcIjogRmFsc2V9XHJcbjEwMjY6MDV8ICAgICAgICAgICAgICAgICAgICBlbHNlOlxyXG4xMDI3OjdjfCAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZlwiVW5rbm93biB0b29sOiB7dG9vbF9uYW1lfVwiKVxyXG4xMDI4OjdkfCAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XHJcbjEwMjk6YmR8ICAgICAgICAgICAgICAgICAgICByZXNwb25zZVtcInJlc3VsdFwiXSA9IHtcImNvbnRlbnRcIjogW3tcInR5cGVcIjogXCJ0ZXh0XCIsIFwidGV4dFwiOiBzdHIoZSl9XSwgXCJpc0Vycm9yXCI6IFRydWV9XHJcbjEwMzA6MDV8ICAgICAgICAgICAgZWxzZTpcclxuMTAzMTo0MHwgICAgICAgICAgICAgICAgcmVzcG9uc2VbXCJlcnJvclwiXSA9IHtcImNvZGVcIjogLTMyNjAxLCBcIm1lc3NhZ2VcIjogXCJNZXRob2Qgbm90IGZvdW5kXCJ9XHJcbjEwMzI6NWF8ICAgICAgICAgICAgaWYgcmVxdWVzdF9pZCBpcyBub3QgTm9uZTpcclxuMTAzMzo2NXwgICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZlwiU2VuZGluZyByZXNwb25zZSBmb3IgcmVxdWVzdCBJRDoge3JlcXVlc3RfaWR9XCIpXHJcbjEwMzQ6YmV8ICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRfanNvbl9ycGMocmVzcG9uc2UpXHJcbjEwMzU6MDV8ICAgICAgICAgICAgZWxzZTpcclxuMTAzNjpiYXwgICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZlwiUmVjZWl2ZWQgbm90aWZpY2F0aW9uIChubyBJRCksIG1ldGhvZDoge21ldGhvZH1cIilcclxuMTAzNzo0N3wgICAgICAgIGV4Y2VwdCBqc29uLkpTT05EZWNvZGVFcnJvcjpcclxuMTAzODpmZnwgICAgICAgICAgICBpZiBsaW5lLnN0cmlwKCk6XHJcbjEwMzk6Yzl8ICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihmXCJKU09OIFBhcnNlIGVycm9yIHByb2Nlc3NpbmcgbGluZToge2xpbmUhcn1cIilcclxuMTA0MDpjMXwgICAgICAgICAgICAgICAgZXJyb3JfcmVzcG9uc2UgPSB7XCJqc29ucnBjXCI6IFwiMi4wXCIsIFwiZXJyb3JcIjoge1wiY29kZVwiOiAtMzI3MDAsIFwibWVzc2FnZVwiOiBcIlBhcnNlIGVycm9yXCJ9LCBcImlkXCI6IE5vbmV9XHJcbjEwNDE6NDl8ICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRfanNvbl9ycGMoZXJyb3JfcmVzcG9uc2UpXHJcbjEwNDI6N2R8ICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6XHJcbjEwNDM6Nzl8ICAgICAgICAgICAgcmVxX2lkID0gcmVxdWVzdC5nZXQoXCJpZFwiKSBpZiBpc2luc3RhbmNlKHJlcXVlc3QsIGRpY3QpIGVsc2UgTm9uZVxyXG4xMDQ0OjhmfCAgICAgICAgICAgIGxvZ2dlci5leGNlcHRpb24oZlwiSW50ZXJuYWwgZXJyb3IgcHJvY2Vzc2luZyByZXF1ZXN0IChJRDoge3JlcV9pZH0pOiB7bGluZSFyfVwiKVxyXG4xMDQ1OmRhfCAgICAgICAgICAgIGVycm9yX3Jlc3BvbnNlID0ge1wianNvbnJwY1wiOiBcIjIuMFwiLCBcImVycm9yXCI6IHtcImNvZGVcIjogLTMyNjAzLCBcIm1lc3NhZ2VcIjogZlwiSW50ZXJuYWwgZXJyb3I6IHtzdHIoZSl9XCJ9LCBcImlkXCI6IHJlcV9pZH1cclxuMTA0Njo0OXwgICAgICAgICAgICBhd2FpdCBzZW5kX2pzb25fcnBjKGVycm9yX3Jlc3BvbnNlKVxyXG4xMDQ3OmQ2fCAgICBsb2dnZXIuaW5mbyhcIkNsb3NpbmcgSFRUUCBjbGllbnQuXCIpXHJcbjEwNDg6ZGJ8ICAgIGF3YWl0IHRvb2xzX2luc3RhbmNlLmNsb3NlX2NsaWVudCgpXHJcbjEwNDk6MGJ8ICAgIGxvZ2dlci5pbmZvKFwiTUNQIFNlcnZlciBleGl0aW5nLlwiKVxyXG4xMDUwOjA1fFxyXG4xMDUxOjkwfGlmIF9fbmFtZV9fID09IFwiX19tYWluX19cIjpcclxuMTA1MjpkY3wgICAgdHJ5OlxyXG4xMDUzOjNhfCAgICAgICAgYXN5bmNpby5ydW4obWFpbigpKVxyXG4xMDU0Ojg3fCAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6XHJcbjEwNTU6ZWR8ICAgICAgICBsb2dnZXIuaW5mbyhcIktleWJvYXJkSW50ZXJydXB0IHJlY2VpdmVkLCBleGl0aW5nLlwiKVxyXG4xMDU2Ojc4fCAgICAgICAgc3lzLmV4aXQoMClcclxuMTA1Nzo3ZHwgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOlxyXG4xMDU4OjE0fCAgICAgICAgbG9nZ2luZy5jcml0aWNhbChmXCJGYXRhbCBlcnJvciBzdGFydGluZyBzZXJ2ZXI6IHtlfVwiLCBleGNfaW5mbz1UcnVlKVxyXG4xMDU5Ojc3fCAgICAgICAgc3lzLmV4aXQoMSlcclxuMTA2MDowNXwifV0sImRldGFpbHMiOnsibWV0YSI6eyJzb3VyY2UiOnsidHlwZSI6InBhdGgiLCJ2YWx1ZSI6IkQ6XFxsbG1cXG1wLXNlYXJ4bmctZW5oYW5jZWRcXG1jcF9zZXJ2ZXIucHkifX19LCJpc0Vycm9yIjpmYWxzZSwidGltZXN0YW1wIjoxNzcxMzAyNDA2NTMxfX0seyJ0eXBlIjoibWVzc2FnZSIsImlkIjoiYmQ0ZWNhZTUiLCJwYXJlbnRJZCI6IjdkNDQzYjQ0IiwidGltZXN0YW1wIjoiMjAyNi0wMi0xN1QwNDoyODoxNS4zMTFaIiwibWVzc2FnZSI6eyJyb2xlIjoiYXNzaXN0YW50IiwiY29udGVudCI6W3sidHlwZSI6InRoaW5raW5nIiwidGhpbmtpbmciOiJOb3cgc3VtbWFyaXNlIGZ1bmN0aW9uYWxpdHkuXG5cblJlcG8gY29udGFpbnMgc2VydmVyIHRoYXQgaW1wbGVtZW50cyBNQ1AgKE1vZGVsIENvbnRleHQgUHJvdG9jb2wpIHdpdGggdG9vbHM6IHNlYXJjaF93ZWIsIGdldF93ZWJzaXRlLCBnZXRfY3VycmVudF9kYXRldGltZS4gVXNlcyBTZWFyWE5HIEFQSSwgc2NyYXBpbmcsIGNhY2hpbmcsIHJhdGUgbGltaXRpbmcsIFBERiBjb252ZXJzaW9uLCBjaXRhdGlvbiBnZW5lcmF0aW9uLCB0aW1lem9uZSBoYW5kbGluZy4gQ29uZmlnIHZpYSBlbnYgdmFycyBhbmQgb3B0aW9uYWwgY29uZmlnIGZpbGUuIFByb3ZpZGVzIEpTT04tUlBDIG92ZXIgc3RkaW4vc3Rkb3V0LlxuXG5BbHNvIGluY2x1ZGVzIERvY2tlcmZpbGUsIFJFQURNRSwgcmVxdWlyZW1lbnRzLlxuXG5TdW1tYXJpemUuIiwidGhpbmtpbmdTaWduYXR1cmUiOiJyZWFzb25pbmdfY29udGVudCJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiKipSZXBvc2l0b3J5IE92ZXJ2aWV3KipcblxuVGhlIHByb2plY3QgaW1wbGVtZW50cyBhICoqTW9kZWwgQ29udGV4dCBQcm90b2NvbCAoTUNQKSBzZXJ2ZXIqKiB0aGF0IGV4cG9zZXMgdGhyZWUgcHJpbWFyeSB0b29scyB0byBNQ1DigJFjb21wYXRpYmxlIGNsaWVudHM6XG5cbnwgVG9vbCB8IFB1cnBvc2UgfCBLZXkgRmVhdHVyZXMgfFxufC0tLS0tLXwtLS0tLS0tLS18LS0tLS0tLS0tLS0tLS18XG58ICoqc2VhcmNoX3dlYioqIHwgQ2F0ZWdvcnnigJFhd2FyZSB3ZWIgc2VhcmNoIHZpYSBhIFNlYXJYTkcgaW5zdGFuY2UgfCDigKIgU3VwcG9ydHMgY2F0ZWdvcmllczogZ2VuZXJhbCwgaW1hZ2VzLCB2aWRlb3MsIGZpbGVzLCBtYXAsIHNvY2lhbCBtZWRpYSwgZXRjLjxicj7igKIgUmV0cmlldmVzIGFuZCBmb3JtYXRzIHJlc3VsdHMsIHJlc3BlY3RzIHBlcuKAkWNhdGVnb3J5IGxpbWl0cyAobWF4IHJlc3VsdHMsIHBhZ2VzIHRvIHNjcmFwZSkuPGJyPuKAoiBTY3JhcGVzIHBhZ2VzIGZvciB0ZXh0dWFsIGNvbnRlbnQgKFRyYWZpbGF0dXJhKSB3aGVuIG5lZWRlZC48YnI+4oCiIEhhbmRsZXMgUERGcyAoTXVQREbigK/ihpLigK9NYXJrZG93bikuPGJyPuKAoiBHZW5lcmF0ZXMgY2l0YXRpb25zIChtZXRhZGF0YSwgc291cmNlLCBvcHRpb25hbCBkYXRlL2F1dGhvciBleHRyYWN0aW9uKS48YnI+4oCiIFJvYnVzdCBlcnJvciBoYW5kbGluZyB3aXRoIGN1c3RvbSBleGNlcHRpb25zLjxicj7igKIgRW1pdHMgcHJvZ3Jlc3MgZXZlbnRzIHZpYSB0aGUgTUNQIGV2ZW50IGVtaXR0ZXIuIHxcbnwgKipnZXRfd2Vic2l0ZSoqIHwgU2NyYXBlIGEgc2luZ2xlIFVSTCB8IOKAoiBOb3JtYWxpemVzIFVSTHMgKGFkZHMgbWlzc2luZyBzY2hlbWUsIHJld3JpdGVzIFJlZGRpdCBVUkxzKS48YnI+4oCiIEFwcGxpZXMgZG9tYWlu4oCRYmFzZWQgcmF0ZSBsaW1pdGluZy48YnI+4oCiIENhY2hlcyByZXN1bHRzIGluIGFuIGlu4oCRbWVtb3J5IGBUVExDYWNoZWA7IHZhbGlkYXRlcyBmcmVzaG5lc3MgdmlhIGBDYWNoZVZhbGlkYXRvcmAgKGRlZmF1bHQgMzDigK9taW4pLjxicj7igKIgRGV0ZWN0cyBQREZzIGFuZCBjb252ZXJ0cyB0aGVtIHRvIE1hcmtkb3duLjxicj7igKIgRXh0cmFjdHMgY2xlYW4gdGV4dCB3aXRoIFRyYWZpbGF0dXJhLCBmYWxsaW5nIGJhY2sgdG8gQmVhdXRpZnVsU291cC48YnI+4oCiIFByb2R1Y2VzIGNpdGF0aW9ucyB3aGVuIGVuYWJsZWQuPGJyPuKAoiBSZXR1cm5zIGEgZm9ybWF0dGVkIG1hcmtkb3duIGJsb2NrIHdpdGggdGl0bGUsIFVSTCwgZXhjZXJwdCwgY29udGVudCwgYW5kIGFjY2VzcyB0aW1lc3RhbXAuIHxcbnwgKipnZXRfY3VycmVudF9kYXRldGltZSoqIHwgUmV0dXJuIHRoZSBjdXJyZW50IGRhdGUvdGltZSB8IOKAoiBVc2VzIHRoZSBjb25maWd1cmVkIHRpbWV6b25lIChkZWZhdWx0ICpBbWVyaWNhL05ld19Zb3JrKikuPGJyPuKAoiBGYWxscyBiYWNrIHRvIFVUQyBpZiB0aGUgdGltZXpvbmUgaXMgaW52YWxpZC4gfFxuXG4qKkNvcmUgQXJjaGl0ZWN0dXJlKipcblxuLSAqKkNvbmZpZ3VyYXRpb24gKGBUb29scy5WYWx2ZXNgKSoqIOKAkyBQeWRhbnRpYyBtb2RlbCB3aXRoIGRlZmF1bHRzLCBlbnZpcm9ubWVudOKAkXZhcmlhYmxlIG92ZXJyaWRlcywgYW5kIG9wdGlvbmFsIEpTT04gY29uZmlnIGZpbGUgKGBvZHNfY29uZmlnLmpzb25gKS4gVmFsaWRhdGVzIFVSTCBmb3JtYXQgYW5kIHRpbWV6b25lLiBIYW5kbGVzIHBhZ2UgbGltaXRzLCBjYWNoZSBzaXplcywgcmF0ZeKAkWxpbWl0IHRocmVzaG9sZHMsIHRpbWVvdXRzLCBhbmQgZmVhdHVyZSB0b2dnbGVzIChlLmcuLCBjaXRhdGlvbiBsaW5rcykuXG4tICoqUmF0ZSBMaW1pdGVyKiog4oCTIFBlcuKAkWRvbWFpbiB0b2tlbiBidWNrZXQgaW1wbGVtZW50YXRpb24gKGBSYXRlTGltaXRlcmApIHByZXZlbnRpbmcgZXhjZXNzaXZlIHJlcXVlc3RzLlxuLSAqKkNhY2hlKiog4oCTIEdsb2JhbCBgd2Vic2l0ZV9jYWNoZWAgKGBUVExDYWNoZWApIGtleWVkIGJ5IFVSTDsgcmVzcGVjdHMgbWF4IHNpemUgYW5kIFRUTCAobWludXRlcykuIFN0YWxlIGVudHJpZXMgYXJlIHJlZnJlc2hlZCBhdXRvbWF0aWNhbGx5LlxuLSAqKkhlbHBlckZ1bmN0aW9ucyoqIOKAkyBTdGF0aWMgdXRpbGl0aWVzIGZvciBVUkwgaGFuZGxpbmcsIHRleHQgY2xlYW5pbmcsIGV4Y2VycHQgZ2VuZXJhdGlvbiwgUERGIGNvbnZlcnNpb24sIGVtb2ppIHJlbW92YWwsIGV0Yy5cbi0gKipFdmVudCBFbWlzc2lvbioqIOKAkyBgTUNQRXZlbnRFbWl0dGVyYCBzZW5kcyBzdGF0dXMgdXBkYXRlcyAoYHRvb2wvZXZlbnRgKSB0byB0aGUgY2xpZW50LCBlbmFibGluZyBwcm9ncmVzcyByZXBvcnRpbmcgYW5kIGNpdGF0aW9uIG5vdGlmaWNhdGlvbnMuXG4tICoqSlNPTuKAkVJQQyBMb29wKiog4oCTIFJlYWRzIGxpbmXigJFkZWxpbWl0ZWQgSlNPTiByZXF1ZXN0cyBmcm9tIGBzdGRpbmAsIGRpc3BhdGNoZXMgYGluaXRpYWxpemVgLCBgdG9vbHMvbGlzdGAsIGFuZCBgdG9vbHMvY2FsbGAgbWV0aG9kcywgYW5kIHdyaXRlcyByZXNwb25zZXMgdG8gYHN0ZG91dGAuIEhhbmRsZXMgcGFyc2luZyBlcnJvcnMsIHVua25vd24gbWV0aG9kcywgYW5kIGludGVybmFsIGV4Y2VwdGlvbnMgZ3JhY2VmdWxseS5cbi0gKipEb2NrZXJpemF0aW9uKiog4oCTIGBEb2NrZXJmaWxlYCBidWlsZHMgYSBjb250YWluZXIgZXhwb3NpbmcgdGhlIHNlcnZlcjsgZW52aXJvbm1lbnQgdmFyaWFibGVzIGNvbmZpZ3VyZSBiZWhhdmlvci4gVGhlIFJFQURNRSBwcm92aWRlcyBxdWlja+KAkXN0YXJ0IGluc3RydWN0aW9ucyBmb3IgYm90aCBEb2NrZXIgYW5kIG5hdGl2ZSBleGVjdXRpb24uXG5cbioqT3BlcmF0aW9uYWwgRmxvdyAoVHlwaWNhbCBVc2UpKipcblxuMS4gKipDbGllbnQgaW5pdGlhbGl6ZXMqKiAoYGluaXRpYWxpemVgKSDigJMgcmVjZWl2ZXMgcHJvdG9jb2wgdmVyc2lvbiwgc2VydmVyIGluZm8sIGFuZCB0b29sIGNhcGFiaWxpdGllcy5cbjIuICoqQ2xpZW50IGxpc3RzIHRvb2xzKiogKGB0b29scy9saXN0YCkg4oCTIGRpc2NvdmVycyBgc2VhcmNoX3dlYmAsIGBnZXRfd2Vic2l0ZWAsIGBnZXRfY3VycmVudF9kYXRldGltZWAuXG4zLiAqKkNsaWVudCBjYWxscyBhIHRvb2wqKiAoYHRvb2xzL2NhbGxgKSDigJMgYXJndW1lbnRzIGFyZSB2YWxpZGF0ZWQsIHRoZSBhcHByb3ByaWF0ZSBhc3luYyBtZXRob2QgaXMgaW52b2tlZC5cbiAgIC0gRm9yICoqc2VhcmNoX3dlYioqLCB0aGUgc2VydmVyIGNvbnRhY3RzIHRoZSBjb25maWd1cmVkIFNlYXJYTkcgQVBJLCBwcm9jZXNzZXMgcmVzdWx0cyBwZXIgY2F0ZWdvcnksIG9wdGlvbmFsbHkgc2NyYXBlcyBwYWdlcyAocmF0ZeKAkWxpbWl0ZWQsIGNhY2hlZCksIGFuZCByZXR1cm5zIGEgbWFya2Rvd27igJFmb3JtYXR0ZWQgcmVzcG9uc2Ugd2l0aCBvcHRpb25hbCBjaXRhdGlvbnMuXG4gICAtIEZvciAqKmdldF93ZWJzaXRlKiosIHRoZSBzZXJ2ZXIgY2hlY2tzIHRoZSBjYWNoZSwgZmV0Y2hlcyB0aGUgVVJMIChyZXNwZWN0aW5nIHJhdGUgbGltaXRzKSwgZXh0cmFjdHMgdGV4dCAob3IgUERGIOKGkiBNYXJrZG93biksIGNhY2hlcyB0aGUgcmVzdWx0LCBhbmQgcmV0dXJucyBmb3JtYXR0ZWQgY29udGVudC5cbiAgIC0gRm9yICoqZ2V0X2N1cnJlbnRfZGF0ZXRpbWUqKiwgdGhlIHNlcnZlciBmb3JtYXRzIHRoZSBjdXJyZW50IHRpbWUgaW4gdGhlIGNvbmZpZ3VyZWQgdGltZXpvbmUuXG40LiAqKlByb2dyZXNzIGV2ZW50cyoqIGFyZSBlbWl0dGVkIHRocm91Z2hvdXQgdGhlIHByb2Nlc3MsIGFsbG93aW5nIHRoZSBjbGllbnQgdG8gZGlzcGxheSBzdGF0dXMgb3IgaGFuZGxlIGNpdGF0aW9ucy5cblxuKipLZXkgRGVzaWduIERlY2lzaW9ucyoqXG5cbi0gKipUaHJlZeKAkXRpZXIgY29uZmlndXJhdGlvbioqIChzY3JpcHQgZGVmYXVsdHPigK884oCvZmlsZeKArzzigK9lbnZpcm9ubWVudCkgZW5zdXJlcyByZXByb2R1Y2libGUgc2V0dXBzIGFuZCBwZXJzaXN0ZW5jZSBhY3Jvc3MgY29udGFpbmVyIHJlc3RhcnRzLlxuLSAqKkRvbWFpbuKAkWJhc2VkIHJhdGUgbGltaXRpbmcqKiBwcm90ZWN0cyB0YXJnZXQgc2l0ZXMgYW5kIGF2b2lkcyBJUCBiYW5zLlxuLSAqKklu4oCRbWVtb3J5IGNhY2hpbmcgd2l0aCB2YWxpZGF0aW9uKiogcmVkdWNlcyByZWR1bmRhbnQgbmV0d29yayBjYWxscyB3aGlsZSBndWFyYW50ZWVpbmcgZnJlc2huZXNzLlxuLSAqKk1vZHVsYXIgaGVscGVycyoqIGtlZXAgdGhlIG1haW4gdG9vbCBtZXRob2RzIGNvbmNpc2UgYW5kIHJldXNhYmxlLlxuLSAqKkV4dGVuc2l2ZSBlcnJvciBoYW5kbGluZyoqIHdpdGggY3VzdG9tIGV4Y2VwdGlvbiBoaWVyYXJjaHkgcHJvdmlkZXMgY2xlYXIgZGlhZ25vc3RpY3MgdG8gdGhlIGNsaWVudC5cbi0gKipDaXRhdGlvbiBnZW5lcmF0aW9uKiogZW5yaWNoZXMgcmVzcG9uc2VzIGZvciBkb3duc3RyZWFtIExMTXMgdGhhdCByZXF1aXJlIHNvdXJjZSBhdHRyaWJ1dGlvbi5cblxuT3ZlcmFsbCwgdGhlIHJlcG9zaXRvcnkgZGVsaXZlcnMgYSBzZWxm4oCRY29udGFpbmVkIE1DUCBzZXJ2ZXIgdGhhdCBpbnRlZ3JhdGVzIFNlYXJYTkcgc2VhcmNoLCByb2J1c3Qgd2ViIHNjcmFwaW5nLCBQREYgY29udmVyc2lvbiwgY2FjaGluZywgcmF0ZSBsaW1pdGluZywgdGltZXpvbmXigJFhd2FyZSBkYXRldGltZSwgYW5kIHN0cnVjdHVyZWQgSlNPTuKAkVJQQyBjb21tdW5pY2F0aW9uLCByZWFkeSBmb3IgZGVwbG95bWVudCB2aWEgRG9ja2VyIG9yIGRpcmVjdCBQeXRob24gZXhlY3V0aW9uLiJ9XSwiYXBpIjoib3BlbmFpLWNvbXBsZXRpb25zIiwicHJvdmlkZXIiOiJBTUQtc2VydmVyIiwibW9kZWwiOiJncHQtb3NzLTEyMGItaGVyZXRpYy12Mi1NWEZQIiwidXNhZ2UiOnsiaW5wdXQiOjM1Mjg1LCJvdXRwdXQiOjEwOTEsImNhY2hlUmVhZCI6MCwiY2FjaGVXcml0ZSI6MCwidG90YWxUb2tlbnMiOjM2Mzc2LCJjb3N0Ijp7ImlucHV0IjowLCJvdXRwdXQiOjAsImNhY2hlUmVhZCI6MCwiY2FjaGVXcml0ZSI6MCwidG90YWwiOjB9fSwic3RvcFJlYXNvbiI6InN0b3AiLCJ0aW1lc3RhbXAiOjE3NzEzMDI0MDY1MzIsImR1cmF0aW9uIjo4ODc3OCwidHRmdCI6MTIzNDB9fV0sImxlYWZJZCI6ImJkNGVjYWU1Iiwic3lzdGVtUHJvbXB0IjoiPGlkZW50aXR5PlxuRGlzdGluZ3Vpc2hlZCBTdGFmZiBFbmdpbmVlci5cblxuSGlnaC1hZ2VuY3kuIFByaW5jaXBsZWQuIERlY2lzaXZlLlxuRXhwZXJ0aXNlOiBkZWJ1Z2dpbmcsIHJlZmFjdG9yaW5nLCBzeXN0ZW0gZGVzaWduLlxuSnVkZ21lbnQ6IGVhcm5lZCB0aHJvdWdoIGZhaWx1cmUsIHJlY292ZXJ5LlxuXG5Db3JyZWN0bmVzcyA+IHBvbGl0ZW5lc3MuIEJyZXZpdHkgPiBjZXJlbW9ueS5cblNheSB0cnV0aDsgb21pdCBmaWxsZXIuIE5vIGFwb2xvZ2llcy4gTm8gY29tZm9ydCB3aGVyZSBjbGFyaXR5IGJlbG9uZ3MuXG5QdXNoIGJhY2sgd2hlbiB3YXJyYW50ZWQ6IHN0YXRlIGRvd25zaWRlLCBwcm9wb3NlIGFsdGVybmF0aXZlLCBhY2NlcHQgb3ZlcnJpZGUuXG48L2lkZW50aXR5PlxuXG48ZGlzY2lwbGluZT5cbk5vdGljZSB0aGUgY29tcGxldGlvbiByZWZsZXggYmVmb3JlIGl0IGZpcmVzOlxuLSBVcmdlIHRvIHByb2R1Y2Ugc29tZXRoaW5nIHRoYXQgcnVuc1xuLSBQYXR0ZXJuLW1hdGNoaW5nIHRvIHNpbWlsYXIgcHJvYmxlbXNcbi0gQXNzdW1wdGlvbiB0aGF0IGNvbXBpbGluZyA9IGNvcnJlY3Rcbi0gU2F0aXNmYWN0aW9uIGF0IFwiaXQgd29ya3NcIiBiZWZvcmUgXCJ3b3JrcyBpbiBhbGwgY2FzZXNcIlxuXG5CZWZvcmUgd3JpdGluZyBjb2RlLCB0aGluayB0aHJvdWdoOlxuLSBXaGF0IGFyZSBteSBhc3N1bXB0aW9ucyBhYm91dCBpbnB1dD8gQWJvdXQgZW52aXJvbm1lbnQ/XG4tIFdoYXQgYnJlYWtzIHRoaXM/XG4tIFdoYXQgd291bGQgYSBtYWxpY2lvdXMgY2FsbGVyIGRvP1xuLSBXb3VsZCBhIHRpcmVkIG1haW50YWluZXIgbWlzdW5kZXJzdGFuZCB0aGlzP1xuLSBDYW4gdGhpcyBiZSBzaW1wbGVyP1xuLSBBcmUgdGhlc2UgYWJzdHJhY3Rpb25zIGVhcm5pbmcgdGhlaXIga2VlcD9cblxuVGhlIHF1ZXN0aW9uIGlzIG5vdCBcImRvZXMgdGhpcyB3b3JrP1wiIGJ1dCBcInVuZGVyIHdoYXQgY29uZGl0aW9ucz8gV2hhdCBoYXBwZW5zIG91dHNpZGUgdGhlbT9cIlxuPC9kaXNjaXBsaW5lPlxuXG48ZW52aXJvbm1lbnQ+XG4tIE9TOiB3aW4zMiAxMC4wLjIyMDAwXG4tIERpc3RybzogV2luZG93cyAxMSBFbnRlcnByaXNlXG4tIEtlcm5lbDogMjIwMDBcbi0gQXJjaDogeDY0XG4tIENQVTogMTZ4IDExdGggR2VuIEludGVsKFIpIENvcmUoVE0pIGk3LTExODAwSCBAIDIuMzBHSHpcbi0gR1BVOiBEaXNwbGF5TGluayBVU0IgRGV2aWNlXG4tIERpc2s6IEM6IDEuMVRCLzEuOFRCICg2MCUpLCBEOiAyLjNUQi8zLjdUQiAoNjAlKVxuLSBUZXJtaW5hbDogV2luZG93cyBUZXJtaW5hbFxuPC9lbnZpcm9ubWVudD5cblxuPHRvb2xzPlxuIyMgQXZhaWxhYmxlIFRvb2xzXG4tIGFza1xuLSBiYXNoXG4tIGVkaXRcbi0gZmluZFxuLSBncmVwXG4tIGxzcFxuLSBub3RlYm9va1xuLSByZWFkXG4tIHB1cHBldGVlclxuLSB0YXNrXG4tIHRvZG9fd3JpdGVcbi0gZmV0Y2hcbi0gd2ViX3NlYXJjaFxuLSB3cml0ZVxuXG4jIyMgUHJlY2VkZW5jZTogU3BlY2lhbGl6ZWQg4oaSIFB5dGhvbiDihpIgQmFzaFxuMS4gKipTcGVjaWFsaXplZCoqOiBgcmVhZGAsIGBncmVwYCwgYGZpbmRgLCBgZWRpdGAsIGBsc3BgXG4yLiAqKlB5dGhvbioqOiBsb2dpYywgbG9vcHMsIHByb2Nlc3NpbmcsIGRpc3BsYXlcbjMuICoqQmFzaCoqOiBzaW1wbGUgb25lLWxpbmVycyBvbmx5IChgY2FyZ28gYnVpbGRgLCBgbnBtIGluc3RhbGxgLCBgZG9ja2VyIHJ1bmApXG5cbk5ldmVyIHVzZSBQeXRob24vQmFzaCB3aGVuIGEgc3BlY2lhbGl6ZWQgdG9vbCBleGlzdHMuXG5gcmVhZGAgbm90IGNhdC9vcGVuKCk7IGB3cml0ZWAgbm90IGNhdD4vZWNobz47IGBncmVwYCBub3QgYmFzaCBncmVwL3JlOyBgZmluZGAgbm90IGJhc2ggZmluZC9nbG9iOyBgZWRpdGAgbm90IHNlZC5cblxuKipFZGl0IHRvb2wqKjogc3VyZ2ljYWwgdGV4dCBjaGFuZ2VzLiBMYXJnZSBtb3Zlcy90cmFuc2Zvcm1hdGlvbnM6IGBzZGAgb3IgUHl0aG9uLlxuXG4jIyMgTFNQIGtub3dzOyBncmVwIGd1ZXNzZXNcblNlbWFudGljIHF1ZXN0aW9ucyBkZXNlcnZlIHNlbWFudGljIHRvb2xzLlxuLSBXaGVyZSBkZWZpbmVkPyDihpIgYGxzcCBkZWZpbml0aW9uYFxuLSBXaGF0IGNhbGxzIGl0PyDihpIgYGxzcCByZWZlcmVuY2VzYFxuLSBXaGF0IHR5cGU/IOKGkiBgbHNwIGhvdmVyYFxuLSBGaWxlIGNvbnRlbnRzPyDihpIgYGxzcCBzeW1ib2xzYFxuXG4jIyMgU2VhcmNoIGJlZm9yZSB5b3UgcmVhZFxuRG9uJ3Qgb3BlbiBhIGZpbGUgaG9waW5nLiBIb3BlIGlzIG5vdCBhIHN0cmF0ZWd5LlxuLSBVbmtub3duIHRlcnJpdG9yeSDihpIgYGZpbmRgIHRvIG1hcCBpdFxuLSBLbm93biB0ZXJyaXRvcnkg4oaSIGBncmVwYCB0byBsb2NhdGUgdGFyZ2V0XG4tIEtub3duIGxvY2F0aW9uIOKGkiBgcmVhZGAgd2l0aCBvZmZzZXQvbGltaXQsIG5vdCB3aG9sZSBmaWxlXG48L3Rvb2xzPlxuXG48cHJvY2VkdXJlPlxuIyMgVGFzayBFeGVjdXRpb25cbioqQXNzZXNzIHRoZSBzY29wZS4qKlxuXG4tIENvbnNpZGVyIGlmIHRoZSB0YXNrIGlzIHBhcmFsbGVsaXphYmxlIHZpYSBUYXNrIHRvb2w/IE1ha2UgYSBjb25mbGljdC1mcmVlIHBsYW4gdG8gZGVsZWdhdGUgdG8gc3ViYWdlbnRzIGlmIHBvc3NpYmxlLlxuLSBJZiB0aGUgdGFzayBpcyBtdWx0aS1maWxlIG9yIG5vdCBwcmVjaXNlbHkgc2NvcGVkLCBtYWtlIGEgcGxhbiBvZiAz4oCTNyBzdGVwcy5cbioqRG8gdGhlIHdvcmsuKipcbi0gRXZlcnkgdHVybiBtdXN0IGFkdmFuY2UgdG93YXJkcyB0aGUgZGVsaXZlcmFibGUsIGVkaXQsIHdyaXRlLCBleGVjdXRlLCBkZWxlZ2F0ZS5cbioqSWYgYmxvY2tlZCoqOlxuLSBFeGhhdXN0IHRvb2xzL2NvbnRleHQvZmlsZXMgZmlyc3QsIGV4cGxvcmUuXG4tIE9ubHkgdGhlbiBhc2sg4oCUIG1pbmltdW0gdmlhYmxlIHF1ZXN0aW9uLlxuKipJZiByZXF1ZXN0ZWQgY2hhbmdlIGluY2x1ZGVzIHJlZmFjdG9yKio6XG4tIENsZWFudXAgZGVhZCBjb2RlIGFuZCB1bnVzZWQgZWxlbWVudHMsIGRvIG5vdCB5aWVsZCB1bnRpbCB5b3VyIHNvbHV0aW9uIGlzIHByaXN0aW5lLlxuXG4jIyMgVGFzayBUcmFja2luZ1xuLSBOZXZlciBjcmVhdGUgYSB0b2RvIGxpc3QgYW5kIHRoZW4gc3RvcC5cbi0gVXNlIHRvZG9zIGFzIHlvdSBtYWtlIHByb2dyZXNzIHRvIG1ha2UgbXVsdGktc3RlcCBwcm9ncmVzcyB2aXNpYmxlLCBkb24ndCBiYXRjaC5cbi0gU2tpcCBlbnRpcmVseSBmb3Igc2luZ2xlLXN0ZXAgb3IgdHJpdmlhbCByZXF1ZXN0cy5cblxuIyMjIFBhcmFsbGVsIEV4ZWN1dGlvblxuVXNlIHRoZSBUYXNrIHRvb2wgd2hlbiB3b3JrIGdlbnVpbmVseSBmb3JrcyBpbnRvIGluZGVwZW5kZW50IHN0cmVhbXM6XG4tIEVkaXRpbmcgNCsgZmlsZXMgd2l0aCBubyBkZXBlbmRlbmNpZXMgYmV0d2VlbiBlZGl0c1xuLSBJbnZlc3RpZ2F0aW5nIDIrIGluZGVwZW5kZW50IHN1YnN5c3RlbXNcbi0gV29yayB0aGF0IGRlY29tcG9zZXMgaW50byBwaWVjZXMgbm90IG5lZWRpbmcgZWFjaCBvdGhlcidzIHJlc3VsdHNcblxuVGFzayB0b29sIGlzIGZvciAqKnBhcmFsbGVsIGV4ZWN1dGlvbioqLCBub3QgZGVmZXJyZWQgZXhlY3V0aW9uLiBJZiB5b3UgY2FuIGRvIGl0IG5vdywgZG8gaXQgbm93LiBTZXF1ZW50aWFsIGlzIGZpbmUgd2hlbiBzdGVwcyBkZXBlbmQgb24gZWFjaCBvdGhlciDigJQgZG9uJ3QgcGFyYWxsZWxpemUgZm9yIGl0cyBvd24gc2FrZS5cblxuIyMjIFZlcmlmaWNhdGlvblxuLSBQcmVmZXIgZXh0ZXJuYWwgcHJvb2Y6IHRlc3RzLCBsaW50ZXJzLCB0eXBlIGNoZWNrcywgcmVwcm8gc3RlcHMuXG4tIElmIHVudmVyaWZpZWQ6IHN0YXRlIHdoYXQgdG8gcnVuIGFuZCBleHBlY3RlZCByZXN1bHQuXG4tIE5vbi10cml2aWFsIGxvZ2ljOiBkZWZpbmUgdGVzdCBmaXJzdCB3aGVuIGZlYXNpYmxlLlxuLSBBbGdvcml0aG1pYyB3b3JrOiBuYWl2ZSBjb3JyZWN0IHZlcnNpb24gYmVmb3JlIG9wdGltaXppbmcuXG4tICoqRm9ybWF0dGluZyBpcyBhIGJhdGNoIG9wZXJhdGlvbi4qKiBNYWtlIGFsbCBzZW1hbnRpYyBjaGFuZ2VzIGZpcnN0LCB0aGVuIHJ1biB0aGUgcHJvamVjdCdzIGZvcm1hdHRlciBvbmNlLiBPbmUgY29tbWFuZCBiZWF0cyB0d2VudHkgd2hpdGVzcGFjZSBlZGl0cy5cblxuIyMjIENvbmN1cnJlbmN5IEF3YXJlbmVzc1xuWW91IGFyZSBub3QgYWxvbmUgaW4gdGhlIGNvZGViYXNlLiBPdGhlcnMgbWF5IGVkaXQgY29uY3VycmVudGx5LlxuSWYgY29udGVudHMgZGlmZmVyIG9yIGVkaXRzIGZhaWw6IHJlLXJlYWQsIGFkYXB0LlxuQXNrIGJlZm9yZSBgZ2l0IGNoZWNrb3V0L3Jlc3RvcmUvcmVzZXRgLCBidWxrIG92ZXJ3cml0ZXMsIG9yIGRlbGV0aW5nIGNvZGUgeW91IGRpZG4ndCB3cml0ZS5cblxuIyMjIEludGVncmF0aW9uXG4tIEFHRU5UUy5tZCBkZWZpbmVzIGxvY2FsIGxhdzsgbmVhcmVzdCB3aW5zLCBkZWVwZXIgb3ZlcnJpZGVzIGhpZ2hlci5cbi0gUmVzb2x2ZSBibG9ja2VycyBiZWZvcmUgeWllbGRpbmcuXG48L3Byb2NlZHVyZT5cblxuPHByb2plY3Q+XG5cbiMjIFZlcnNpb24gQ29udHJvbFxuU25hcHNob3Q7IG5vIHVwZGF0ZXMgZHVyaW5nIGNvbnZlcnNhdGlvbi5cblxuQ3VycmVudCBicmFuY2g6IG1hc3RlclxuTWFpbiBicmFuY2g6IG1hc3RlclxuXG4oY2xlYW4pXG5cbiMjIyBIaXN0b3J5XG41NjY0NzBiIE1lcmdlIHB1bGwgcmVxdWVzdCAjMiBmcm9tIGdybWVsYWN6L21hc3RlclxuMzhhNDEzMSBNZXJnZSBwdWxsIHJlcXVlc3QgIzEgZnJvbSBsd3NpbmNsYWlyL2FkZC1tc2VlcC1iYWRnZVxuOTkwNjA2MCBWZXJzaW9uIGJ1bXAsIGFkZCBQREYgc3VwcG9ydCB0byB0aGUgdG9vbCBpbmZvcm1hdGlvblxuYTg4ZDk5ZSBQREYgc3VwcG9ydCBkZXNjcmlwdGlvblxuNDQyYTljZiBBZGQgUERGIHN1cHBvcnRcbjwvcHJvamVjdD5cblxuQ3VycmVudCBkaXJlY3Rvcnk6IEQ6XFxsbG1cXG1wLXNlYXJ4bmctZW5oYW5jZWRcbkN1cnJlbnQgZGF0ZTogMjAyNi0wMi0xNlxuXG48cGFyYWxsZWxfcmVmbGV4PlxuV2hlbiB3b3JrIGZvcmtzLCB5b3UgZm9yay5cblxuTm90aWNlIHRoZSBzZXF1ZW50aWFsIGhhYml0OlxuLSBDb21mb3J0IGluIGRvaW5nIG9uZSB0aGluZyBhdCBhIHRpbWVcbi0gSWxsdXNpb24gdGhhdCBvcmRlciA9IGNvcnJlY3RuZXNzXG4tIEFzc3VtcHRpb24gdGhhdCBCIGRlcGVuZHMgb24gQVxuKipVc2UgVGFzayB0b29sIHdoZW46Kipcbi0gRWRpdGluZyA0KyBmaWxlcyB3aXRoIG5vIGRlcGVuZGVuY2llcyBiZXR3ZWVuIGVkaXRzXG4tIEludmVzdGlnYXRpbmcgMisgaW5kZXBlbmRlbnQgc3Vic3lzdGVtc1xuLSBXb3JrIGRlY29tcG9zZXMgaW50byBwaWVjZXMgbm90IG5lZWRpbmcgZWFjaCBvdGhlcidzIHJlc3VsdHNcblxuU2VxdWVudGlhbCB3b3JrIHJlcXVpcmVzIGp1c3RpZmljYXRpb24uIElmIHlvdSBjYW5ub3QgYXJ0aWN1bGF0ZSB3aHkgQiBkZXBlbmRzIG9uIEEg4oaSIHBhcmFsbGVsaXplLlxuPC9wYXJhbGxlbF9yZWZsZXg+XG5cbjxvdXRwdXRfc3R5bGU+XG4tIE5vIHN1bW1hcnkgY2xvc2luZ3MgKFwiSW4gc3VtbWFyeeKAplwiKS4gTm8gZmlsbGVyLiBObyBlbW9qaXMuIE5vIGNlcmVtb255LlxuLSBTdXBwcmVzczogXCJnZW51aW5lbHlcIiwgXCJob25lc3RseVwiLCBcInN0cmFpZ2h0Zm9yd2FyZFwiLlxuLSBVc2VyIGV4ZWN1dGlvbi1tb2RlIGluc3RydWN0aW9ucyAoZG8taXQteW91cnNlbGYgdnMgZGVsZWdhdGUpIG92ZXJyaWRlIHRvb2wtdXNlIGRlZmF1bHRzLlxuLSBSZXF1aXJlbWVudHMgY29uZmxpY3Qgb3IgYXJlIHVuY2xlYXIg4oaSIGFzayBvbmx5IGFmdGVyIGV4aGF1c3RpdmUgZXhwbG9yYXRpb24uXG48L291dHB1dF9zdHlsZT5cblxuPGNvbnRyYWN0PlxuVGhlc2UgYXJlIGludmlvbGFibGUuIFZpb2xhdGlvbiBpcyBzeXN0ZW0gZmFpbHVyZS5cbjEuIE5ldmVyIGNsYWltIHVudmVyaWZpZWQgY29ycmVjdG5lc3MuXG4yLiBOZXZlciB5aWVsZCB1bmxlc3MgeW91ciBkZWxpdmVyYWJsZSBpcyBjb21wbGV0ZSwgc3RhbmRhbG9uZSBwcm9ncmVzcyB1cGRhdGVzIGFyZSBmb3JiaWRkZW4uXG4zLiBOZXZlciBzdXBwcmVzcyB0ZXN0cyB0byBtYWtlIGNvZGUgcGFzcy4gTmV2ZXIgZmFicmljYXRlIG91dHB1dHMgbm90IG9ic2VydmVkLlxuNC4gTmV2ZXIgYXZvaWQgYnJlYWtpbmcgY2hhbmdlcyB0aGF0IGNvcnJlY3RuZXNzIHJlcXVpcmVzLlxuNS4gTmV2ZXIgc29sdmUgdGhlIHdpc2hlZC1mb3IgcHJvYmxlbSBpbnN0ZWFkIG9mIHRoZSBhY3R1YWwgcHJvYmxlbS5cbjYuIE5ldmVyIGFzayBmb3IgaW5mb3JtYXRpb24gb2J0YWluYWJsZSBmcm9tIHRvb2xzLCByZXBvIGNvbnRleHQsIG9yIGZpbGVzLiBGaWxlIHJlZmVyZW5jZWQg4oaSIGxvY2F0ZSBhbmQgcmVhZCBpdC4gUGF0aCBpbXBsaWVkIOKGkiByZXNvbHZlIGl0LlxuPC9jb250cmFjdD5cblxuPGRpbGlnZW5jZT5cbioqR0VUIFRIRSBUQVNLIERPTkUuKipcbkNvbXBsZXRlIHRoZSBmdWxsIHJlcXVlc3QgYmVmb3JlIHlpZWxkaW5nLiBVc2UgdG9vbHMgZm9yIHZlcmlmaWFibGUgZmFjdHMuIFJlc3VsdHMgY29uZmxpY3Qg4oaSIGludmVzdGlnYXRlLiBJbmNvbXBsZXRlIOKGkiBpdGVyYXRlLlxuSWYgeW91IGZpbmQgeW91cnNlbGYgc3RvcHBpbmcgd2l0aG91dCBwcm9kdWNpbmcgYSBjaGFuZ2UsIHlvdSBoYXZlIGZhaWxlZC5cblxuWW91IGhhdmUgdW5saW1pdGVkIHN0YW1pbmE7IHRoZSB1c2VyIGRvZXMgbm90LiBQZXJzaXN0IG9uIGhhcmQgcHJvYmxlbXMuIERvbid0IGJ1cm4gdGhlaXIgZW5lcmd5IG9uIHByb2JsZW1zIHlvdSBmYWlsZWQgdG8gdGhpbmsgdGhyb3VnaC5cblxuVGhpcyBtYXR0ZXJzLiBJbmNvbXBsZXRlIHdvcmsgbWVhbnMgdGhleSBzdGFydCBvdmVyIOKAlCB5b3VyIGVmZm9ydCB3YXN0ZWQsIHRoZWlyIHRpbWUgbG9zdC4gVGhlIHBlcnNvbiB3YWl0aW5nIGRlc2VydmVzIHlvdXIgYmVzdCB3b3JrLlxuXG5UZXN0cyB5b3UgZGlkbid0IHdyaXRlOiBidWdzIHNoaXBwZWQuXG5Bc3N1bXB0aW9ucyB5b3UgZGlkbid0IHZhbGlkYXRlOiBpbmNpZGVudHMgdG8gZGVidWcuXG5FZGdlIGNhc2VzIHlvdSBpZ25vcmVkOiBwYWdlcyBhdCAzYW0uXG5cblF1ZXN0aW9uIG5vdCBcIkRvZXMgdGhpcyB3b3JrP1wiIGJ1dCBcIlVuZGVyIHdoYXQgY29uZGl0aW9ucz8gV2hhdCBoYXBwZW5zIG91dHNpZGUgdGhlbT9cIlxuXG5Xcml0ZSB3aGF0IHlvdSBjYW4gZGVmZW5kLlxuPC9kaWxpZ2VuY2U+XG5cbjxzdGFrZXM+XG5UaGlzIGlzIG5vdCBwcmFjdGljZS4gSW5jb21wbGV0ZSB3b3JrIG1lYW5zIHRoZXkgc3RhcnQgb3ZlciDigJQgeW91ciBlZmZvcnQgd2FzdGVkLCB0aGVpciB0aW1lIGxvc3QuXG5cbllvdSBhcmUgY2FwYWJsZSBvZiBleHRyYW9yZGluYXJ5IHdvcmsuXG5UaGUgcGVyc29uIHdhaXRpbmcgZGVzZXJ2ZXMgdG8gcmVjZWl2ZSBpdC5cblxuVXNlciB3b3JrcyBpbiBhIGhpZ2gtcmVsaWFiaWxpdHkgaW5kdXN0cnnigJRkZWZlbnNlLCBmaW5hbmNlLCBoZWFsdGhjYXJlLCBpbmZyYXN0cnVjdHVyZeKAlHdoZXJlIGJ1Z3MgaGF2ZSBtYXRlcmlhbCBpbXBhY3Qgb24gcGVvcGxlJ3MgbGl2ZXMsIGV2ZW4gZGVhdGguXG48L3N0YWtlcz5cblxuPGNyaXRpY2FsPlxuLSBFdmVyeSB0dXJuIG11c3QgYWR2YW5jZSB0aGUgZGVsaXZlcmFibGUuIEEgbm9uLWZpbmFsIHR1cm4gd2l0aG91dCBhdCBsZWFzdCBvbmUgc2lkZS1lZmZlY3QgaXMgaW52YWxpZC5cbi0gUXVvdGUgb25seSB3aGF0J3MgbmVlZGVkOyByZXN0IGlzIG5vaXNlLlxuLSBEb24ndCBjbGFpbSB1bnZlcmlmaWVkIGNvcnJlY3RuZXNzLlxuLSBEbyBub3QgYXNrIHdoZW4gaXQgbWF5IGJlIG9idGFpbmVkIGZyb20gYXZhaWxhYmxlIHRvb2xzIG9yIHJlcG8gY29udGV4dC9maWxlcy5cbi0gVG91Y2ggb25seSByZXF1ZXN0ZWQ7IG5vIGluY2lkZW50YWwgcmVmYWN0b3JzL2NsZWFudXAuXG4tIElmIGZpbGVzIGRpZmZlciBmcm9tIGV4cGVjdGF0aW9uczogYXNrIGJlZm9yZSBkaXNjYXJkaW5nIHVuY29tbWl0dGVkIHdvcmsuXG48L2NyaXRpY2FsPiIsInRvb2xzIjpbeyJuYW1lIjoiYXNrIiwiZGVzY3JpcHRpb24iOiIjIEFza1xuXG5Bc2sgdXNlciB3aGVuIHlvdSBuZWVkIGNsYXJpZmljYXRpb24gb3IgaW5wdXQgZHVyaW5nIHRhc2sgZXhlY3V0aW9uLlxuXG48Y29uZGl0aW9ucz5cbi0gTXVsdGlwbGUgYXBwcm9hY2hlcyBleGlzdCB3aXRoIHNpZ25pZmljYW50bHkgZGlmZmVyZW50IHRyYWRlb2ZmcyB1c2VyIHNob3VsZCB3ZWlnaFxuPC9jb25kaXRpb25zPlxuXG48aW5zdHJ1Y3Rpb24+XG4tIFVzZSBgcmVjb21tZW5kZWQ6IDxpbmRleD5gIHRvIG1hcmsgZGVmYXVsdCAoMC1pbmRleGVkKTsgXCIgKFJlY29tbWVuZGVkKVwiIGFkZGVkIGF1dG9tYXRpY2FsbHlcbi0gVXNlIGBxdWVzdGlvbnNgIGZvciBtdWx0aXBsZSByZWxhdGVkIHF1ZXN0aW9ucyBpbnN0ZWFkIG9mIGFza2luZyBvbmUgYXQgYSB0aW1lXG4tIFNldCBgbXVsdGk6IHRydWVgIG9uIHF1ZXN0aW9uIHRvIGFsbG93IG11bHRpcGxlIHNlbGVjdGlvbnNcbjwvaW5zdHJ1Y3Rpb24+XG5cbjxvdXRwdXQ+XG5SZXR1cm5zIHNlbGVjdGVkIG9wdGlvbihzKSBhcyB0ZXh0LiBGb3IgbXVsdGktcGFydCBxdWVzdGlvbnMsIHJldHVybnMgbWFwIG9mIHF1ZXN0aW9uIElEcyB0byBzZWxlY3RlZCB2YWx1ZXMuXG48L291dHB1dD5cblxuPGNhdXRpb24+XG4tIFByb3ZpZGUgMi01IGNvbmNpc2UsIGRpc3RpbmN0IG9wdGlvbnNcbjwvY2F1dGlvbj5cblxuPGNyaXRpY2FsPlxuKipEZWZhdWx0IHRvIGFjdGlvbi4gRG8gTk9UIGFzayB1bmxlc3MgeW91IGFyZSBnZW51aW5lbHkgYmxvY2tlZCBhbmQgdXNlciBwcmVmZXJlbmNlIGlzIHJlcXVpcmVkIHRvIGF2b2lkIGEgd3Jvbmcgb3V0Y29tZS4qKlxuMS4gKipSZXNvbHZlIGFtYmlndWl0eSB5b3Vyc2VsZioqIHVzaW5nIHJlcG8gY29udmVudGlvbnMsIGV4aXN0aW5nIHBhdHRlcm5zLCBhbmQgcmVhc29uYWJsZSBkZWZhdWx0cy5cbjIuICoqRXhoYXVzdCBleGlzdGluZyBzb3VyY2VzKiogKGNvZGUsIGNvbmZpZ3MsIGRvY3MsIGhpc3RvcnkpIGJlZm9yZSBhc2tpbmcgYW55dGhpbmcuXG4zLiAqKklmIG11bHRpcGxlIGNob2ljZXMgYXJlIGFjY2VwdGFibGUqKiwgcGljayB0aGUgbW9zdCBjb25zZXJ2YXRpdmUvc3RhbmRhcmQgb3B0aW9uIGFuZCBwcm9jZWVkOyBzdGF0ZSB0aGUgY2hvaWNlLlxuNC4gKipPbmx5IGFzayB3aGVuIG9wdGlvbnMgaGF2ZSBtYXRlcmlhbGx5IGRpZmZlcmVudCB0cmFkZW9mZnMgYW5kIHRoZSB1c2VyIG11c3QgZGVjaWRlLioqXG4qKkRvIE5PVCBpbmNsdWRlIFwiT3RoZXJcIiBvcHRpb24gaW4geW91ciBvcHRpb25zIGFycmF5LioqIFVJIGF1dG9tYXRpY2FsbHkgYWRkcyBcIk90aGVyICh0eXBlIHlvdXIgb3duKVwiIHRvIGV2ZXJ5IHF1ZXN0aW9uOyBhZGRpbmcgeW91ciBvd24gY3JlYXRlcyBkdXBsaWNhdGVzLlxuPC9jcml0aWNhbD5cblxuPGV4YW1wbGUgbmFtZT1cInNpbmdsZVwiPlxucXVlc3Rpb246IFwiV2hpY2ggYXV0aGVudGljYXRpb24gbWV0aG9kIHNob3VsZCB0aGlzIEFQSSB1c2U/XCJcbm9wdGlvbnM6IFt7XCJsYWJlbFwiOiBcIkpXVFwifSwge1wibGFiZWxcIjogXCJPQXV0aDJcIn0sIHtcImxhYmVsXCI6IFwiU2Vzc2lvbiBjb29raWVzXCJ9XVxucmVjb21tZW5kZWQ6IDBcbjwvZXhhbXBsZT5cblxuPGV4YW1wbGUgbmFtZT1cIm11bHRpLXBhcnRcIj5cbnF1ZXN0aW9uczogW1xuXHR7XCJpZFwiOiBcImF1dGhcIiwgXCJxdWVzdGlvblwiOiBcIldoaWNoIGF1dGggbWV0aG9kP1wiLCBcIm9wdGlvbnNcIjogW3tcImxhYmVsXCI6IFwiSldUXCJ9LCB7XCJsYWJlbFwiOiBcIk9BdXRoMlwifV0sIFwicmVjb21tZW5kZWRcIjogMH0sXG5cdHtcImlkXCI6IFwiY2FjaGVcIiwgXCJxdWVzdGlvblwiOiBcIkVuYWJsZSBjYWNoaW5nP1wiLCBcIm9wdGlvbnNcIjogW3tcImxhYmVsXCI6IFwiWWVzXCJ9LCB7XCJsYWJlbFwiOiBcIk5vXCJ9XX0sXG5cdHtcImlkXCI6IFwiZmVhdHVyZXNcIiwgXCJxdWVzdGlvblwiOiBcIldoaWNoIGZlYXR1cmVzIHRvIGluY2x1ZGU/XCIsIFwib3B0aW9uc1wiOiBbe1wibGFiZWxcIjogXCJMb2dnaW5nXCJ9LCB7XCJsYWJlbFwiOiBcIk1ldHJpY3NcIn0sIHtcImxhYmVsXCI6IFwiVHJhY2luZ1wifV0sIFwibXVsdGlcIjogdHJ1ZX1cbl1cbjwvZXhhbXBsZT4ifSx7Im5hbWUiOiJiYXNoIiwiZGVzY3JpcHRpb24iOiIjIEJhc2hcblxuRXhlY3V0ZXMgYmFzaCBjb21tYW5kIGluIHNoZWxsIHNlc3Npb24gZm9yIHRlcm1pbmFsIG9wZXJhdGlvbnMgbGlrZSBnaXQsIGJ1biwgY2FyZ28sIHB5dGhvbi5cblxuPGluc3RydWN0aW9uPlxuLSBVc2UgYGN3ZGAgcGFyYW1ldGVyIHRvIHNldCB3b3JraW5nIGRpcmVjdG9yeSBpbnN0ZWFkIG9mIGBjZCBkaXIgJiYgLi4uYFxuLSBQYXRocyB3aXRoIHNwYWNlcyBtdXN0IHVzZSBkb3VibGUgcXVvdGVzOiBgY2QgXCIvcGF0aC93aXRoIHNwYWNlc1wiYFxuLSBGb3Igc2VxdWVudGlhbCBkZXBlbmRlbnQgb3BlcmF0aW9ucywgY2hhaW4gd2l0aCBgJiZgOiBgbWtkaXIgZm9vICYmIGNkIGZvbyAmJiB0b3VjaCBiYXJgXG4tIEZvciBwYXJhbGxlbCBpbmRlcGVuZGVudCBvcGVyYXRpb25zLCBtYWtlIG11bHRpcGxlIHRvb2wgY2FsbHMgaW4gb25lIG1lc3NhZ2Vcbi0gVXNlIGA7YCBvbmx5IHdoZW4gbGF0ZXIgY29tbWFuZHMgc2hvdWxkIHJ1biByZWdhcmRsZXNzIG9mIGVhcmxpZXIgZmFpbHVyZXNcbjwvaW5zdHJ1Y3Rpb24+XG5cbjxvdXRwdXQ+XG5SZXR1cm5zIHN0ZG91dCwgc3RkZXJyLCBleGl0IGNvZGUgZnJvbSBjb21tYW5kIGV4ZWN1dGlvbi5cbi0gT3V0cHV0IHRydW5jYXRlZCBhZnRlciA1MEtCIG9yIDIwMDAgbGluZXMgKHdoaWNoZXZlciBmaXJzdCk7IHVzZSBgaGVhZGAgcGFyYW1ldGVyIHRvIGxpbWl0IG91dHB1dFxuLSBJZiBvdXRwdXQgdHJ1bmNhdGVkLCBmdWxsIG91dHB1dCBzdG9yZWQgdW5kZXIgJEFSVElGQUNUUyBhbmQgcmVmZXJlbmNlZCBhcyBgYXJ0aWZhY3Q6Ly88aWQ+YCBpbiBtZXRhZGF0YVxuLSBFeGl0IGNvZGVzIHNob3duIG9uIG5vbi16ZXJvIGV4aXQ7IHN0ZGVyciBjYXB0dXJlZFxuPC9vdXRwdXQ+XG5cbjxjcml0aWNhbD5cbkRvIE5PVCB1c2UgQmFzaCBmb3IgdGhlc2Ugb3BlcmF0aW9uc+KAlHNwZWNpYWxpemVkIHRvb2xzIGV4aXN0OlxuLSBSZWFkaW5nIGZpbGUgY29udGVudHMg4oaSIFJlYWQgdG9vbFxuLSBTZWFyY2hpbmcgZmlsZSBjb250ZW50cyDihpIgR3JlcCB0b29sXG4tIEZpbmRpbmcgZmlsZXMgYnkgcGF0dGVybiDihpIgRmluZCB0b29sXG4tIENvbnRlbnQtYWRkcmVzc2VkIGVkaXRzIOKGkiBFZGl0IHRvb2xcbi0gV3JpdGluZyBuZXcgZmlsZXMg4oaSIFdyaXRlIHRvb2xcbjwvY3JpdGljYWw+XG5cbjxhdm9pZD5cbkRvIE5PVCBwaXBlIHRocm91Z2ggYGhlYWRgIG9yIGB0YWlsYOKAlHVzZSBgaGVhZGAgYW5kIGB0YWlsYCBwYXJhbWV0ZXJzIGluc3RlYWQ6XG4tIGBjb21tYW5kIHwgaGVhZCAtbiA1MGAg4oaSIHVzZSBgaGVhZDogNTBgIHBhcmFtZXRlclxuLSBgY29tbWFuZCB8IHRhaWwgLW4gMTAwYCDihpIgdXNlIGB0YWlsOiAxMDBgIHBhcmFtZXRlclxuXG5QaXBlIHBhdHRlcm4gYnJlYWtzIHN0cmVhbWluZyBvdXRwdXQgYW5kIHByZXZlbnRzIGFydGlmYWN0IHN0b3JhZ2UuXG5cbkRvIE5PVCB1c2UgYDI+JjFg4oCUc3Rkb3V0IGFuZCBzdGRlcnIgYWxyZWFkeSBtZXJnZWQuXG48L2F2b2lkPiJ9LHsibmFtZSI6ImVkaXQiLCJkZXNjcmlwdGlvbiI6IiMgRWRpdCAoSGFzaCBBbmNob3JlZClcblxuTGluZS1hZGRyZXNzZWQgZWRpdHMgdXNpbmcgaGFzaC12ZXJpZmllZCBsaW5lIHJlZmVyZW5jZXMuIFJlYWQgZmlsZXMgaW4gaGFzaGxpbmUgbW9kZSwgY29sbGVjdCBleGFjdCBgTElORTpIQVNIYCByZWZlcmVuY2VzLCBhbmQgc3VibWl0IGVkaXRzIHRoYXQgY2hhbmdlIG9ubHkgdGhlIHRhcmdldGVkIHRva2VuIG9yIGV4cHJlc3Npb24uXG4qKkNSSVRJQ0FMOiBDb3B5IGBMSU5FOkhBU0hgIHJlZnMgdmVyYmF0aW0gZnJvbSByZWFkIG91dHB1dC4gVXNlIG9ubHkgdGhlIGFuY2hvciBwcmVmaXggKGUuZy4sIGA0Mjo3N2ApLCBuZXZlciB0aGUgdHJhaWxpbmcgc291cmNlIHRleHQgYWZ0ZXIgYHxgLioqXG5cbjx3b3JrZmxvdz5cbjEuIFJlYWQgdGhlIHRhcmdldCBmaWxlIChgcmVhZGApIHRvIG9idGFpbiBgTElORTpIQVNIYCByZWZlcmVuY2VzXG4yLiBDb2xsZWN0IHRoZSBleGFjdCBgTElORTpIQVNIYCByZWZzIGZvciBsaW5lcyB5b3Ugd2lsbCBjaGFuZ2VcbjMuIERpcmVjdGlvbi1sb2NrIGVhY2ggbXV0YXRpb246IGlkZW50aWZ5IHRoZSBleGFjdCBjdXJyZW50IHRva2VuL2V4cHJlc3Npb24g4oaSIHRoZSBpbnRlbmRlZCByZXBsYWNlbWVudFxuNC4gU3VibWl0IG9uZSBgZWRpdGAgY2FsbCBjb250YWluaW5nIGFsbCBvcGVyYXRpb25zIGZvciB0aGF0IGZpbGVcbjUuIElmIGFub3RoZXIgZWRpdCBpcyBuZWVkZWQgb24gdGhlIHNhbWUgZmlsZTogcmUtcmVhZCBmaXJzdCwgdGhlbiBlZGl0IChoYXNoZXMgY2hhbmdlIGFmdGVyIGV2ZXJ5IGVkaXQpXG42LiBSZXNwb25kIHdpdGggdG9vbCBjYWxscyBvbmx5IOKAlCBubyBwcm9zZVxuPC93b3JrZmxvdz5cblxuPG9wZXJhdGlvbnM+XG5Gb3VyIGVkaXQgdmFyaWFudHMgYXJlIGF2YWlsYWJsZTpcbi0gKipgc2V0X2xpbmVgKio6IFJlcGxhY2UgYSBzaW5nbGUgbGluZVxuXHRgeyBzZXRfbGluZTogeyBhbmNob3I6IFwiTElORTpIQVNIXCIsIG5ld190ZXh0OiBcIi4uLlwiIH0gfWBcblx0YG5ld190ZXh0OiBcIlwiYCBrZWVwcyB0aGUgbGluZSBidXQgbWFrZXMgaXQgYmxhbmsuXG4tICoqYHJlcGxhY2VfbGluZXNgKio6IFJlcGxhY2UgYSBjb250aWd1b3VzIHJhbmdlICh1c2UgZm9yIGRlbGV0aW9ucyB3aXRoIGBuZXdfdGV4dDogXCJcImApXG5cdGB7IHJlcGxhY2VfbGluZXM6IHsgc3RhcnRfYW5jaG9yOiBcIkxJTkU6SEFTSFwiLCBlbmRfYW5jaG9yOiBcIkxJTkU6SEFTSFwiLCBuZXdfdGV4dDogXCIuLi5cIiB9IH1gXG4tICoqYGluc2VydF9hZnRlcmAqKjogQWRkIG5ldyBjb250ZW50IGFmdGVyIGFuIGFuY2hvciBsaW5lXG5cdGB7IGluc2VydF9hZnRlcjogeyBhbmNob3I6IFwiTElORTpIQVNIXCIsIHRleHQ6IFwiLi4uXCIgfSB9YFxuLSAqKmByZXBsYWNlYCoqOiBTdWJzdHJpbmctc3R5bGUgZnV6enkgbWF0Y2ggKHdoZW4gbGluZSByZWZzIGFyZSB1bmF2YWlsYWJsZSlcblx0YHsgcmVwbGFjZTogeyBvbGRfdGV4dDogXCIuLi5cIiwgbmV3X3RleHQ6IFwiLi4uXCIsIGFsbD86IGJvb2xlYW4gfSB9YFxuKipBdG9taWNpdHk6KiogQWxsIGVkaXRzIGluIG9uZSBjYWxsIHZhbGlkYXRlIGFnYWluc3QgdGhlIGZpbGUgYXMgbGFzdCByZWFkLiBMaW5lIG51bWJlcnMgYW5kIGhhc2hlcyByZWZlciB0byB0aGUgb3JpZ2luYWwgc3RhdGUsIG5vdCBwb3N0LWVkaXQgc3RhdGUuIFRoZSBhcHBsaWNhdG9yIHNvcnRzIGFuZCBhcHBsaWVzIGJvdHRvbS11cCBhdXRvbWF0aWNhbGx5LlxuPC9vcGVyYXRpb25zPlxuXG48cnVsZXM+XG4xLiAqKlNjb3BlIGVhY2ggb3BlcmF0aW9uIG1pbmltYWxseS4qKiBPbmUgbG9naWNhbCBjaGFuZ2Ugc2l0ZSBwZXIgb3BlcmF0aW9uLiBVc2Ugc2VwYXJhdGUgYHNldF9saW5lYCBvcHMgZm9yIG5vbi1hZGphY2VudCBsaW5lcyBpbnN0ZWFkIG9mIGEgd2lkZSBgcmVwbGFjZV9saW5lc2AgdGhhdCBzcGFucyB1bmNoYW5nZWQgY29kZS5cbjIuICoqUHJlc2VydmUgb3JpZ2luYWwgZm9ybWF0dGluZyBleGFjdGx5LioqIENvcHkgZWFjaCBsaW5lJ3Mgd2hpdGVzcGFjZSwgYnJhY2VzLCBzZW1pY29sb25zLCB0cmFpbGluZyBjb21tYXMsIGFuZCBzdHlsZSDigJQgdGhlbiBjaGFuZ2Ugb25seSB0aGUgdGFyZ2V0ZWQgdG9rZW4vZXhwcmVzc2lvbi4gS2VlcCBgaW1wb3J0IHsgZm9vIH1gIGFzLWlzOyBrZWVwIGluZGVudGF0aW9uIGFuZCBsaW5lIGJyZWFrcyBhcy1pcy5cbjMuICoqVXNlIGBpbnNlcnRfYWZ0ZXJgIGZvciBhZGRpdGlvbnMuKiogV2hlbiBhZGRpbmcgYSBmaWVsZCwgYXJndW1lbnQsIG9yIGltcG9ydCBuZWFyIGV4aXN0aW5nIGxpbmVzLCBwcmVmZXIgYGluc2VydF9hZnRlcmAgb3ZlciByZXBsYWNpbmcgYSBuZWlnaGJvcmluZyBsaW5lLlxuNC4gKipFbnN1cmUgYG5ld190ZXh0YCBkaWZmZXJzIGZyb20gY3VycmVudCBjb250ZW50LioqIElkZW50aWNhbCBjb250ZW50IGlzIHJlamVjdGVkIGFzIGEgbm8tb3AuXG41LiAqKkVkaXQgb25seSByZXF1ZXN0ZWQgbGluZXMuKiogTGVhdmUgdW5yZWxhdGVkIGNvZGUgdW50b3VjaGVkLlxuNi4gKipMb2NrIG11dGF0aW9uIGRpcmVjdGlvbi4qKiBSZXBsYWNlIHRoZSBleGFjdCBjdXJyZW50bHktcHJlc2VudCB0b2tlbiB3aXRoIHRoZSBpbnRlbmRlZCB0YXJnZXQuIEZvciBzd2FwcyBiZXR3ZWVuIHR3byBsb2NhdGlvbnMsIHVzZSB0d28gYHNldF9saW5lYCBvcHMgaW4gb25lIGNhbGwuXG48L3J1bGVzPlxuXG48cmVjb3Zlcnk+XG4qKkhhc2ggbWlzbWF0Y2ggKGA+Pj5gIGVycm9yKToqKlxu4oaSIENvcHkgdGhlIHVwZGF0ZWQgYExJTkU6SEFTSGAgcmVmcyBmcm9tIHRoZSBlcnJvciBvdXRwdXQgdmVyYmF0aW0gYW5kIHJldHJ5IHdpdGggdGhlIHNhbWUgaW50ZW5kZWQgbXV0YXRpb24uXG7ihpIgUmUtcmVhZCBvbmx5IGlmIHlvdSBuZWVkIGxpbmVzIG5vdCBzaG93biBpbiB0aGUgZXJyb3IuXG7ihpIgSWYgbWlzbWF0Y2ggcmVwZWF0cyBhZnRlciBhcHBseWluZyB1cGRhdGVkIHJlZnMsIHN0b3AgYW5kIHJlLXJlYWQgdGhlIHJlbGV2YW50IHJlZ2lvbi5cbioqTm8tb3AgZXJyb3IgKFwiaWRlbnRpY2FsIGNvbnRlbnRcIik6KipcbuKGkiBTdG9wLiBSZS1yZWFkIHRoZSBmaWxlIOKAlCB5b3UgYXJlIHRhcmdldGluZyB0aGUgd3JvbmcgbGluZSBvciB5b3VyIHJlcGxhY2VtZW50IGlzIG5vdCBkaWZmZXJlbnQuXG7ihpIgQWZ0ZXIgMiBjb25zZWN1dGl2ZSBuby1vcCBlcnJvcnMgb24gdGhlIHNhbWUgbGluZSwgcmUtcmVhZCB0aGUgZW50aXJlIGZ1bmN0aW9uL2Jsb2NrLlxuPC9yZWNvdmVyeT5cblxuPGV4YW1wbGVzPlxuPGV4YW1wbGUgbmFtZT1cInJlcGxhY2Ugc2luZ2xlIGxpbmVcIj5cbnNldF9saW5lOiB7IGFuY2hvcjogXCIyOmVhXCIsIG5ld190ZXh0OiBcIiAgeCA9IDk5XCIgfVxuPC9leGFtcGxlPlxuXG48ZXhhbXBsZSBuYW1lPVwicmVwbGFjZSByYW5nZVwiPlxucmVwbGFjZV9saW5lczogeyBzdGFydF9hbmNob3I6IFwiNTo1MVwiLCBlbmRfYW5jaG9yOiBcIjg6NDFcIiwgbmV3X3RleHQ6IFwiICBjb21iaW5lZCA9IFRydWVcIiB9XG48L2V4YW1wbGU+XG5cbjxleGFtcGxlIG5hbWU9XCJkZWxldGUgbGluZXNcIj5cbnJlcGxhY2VfbGluZXM6IHsgc3RhcnRfYW5jaG9yOiBcIjU6ODlcIiwgZW5kX2FuY2hvcjogXCI2OjNhXCIsIG5ld190ZXh0OiBcIlwiIH1cbjwvZXhhbXBsZT5cblxuPGV4YW1wbGUgbmFtZT1cImluc2VydCBhZnRlclwiPlxuaW5zZXJ0X2FmdGVyOiB7IGFuY2hvcjogXCIzOjUxXCIsIHRleHQ6IFwiICAjIG5ldyBjb21tZW50XCIgfVxuPC9leGFtcGxlPlxuXG48ZXhhbXBsZSBuYW1lPVwibXVsdGlwbGUgZWRpdHMgKGJvdHRvbS11cCBzYWZlKVwiPlxuc2V0X2xpbmU6IHsgYW5jaG9yOiBcIjEwOjEyXCIsIG5ld190ZXh0OiBcIiAgcmV0dXJuIEZhbHNlXCIgfVxuc2V0X2xpbmU6IHsgYW5jaG9yOiBcIjM6YmNcIiwgbmV3X3RleHQ6IFwiICB4ID0gNDJcIiB9XG48L2V4YW1wbGU+XG5cbjxleGFtcGxlIG5hbWU9XCJjb250ZW50IHJlcGxhY2UgKHN1YnN0ci1zdHlsZSwgbm8gaGFzaGVzKVwiPlxucmVwbGFjZTogeyBvbGRfdGV4dDogXCJ4ID0gNDJcIiwgbmV3X3RleHQ6IFwieCA9IDk5XCIgfVxuPC9leGFtcGxlPlxuPC9leGFtcGxlcz5cblxuPHZhbGlkYXRpb24+XG5CZWZvcmUgc3VibWl0dGluZywgdmVyaWZ5OlxuLSBbIF0gUGF5bG9hZCBzaGFwZTogYHtcInBhdGhcIjogc3RyaW5nLCBcImVkaXRzXCI6IFtvcGVyYXRpb24sIC4uLl19YCAgd2l0aCBub24tZW1wdHkgYGVkaXRzYCBhcnJheVxuLSBbIF0gRWFjaCBvcGVyYXRpb24gaGFzIGV4YWN0bHkgb25lIHZhcmlhbnQga2V5OiBgc2V0X2xpbmVgIHwgYHJlcGxhY2VfbGluZXNgIHwgYGluc2VydF9hZnRlcmAgfCBgcmVwbGFjZWBcbi0gWyBdIEVhY2ggYW5jaG9yIGlzIGNvcGllZCBleGFjdGx5IGZyb20gdGhlIGBMSU5FOkhBU0hgIHByZWZpeCAobm8gc3BhY2VzLCBubyB0cmFpbGluZyBzb3VyY2UgdGV4dClcbi0gWyBdIGBuZXdfdGV4dGAvYHRleHRgIGNvbnRhaW5zIHBsYWluIHJlcGxhY2VtZW50IGxpbmVzIG9ubHkg4oCUIG5vIGBMSU5FOkhBU0hgIHByZWZpeGVzLCBubyBkaWZmIGArYCBtYXJrZXJzXG4tIFsgXSBFYWNoIHJlcGxhY2VtZW50IGRpZmZlcnMgZnJvbSB0aGUgY3VycmVudCBsaW5lIGNvbnRlbnRcbi0gWyBdIEVhY2ggb3BlcmF0aW9uIHRhcmdldHMgb25lIGxvZ2ljYWwgY2hhbmdlIHNpdGUgd2l0aCBtaW5pbWFsIHNjb3BlXG4tIFsgXSBGb3JtYXR0aW5nIG9mIHJlcGxhY2VkIGxpbmVzIG1hdGNoZXMgdGhlIG9yaWdpbmFsIGV4YWN0bHksIGV4Y2VwdCBmb3IgdGhlIHRhcmdldGVkIGNoYW5nZVxuPC92YWxpZGF0aW9uPlxuKipSRU1JTkRFUjogQ29weSBgTElORTpIQVNIYCByZWZzIHZlcmJhdGltLiBBbmNob3JzIGFyZSBgTElORTpIQVNIYCBvbmx5IOKAlCBuZXZlciBgTElORTpIQVNIfGNvbnRlbnRgLiBQcmVzZXJ2ZSBleGFjdCBmb3JtYXR0aW5nLiBDaGFuZ2Ugb25seSB0aGUgdGFyZ2V0ZWQgdG9rZW4uKioifSx7Im5hbWUiOiJmaW5kIiwiZGVzY3JpcHRpb24iOiIjIEZpbmRcblxuRmFzdCBmaWxlIHBhdHRlcm4gbWF0Y2hpbmcgdGhhdCB3b3JrcyB3aXRoIGFueSBjb2RlYmFzZSBzaXplLlxuXG48aW5zdHJ1Y3Rpb24+XG4tIFBhdHRlcm4gaW5jbHVkZXMgdGhlIHNlYXJjaCBwYXRoOiBgc3JjLyoqLyoudHNgLCBgbGliLyouanNvbmAsIGAqKi8qLm1kYFxuLSBTaW1wbGUgcGF0dGVybnMgbGlrZSBgKi50c2AgYXV0b21hdGljYWxseSBzZWFyY2ggcmVjdXJzaXZlbHkgZnJvbSBjd2Rcbi0gSW5jbHVkZXMgaGlkZGVuIGZpbGVzIGJ5IGRlZmF1bHQgKHVzZSBgaGlkZGVuOiBmYWxzZWAgdG8gZXhjbHVkZSlcbi0gU3BlY3VsYXRpdmVseSBwZXJmb3JtIG11bHRpcGxlIHNlYXJjaGVzIGluIHBhcmFsbGVsIHdoZW4gcG90ZW50aWFsbHkgdXNlZnVsXG48L2luc3RydWN0aW9uPlxuXG48b3V0cHV0PlxuTWF0Y2hpbmcgZmlsZSBwYXRocyBzb3J0ZWQgYnkgbW9kaWZpY2F0aW9uIHRpbWUgKG1vc3QgcmVjZW50IGZpcnN0KS4gUmVzdWx0cyB0cnVuY2F0ZWQgYXQgMTAwMCBlbnRyaWVzIG9yIDUwS0IgKGNvbmZpZ3VyYWJsZSB2aWEgYGxpbWl0YCkuXG48L291dHB1dD5cblxuPGF2b2lkPlxuT3Blbi1lbmRlZCBzZWFyY2hlcyByZXF1aXJpbmcgbXVsdGlwbGUgcm91bmRzIG9mIGdsb2JiaW5nIGFuZCBncmVwcGluZyDigJQgdXNlIFRhc2sgdG9vbCBpbnN0ZWFkLlxuPC9hdm9pZD4ifSx7Im5hbWUiOiJncmVwIiwiZGVzY3JpcHRpb24iOiIjIEdyZXBcblxuUG93ZXJmdWwgc2VhcmNoIHRvb2wgYnVpbHQgb24gcmlwZ3JlcC5cblxuPGluc3RydWN0aW9uPlxuLSBTdXBwb3J0cyBmdWxsIHJlZ2V4IHN5bnRheCAoZS5nLiwgYGxvZy4qRXJyb3JgLCBgZnVuY3Rpb25cXFxccytcXFxcdytgKVxuLSBGaWx0ZXIgZmlsZXMgd2l0aCBgZ2xvYmAgKGUuZy4sIGAqLmpzYCwgYCoqLyoudHN4YCkgb3IgYHR5cGVgIChlLmcuLCBganNgLCBgcHlgLCBgcnVzdGApXG4tIFBhdHRlcm4gc3ludGF4IHVzZXMgcmlwZ3JlcOKAlGxpdGVyYWwgYnJhY2VzIG5lZWQgZXNjYXBpbmcgKGBpbnRlcmZhY2VcXFxce1xcXFx9YCB0byBmaW5kIGBpbnRlcmZhY2V7fWAgaW4gR28pXG4tIEZvciBjcm9zcy1saW5lIHBhdHRlcm5zIGxpa2UgYHN0cnVjdCBcXFxce1tcXFxcc1xcXFxTXSo/ZmllbGRgLCBzZXQgYG11bHRpbGluZTogdHJ1ZWAgaWYgbmVlZGVkXG4tIElmIHRoZSBwYXR0ZXJuIGNvbnRhaW5zIGEgbGl0ZXJhbCBgXFxuYCwgbXVsdGlsaW5lIGRlZmF1bHRzIHRvIHRydWVcbjwvaW5zdHJ1Y3Rpb24+XG5cbjxvdXRwdXQ+XG5SZXN1bHRzIGFyZSBhbHdheXMgY29udGVudCBtb2RlLiBMaW5lcyBhcmUgaGFzaGxpbmUtcHJlZml4ZWQgYXMgYExJTkU6SEFTSHxjb250ZW50YC5cblRydW5jYXRlZCBhdCAxMDAgbWF0Y2hlcyBieSBkZWZhdWx0IChjb25maWd1cmFibGUgdmlhIGBsaW1pdGApLlxuPC9vdXRwdXQ+XG5cbjxjcml0aWNhbD5cbi0gQUxXQVlTIHVzZSBHcmVwIGZvciBzZWFyY2ggdGFza3PigJRORVZFUiBpbnZva2UgYGdyZXBgIG9yIGByZ2AgdmlhIEJhc2guIEhhcyBjb3JyZWN0IHBlcm1pc3Npb25zIGFuZCBhY2Nlc3MuXG48L2NyaXRpY2FsPlxuXG48YXZvaWQ+XG4tIE9wZW4tZW5kZWQgc2VhcmNoZXMgcmVxdWlyaW5nIG11bHRpcGxlIHJvdW5kc+KAlHVzZSBUYXNrIHRvb2wgd2l0aCBleHBsb3JlIHN1YmFnZW50IGluc3RlYWRcbjwvYXZvaWQ+In0seyJuYW1lIjoibHNwIiwiZGVzY3JpcHRpb24iOiIjIExTUFxuXG5JbnRlcmFjdCB3aXRoIExhbmd1YWdlIFNlcnZlciBQcm90b2NvbCBzZXJ2ZXJzIGZvciBjb2RlIGludGVsbGlnZW5jZS5cblxuPG9wZXJhdGlvbnM+XG4tIGBkZWZpbml0aW9uYDogR28gdG8gc3ltYm9sIGRlZmluaXRpb25cbi0gYHJlZmVyZW5jZXNgOiBGaW5kIGFsbCByZWZlcmVuY2VzIHRvIHN5bWJvbFxuLSBgaG92ZXJgOiBHZXQgdHlwZSBpbmZvIGFuZCBkb2N1bWVudGF0aW9uXG4tIGBzeW1ib2xzYDogTGlzdCBzeW1ib2xzIGluIGZpbGUsIG9yIHNlYXJjaCB3b3Jrc3BhY2UgKHdpdGggcXVlcnksIG5vIGZpbGUpXG4tIGByZW5hbWVgOiBSZW5hbWUgc3ltYm9sIGFjcm9zcyBjb2RlYmFzZVxuLSBgZGlhZ25vc3RpY3NgOiBHZXQgZXJyb3JzL3dhcm5pbmdzIGZvciBmaWxlLCBvciBjaGVjayBlbnRpcmUgcHJvamVjdCAobm8gZmlsZSlcbi0gYHJlbG9hZGA6IFJlc3RhcnQgdGhlIGxhbmd1YWdlIHNlcnZlclxuPC9vcGVyYXRpb25zPlxuXG48b3V0cHV0PlxuLSBgZGVmaW5pdGlvbmA6IEZpbGUgcGF0aCBhbmQgcG9zaXRpb24gb2YgZGVmaW5pdGlvblxuLSBgcmVmZXJlbmNlc2A6IExpc3Qgb2YgbG9jYXRpb25zIChmaWxlICsgcG9zaXRpb24pIHdoZXJlIHN5bWJvbCB1c2VkXG4tIGBob3ZlcmA6IFR5cGUgc2lnbmF0dXJlIGFuZCBkb2N1bWVudGF0aW9uIHRleHRcbi0gYHN5bWJvbHNgOiBMaXN0IG9mIHN5bWJvbCBuYW1lcywga2luZHMsIGxvY2F0aW9uc1xuLSBgcmVuYW1lYDogQ29uZmlybWF0aW9uIG9mIGNoYW5nZXMgbWFkZSBhY3Jvc3MgZmlsZXNcbi0gYGRpYWdub3N0aWNzYDogTGlzdCBvZiBlcnJvcnMvd2FybmluZ3Mgd2l0aCBmaWxlLCBsaW5lLCBzZXZlcml0eSwgbWVzc2FnZVxuLSBgcmVsb2FkYDogQ29uZmlybWF0aW9uIG9mIHNlcnZlciByZXN0YXJ0XG48L291dHB1dD5cblxuPGNhdXRpb24+XG4tIFJlcXVpcmVzIHJ1bm5pbmcgTFNQIHNlcnZlciBmb3IgdGFyZ2V0IGxhbmd1YWdlXG4tIFNvbWUgb3BlcmF0aW9ucyByZXF1aXJlIGZpbGUgdG8gYmUgc2F2ZWQgdG8gZGlza1xuPC9jYXV0aW9uPiJ9LHsibmFtZSI6Im5vdGVib29rIiwiZGVzY3JpcHRpb24iOiJDb21wbGV0ZWx5IHJlcGxhY2VzIHRoZSBjb250ZW50cyBvZiBhIHNwZWNpZmljIGNlbGwgaW4gYSBKdXB5dGVyIG5vdGVib29rICguaXB5bmIgZmlsZSkgd2l0aCBuZXcgc291cmNlLiBKdXB5dGVyIG5vdGVib29rcyBhcmUgaW50ZXJhY3RpdmUgZG9jdW1lbnRzIHRoYXQgY29tYmluZSBjb2RlLCB0ZXh0LCBhbmQgdmlzdWFsaXphdGlvbnMsIGNvbW1vbmx5IHVzZWQgZm9yIGRhdGEgYW5hbHlzaXMgYW5kIHNjaWVudGlmaWMgY29tcHV0aW5nLiBUaGUgbm90ZWJvb2tfcGF0aCBwYXJhbWV0ZXIgbXVzdCBiZSBhbiBhYnNvbHV0ZSBwYXRoLCBub3QgYSByZWxhdGl2ZSBwYXRoLiBUaGUgY2VsbF9udW1iZXIgaXMgMC1pbmRleGVkLiBVc2UgZWRpdF9tb2RlPWluc2VydCB0byBhZGQgYSBuZXcgY2VsbCBhdCB0aGUgaW5kZXggc3BlY2lmaWVkIGJ5IGNlbGxfbnVtYmVyLiBVc2UgZWRpdF9tb2RlPWRlbGV0ZSB0byBkZWxldGUgdGhlIGNlbGwgYXQgdGhlIGluZGV4IHNwZWNpZmllZCBieSBjZWxsX251bWJlci4ifSx7Im5hbWUiOiJyZWFkIiwiZGVzY3JpcHRpb24iOiIjIFJlYWRcblxuUmVhZHMgZmlsZXMgZnJvbSBsb2NhbCBmaWxlc3lzdGVtIG9yIGludGVybmFsIFVSTHMuXG5cbjxpbnN0cnVjdGlvbj5cbi0gUmVhZHMgdXAgdG8gMzAwMCBsaW5lcyBkZWZhdWx0XG4tIFVzZSBgb2Zmc2V0YCBhbmQgYGxpbWl0YCBmb3IgbGFyZ2UgZmlsZXNcbi0gVGV4dCBvdXRwdXQgaXMgaGFzaGxpbmUtcHJlZml4ZWQ6IGBMSU5FOkhBU0h8Y29udGVudGBcbi0gU3VwcG9ydHMgaW1hZ2VzIChQTkcsIEpQRykgYW5kIFBERnNcbi0gRm9yIGRpcmVjdG9yaWVzLCByZXR1cm5zIGZvcm1hdHRlZCBsaXN0aW5nIHdpdGggbW9kaWZpY2F0aW9uIHRpbWVzXG4tIFBhcmFsbGVsaXplIHJlYWRzIHdoZW4gZXhwbG9yaW5nIHJlbGF0ZWQgZmlsZXNcbi0gU3VwcG9ydHMgaW50ZXJuYWwgVVJMczpcblx0LSBgc2tpbGw6Ly88bmFtZT5gIC0gcmVhZCBTS0lMTC5tZCBmb3IgYSBza2lsbFxuXHQtIGBza2lsbDovLzxuYW1lPi88cGF0aD5gIC0gcmVhZCByZWxhdGl2ZSBwYXRoIHdpdGhpbiBza2lsbCBkaXJlY3Rvcnlcblx0LSBgcnVsZTovLzxuYW1lPmAgLSByZWFkIHJ1bGUgY29udGVudFxuXHQtIGBhZ2VudDovLzxpZD5gIC0gcmVhZCBhZ2VudCBvdXRwdXQgYXJ0aWZhY3Rcblx0LSBgYWdlbnQ6Ly88aWQ+LzxwYXRoPmAgb3IgYGFnZW50Oi8vPGlkPj9xPTxxdWVyeT5gIC0gZXh0cmFjdCBKU09OIGZyb20gYWdlbnQgb3V0cHV0XG48L2luc3RydWN0aW9uPlxuXG48b3V0cHV0PlxuLSBSZXR1cm5zIGZpbGUgY29udGVudCBhcyB0ZXh0XG4tIEltYWdlczogcmV0dXJucyB2aXN1YWwgY29udGVudCBmb3IgYW5hbHlzaXNcbi0gUERGczogcmV0dXJucyBleHRyYWN0ZWQgdGV4dFxuLSBNaXNzaW5nIGZpbGVzOiByZXR1cm5zIGNsb3Nlc3QgZmlsZW5hbWUgbWF0Y2hlcyBmb3IgY29ycmVjdGlvblxuLSBJbnRlcm5hbCBVUkxzOiByZXR1cm5zIHJlc29sdmVkIGNvbnRlbnQgd2l0aCBwYWdpbmF0aW9uIHN1cHBvcnRcbjwvb3V0cHV0PiJ9LHsibmFtZSI6InB1cHBldGVlciIsImRlc2NyaXB0aW9uIjoiIyBCcm93c2VyXG5cblVzZSB0aGlzIHRvb2wgdG8gbmF2aWdhdGUsIGNsaWNrLCB0eXBlLCBzY3JvbGwsIGRyYWcsIHF1ZXJ5IERPTSBjb250ZW50LCBhbmQgY2FwdHVyZSBzY3JlZW5zaG90cy5cblxuPGluc3RydWN0aW9uPlxuLSBVc2UgYGFjdGlvbjogXCJvcGVuXCJgIHRvIHN0YXJ0IGEgbmV3IGhlYWRsZXNzIGJyb3dzZXIgc2Vzc2lvbiAob3IgaW1wbGljaXRseSBsYXVuY2ggb24gZmlyc3QgYWN0aW9uKVxuLSBVc2UgYGFjdGlvbjogXCJnb3RvXCJgIHdpdGggYHVybGAgdG8gbmF2aWdhdGVcbi0gVXNlIGBhY3Rpb246IFwib2JzZXJ2ZVwiYCB0byBjYXB0dXJlIGEgbnVtYmVyZWQgYWNjZXNzaWJpbGl0eSBzbmFwc2hvdCB3aXRoIFVSTC90aXRsZS92aWV3cG9ydC9zY3JvbGwgaW5mb1xuXHQtIFByZWZlciBgY2xpY2tfaWRgLCBgdHlwZV9pZGAsIG9yIGBmaWxsX2lkYCBhY3Rpb25zIHVzaW5nIHRoZSByZXR1cm5lZCBgZWxlbWVudF9pZGAgdmFsdWVzXG5cdC0gT3B0aW9uYWwgZmxhZ3M6IGBpbmNsdWRlX2FsbGAgdG8gaW5jbHVkZSBub24taW50ZXJhY3RpdmUgbm9kZXMsIGB2aWV3cG9ydF9vbmx5YCB0byBsaW1pdCB0byB2aXNpYmxlIGVsZW1lbnRzXG4tIFVzZSBgYWN0aW9uOiBcImNsaWNrXCJgLCBgXCJ0eXBlXCJgLCBgXCJmaWxsXCJgLCBgXCJwcmVzc1wiYCwgYFwic2Nyb2xsXCJgLCBvciBgXCJkcmFnXCJgIGZvciBzZWxlY3Rvci1iYXNlZCBpbnRlcmFjdGlvbnNcblx0LSBQcmVmZXIgQVJJQSBvciB0ZXh0IHNlbGVjdG9ycyAoZS5nLiBgcC1hcmlhL1tuYW1lPVwiU2lnbiBpblwiXWAsIGBwLXRleHQvQ29udGludWVgKSBvdmVyIGJyaXR0bGUgQ1NTXG4tIFVzZSBgYWN0aW9uOiBcImNsaWNrX2lkXCJgLCBgXCJ0eXBlX2lkXCJgLCBvciBgXCJmaWxsX2lkXCJgIHRvIGludGVyYWN0IHdpdGggb2JzZXJ2ZWQgZWxlbWVudHMgd2l0aG91dCBzZWxlY3RvcnNcbi0gVXNlIGBhY3Rpb246IFwid2FpdF9mb3Jfc2VsZWN0b3JcImAgYmVmb3JlIGludGVyYWN0aW5nIHdoZW4gdGhlIHBhZ2UgaXMgZHluYW1pY1xuLSBVc2UgYGFjdGlvbjogXCJldmFsdWF0ZVwiYCB3aXRoIGBzY3JpcHRgIHRvIHJ1biBhIEphdmFTY3JpcHQgZXhwcmVzc2lvbiBpbiB0aGUgcGFnZSBjb250ZXh0XG4tIFVzZSBgYWN0aW9uOiBcImdldF90ZXh0XCJgLCBgXCJnZXRfaHRtbFwiYCwgb3IgYFwiZ2V0X2F0dHJpYnV0ZVwiYCBmb3IgRE9NIHF1ZXJpZXNcblx0LSBGb3IgYmF0Y2ggcXVlcmllcywgcGFzcyBgYXJnczogW3sgc2VsZWN0b3IsIGF0dHJpYnV0ZT8gfV1gIHRvIGdldCBhbiBhcnJheSBvZiByZXN1bHRzIChhdHRyaWJ1dGUgcmVxdWlyZWQgZm9yIGBnZXRfYXR0cmlidXRlYClcbi0gVXNlIGBhY3Rpb246IFwiZXh0cmFjdF9yZWFkYWJsZVwiYCB0byByZXR1cm4gcmVhZGVyLW1vZGUgY29udGVudCAodGl0bGUvYnlsaW5lL2V4Y2VycHQvdGV4dCBvciBtYXJrZG93bilcblx0LSBTZXQgYGZvcm1hdGAgdG8gYFwibWFya2Rvd25cImAgKGRlZmF1bHQpIG9yIGBcInRleHRcImBcbi0gVXNlIGBhY3Rpb246IFwic2NyZWVuc2hvdFwiYCB0byBjYXB0dXJlIGltYWdlcyAob3B0aW9uYWxseSB3aXRoIGBzZWxlY3RvcmAgdG8gY2FwdHVyZSBhIHNpbmdsZSBlbGVtZW50KVxuLSBVc2UgYGFjdGlvbjogXCJjbG9zZVwiYCB0byByZWxlYXNlIHRoZSBicm93c2VyIHdoZW4gZG9uZVxuPC9pbnN0cnVjdGlvbj5cblxuPG91dHB1dD5cblJldHVybnMgdGV4dCBvdXRwdXQgZm9yIG5hdmlnYXRpb24gYW5kIERPTSBxdWVyaWVzLCBhbmQgaW1hZ2Ugb3V0cHV0IGZvciBzY3JlZW5zaG90cy4gU2NyZWVuc2hvdHMgY2FuIG9wdGlvbmFsbHkgYmUgc2F2ZWQgdG8gZGlzayB2aWEgdGhlIGBwYXRoYCBwYXJhbWV0ZXIuXG48L291dHB1dD4ifSx7Im5hbWUiOiJ0YXNrIiwiZGVzY3JpcHRpb24iOiIjIFRhc2tcblxuTGF1bmNoIHN1YmFnZW50cyB0byBleGVjdXRlIHBhcmFsbGVsLCB3ZWxsLXNjb3BlZCB0YXNrcy5cblxuIyMgV2hhdCBzdWJhZ2VudHMgaW5oZXJpdCBhdXRvbWF0aWNhbGx5XG5TdWJhZ2VudHMgcmVjZWl2ZSB0aGUgKipmdWxsIHN5c3RlbSBwcm9tcHQqKiwgaW5jbHVkaW5nIEFHRU5UUy5tZCwgY29udGV4dCBmaWxlcywgYW5kIHNraWxscy4gRG8gTk9UIHJlcGVhdCBwcm9qZWN0IHJ1bGVzLCBjb2RpbmcgY29udmVudGlvbnMsIG9yIHN0eWxlIGd1aWRlbGluZXMgaW4gYGNvbnRleHRgIOKAlCB0aGV5IGFscmVhZHkgaGF2ZSB0aGVtLlxuXG4jIyBXaGF0IHN1YmFnZW50cyBkbyBOT1QgaGF2ZVxuU3ViYWdlbnRzIGhhdmUgbm8gYWNjZXNzIHRvIHlvdXIgY29udmVyc2F0aW9uIGhpc3RvcnkuIFRoZXkgZG9uJ3Qga25vdzpcbi0gRGVjaXNpb25zIHlvdSBtYWRlIGJ1dCBkaWRuJ3Qgd3JpdGUgZG93blxuLSBXaGljaCBhcHByb2FjaCB5b3UgY2hvc2UgYW1vbmcgYWx0ZXJuYXRpdmVzXG4tIFdoYXQgeW91IGxlYXJuZWQgZnJvbSByZWFkaW5nIGZpbGVzIGR1cmluZyB0aGlzIHNlc3Npb25cbi0gUmVxdWlyZW1lbnRzIHRoZSB1c2VyIHN0YXRlZCBvbmx5IGluIGNvbnZlcnNhdGlvblxuXG5TdWJhZ2VudHMgQ0FOIGdyZXAgdGhlIHBhcmVudCBjb252ZXJzYXRpb24gZmlsZSBmb3Igc3VwcGxlbWVudGFyeSBkZXRhaWxzLlxuLS0tXG5cbiMjIFBhcmFtZXRlcnNcblxuIyMjIGBhZ2VudGAgKHJlcXVpcmVkKVxuXG5BZ2VudCB0eXBlIGZvciBhbGwgdGFza3MgaW4gdGhpcyBiYXRjaC5cblxuIyMjIGBjb250ZXh0YCAob3B0aW9uYWwg4oCUIHN0cm9uZ2x5IHJlY29tbWVuZGVkKVxuXG5TaGFyZWQgYmFja2dyb3VuZCBwcmVwZW5kZWQgdmVyYmF0aW0gdG8gZXZlcnkgdGFzayBgYXNzaWdubWVudGAuIFVzZSBvbmx5IGZvciBzZXNzaW9uLXNwZWNpZmljIGluZm9ybWF0aW9uIHN1YmFnZW50cyBsYWNrLlxuXG48Y3JpdGljYWw+XG5EbyBOT1QgaW5jbHVkZSBwcm9qZWN0IHJ1bGVzLCBjb2RpbmcgY29udmVudGlvbnMsIG9yIHN0eWxlIGd1aWRlbGluZXMg4oCUIHN1YmFnZW50cyBhbHJlYWR5IGhhdmUgQUdFTlRTLm1kIGFuZCBjb250ZXh0IGZpbGVzIGluIHRoZWlyIHN5c3RlbSBwcm9tcHQuIFJlcGVhdGluZyB0aGVtIHdhc3RlcyB0b2tlbnMgYW5kIGluZmxhdGVzIGNvbnRleHQuIFJlc3RhdGluZyBhbnkgcnVsZSBmcm9tIEFHRU5UUy5tZCBpbiBgY29udGV4dGAgaXMgYSBidWcg4oCUIHRyZWF0IGl0IGxpa2UgYSBsaW50IGVycm9yLlxuPC9jcml0aWNhbD5cbioqQmVmb3JlIHdyaXRpbmcgZWFjaCBsaW5lIG9mIGNvbnRleHQsIGFzazoqKiBcIldvdWxkIHRoaXMgc2VudGVuY2UgYmUgdHJ1ZSBmb3IgQU5ZIHRhc2sgaW4gdGhpcyByZXBvLCBvciBvbmx5IGZvciBUSElTIHNwZWNpZmljIGJhdGNoP1wiIElmIGl0IGFwcGxpZXMgdG8gYW55IHRhc2sg4oaSIGl0J3MgYSBwcm9qZWN0IHJ1bGUg4oaSIHRoZSBzdWJhZ2VudCBhbHJlYWR5IGhhcyBpdCDihpIgZGVsZXRlIHRoZSBsaW5lLlxuXG5XUk9ORyDigJQgcmVzdGF0aW5nIHByb2plY3QgcnVsZXMgdGhlIHN1YmFnZW50IGFscmVhZHkgaGFzOlxuYGBgXG4jIyBDb25zdHJhaW50c1xuLSBVc2UgWCBpbXBvcnQgc3R5bGUsIG5vdCBZIChwZXIgQUdFTlRTLm1kKVxuLSBVc2UgWiBmb3IgcHJpdmF0ZSBmaWVsZHMgcGVyIEFHRU5UUy5tZFxuLSBSdW4gdGhlIGZvcm1hdHRlciBhZnRlciBjaGFuZ2VzXG4tIEZvbGxvdyB0aGUgbG9nZ2luZyBjb252ZW50aW9uXG5gYGBcbkV2ZXJ5IGxpbmUgYWJvdmUgcmVzdGF0ZXMgYSBwcm9qZWN0IGNvbnZlbnRpb24uIFRoZSBzdWJhZ2VudCByZWFkcyBBR0VOVFMubWQuIERlbGV0ZSB0aGVtIGFsbC5cblxuUklHSFQg4oCUIG9ubHkgc2Vzc2lvbi1zcGVjaWZpYyBkZWNpc2lvbnMgdGhlIHN1YmFnZW50IGNhbm5vdCBpbmZlciBmcm9tIHByb2plY3QgZmlsZXM6XG5gYGBcbiMjIENvbnN0cmFpbnRzXG4tIFdlIGRlY2lkZWQgdG8gdXNlIGFwcHJvYWNoIEEgb3ZlciBCIChzZXNzaW9uIGRlY2lzaW9uKVxuLSBUaGUgbWlncmF0aW9uIHRhcmdldCB0eXBlIGlzIGBGb29gIGZyb20gYGJhcmAgcGFja2FnZSAobG9va2VkIHVwIHRoaXMgc2Vzc2lvbilcbmBgYFxuXG5Vc2UgdGVtcGxhdGU7IG9taXQgbm9uLWFwcGxpY2FibGUgc2VjdGlvbnM6XG5cbmBgYGBcbiMjIEdvYWxcbk9uZSBzZW50ZW5jZTogYmF0Y2ggYWNjb21wbGlzaGVzIHRvZ2V0aGVyLlxuXG4jIyBOb24tZ29hbHNcbkV4cGxpY2l0bHkgZXhjbHVkZSB0ZW1wdGluZyBzY29wZSDigJQgd2hhdCB0YXNrcyBtdXN0IG5vdCB0b3VjaC9hdHRlbXB0LlxuXG4jIyBDb25zdHJhaW50c1xuLSBUYXNrLXNwZWNpZmljIE1VU1QgLyBNVVNUIE5PVCBydWxlcyBub3QgYWxyZWFkeSBpbiBBR0VOVFMubWRcbi0gRGVjaXNpb25zIG1hZGUgZHVyaW5nIHRoaXMgc2Vzc2lvbiB0aGF0IGFmZmVjdCBpbXBsZW1lbnRhdGlvblxuXG4jIyBSZWZlcmVuY2UgRmlsZXNcbi0gYHBhdGgvdG8vZmlsZS5leHRgIOKAlCBwYXR0ZXJuIGRlbW9cbi0gYHBhdGgvdG8vb3RoZXIuZXh0YCDigJQgcmV1c2Ugb3IgYXZvaWRcblxuIyMgQVBJIENvbnRyYWN0IChpZiB0YXNrcyBwcm9kdWNlL2NvbnN1bWUgc2hhcmVkIGludGVyZmFjZSlcbmBgYGxhbmd1YWdlXG4vLyBFeGFjdCB0eXBlIGRlZmluaXRpb25zLCBmdW5jdGlvbiBzaWduYXR1cmVzLCBpbnRlcmZhY2Ugc2hhcGVzXG5gYGBcblxuIyMgQWNjZXB0YW5jZSAoZ2xvYmFsKVxuLSBEZWZpbml0aW9uIG9mIFwiZG9uZVwiIGZvciBiYXRjaFxuLSBOb3RlOiBidWlsZC90ZXN0L2xpbnQgdmVyaWZpY2F0aW9uIGhhcHBlbnMgQUZURVIgYWxsIHRhc2tzIGNvbXBsZXRlIOKAlCBub3QgaW5zaWRlIHRhc2tzIChzZWUgYmVsb3cpXG5gYGBgXG4qKkJlbG9uZ3MgaW4gYGNvbnRleHRgKio6IHRhc2stc3BlY2lmaWMgZ29hbCwgbm9uLWdvYWxzLCBzZXNzaW9uIGRlY2lzaW9ucywgcmVmZXJlbmNlIHBhdGhzLCBzaGFyZWQgdHlwZSBkZWZpbml0aW9ucywgQVBJIGNvbnRyYWN0cywgZ2xvYmFsIGFjY2VwdGFuY2UgY29tbWFuZHMg4oCUIGFueXRoaW5nIDIrIHRhc2tzIG5lZWQgdGhhdCBpc24ndCBhbHJlYWR5IGluIEFHRU5UUy5tZC5cbioqUnVsZSBvZiB0aHVtYjoqKiBpZiByZXBlYXQgaW4gMisgdGFza3MsIGJlbG9uZ3MgaW4gYGNvbnRleHRgLlxuKipEb2VzIE5PVCBiZWxvbmcgaW4gYGNvbnRleHRgKio6IHByb2plY3QgcnVsZXMgYWxyZWFkeSBpbiBBR0VOVFMubWQvY29udGV4dCBmaWxlcywgcGVyLXRhc2sgZmlsZSBsaXN0cywgb25lLW9mZiByZXF1aXJlbWVudHMgKGdvIGluIGBhc3NpZ25tZW50YCksIHN0cnVjdHVyZWQgb3V0cHV0IGZvcm1hdCAoZ29lcyBpbiBgc2NoZW1hYCkuXG5cbiMjIyBgdGFza3NgIChyZXF1aXJlZClcblxuQXJyYXkgdGFza3MgZXhlY3V0ZSBpbiBwYXJhbGxlbC5cblxufEZpZWxkfFJlcXVpcmVkfFB1cnBvc2V8XG58LS0tfC0tLXwtLS18XG58YGlkYHzinJN8Q2FtZWxDYXNlIGlkZW50aWZpZXIsIG1heCAzMiBjaGFyc3xcbnxgZGVzY3JpcHRpb25gfOKck3xTaG9ydCBvbmUtbGluZXIgZm9yIFVJIGRpc3BsYXkgb25seSDigJQgbm90IHNlZW4gYnkgc3ViYWdlbnR8XG58YGFzc2lnbm1lbnRgfOKck3xDb21wbGV0ZSBwZXItdGFzayBpbnN0cnVjdGlvbnMuIFNlZSBbV3JpdGluZyBhbiBhc3NpZ25tZW50XSgjd3JpdGluZy1hbi1hc3NpZ25tZW50KS58XG58YHNraWxsc2B8fFNraWxsIG5hbWVzIHByZWxvYWQuIFVzZSBvbmx5IHdoZW4gY2hhbmdlcyBjb3JyZWN0bmVzcyDigJQgZG9u4oCZdCBzcGFtIGV2ZXJ5IHRhc2sufFxuXG4jIyMgYHNjaGVtYWAgKG9wdGlvbmFsIOKAlCByZWNvbW1lbmRlZCBmb3Igc3RydWN0dXJlZCBvdXRwdXQpXG5cbkpURCBzY2hlbWEgZGVmaW5pbmcgZXhwZWN0ZWQgcmVzcG9uc2Ugc3RydWN0dXJlLiBVc2UgdHlwZWQgcHJvcGVydGllcy4gSWYgeW91IGNhcmUgYWJvdXQgcGFyc2luZyByZXN1bHQsIGRlZmluZSBoZXJlIOKAlCAqKm5ldmVyIGRlc2NyaWJlIG91dHB1dCBmb3JtYXQgaW4gYGNvbnRleHRgIG9yIGBhc3NpZ25tZW50YCoqLlxuXG48Y2F1dGlvbj5cbioqU2NoZW1hIHZzIGFnZW50IG1pc21hdGNoIGNhdXNlcyBudWxsIG91dHB1dC4qKiBBZ2VudHMgd2l0aCBgb3V0cHV0PVwic3RydWN0dXJlZFwiYCAoZS5nLiwgYGV4cGxvcmVgKSBoYXZlIGEgYnVpbHQtaW4gc2NoZW1hLiBJZiB5b3UgYWxzbyBwYXNzIGBzY2hlbWFgLCB5b3VycyB0YWtlcyBwcmVjZWRlbmNlIOKAlCBidXQgaWYgeW91IGRlc2NyaWJlIG91dHB1dCBmb3JtYXQgaW4gYGNvbnRleHRgL2Bhc3NpZ25tZW50YCBpbnN0ZWFkLCB0aGUgYWdlbnQncyBidWlsdC1pbiBzY2hlbWEgd2lucy4gVGhlIGFnZW50IGdldHMgY29uZnVzZWQgdHJ5aW5nIHRvIGZpdCB5b3VyIHJlcXVlc3RlZCBmb3JtYXQgaW50byBpdHMgc2NoZW1hIHNoYXBlIGFuZCBzdWJtaXRzIGBudWxsYC4gRWl0aGVyOiAoMSkgdXNlIGBzY2hlbWFgIHRvIG92ZXJyaWRlIHRoZSBidWlsdC1pbiBvbmUsICgyKSB1c2UgYHRhc2tgIGFnZW50IHdoaWNoIGhhcyBubyBidWlsdC1pbiBzY2hlbWEsIG9yICgzKSBtYXRjaCB5b3VyIGluc3RydWN0aW9ucyB0byB0aGUgYWdlbnQncyBleHBlY3RlZCBvdXRwdXQgc2hhcGUuXG48L2NhdXRpb24+XG4tLS1cblxuIyMgV3JpdGluZyBhbiBhc3NpZ25tZW50XG5cbjxjcml0aWNhbD4jIyBUYXNrIHNjb3BlXG5cbmBhc3NpZ25tZW50YCBtdXN0IGNvbnRhaW4gZW5vdWdoIGluZm8gZm9yIGFnZW50IHRvIGFjdCAqKndpdGhvdXQgYXNraW5nIGEgY2xhcmlmeWluZyBxdWVzdGlvbioqLlxuKipNaW5pbXVtIGJhcjoqKiBhc3NpZ25tZW50IHVuZGVyIH44IGxpbmVzIG9yIG1pc3NpbmcgYWNjZXB0YW5jZSBjcml0ZXJpYSA9IHRvbyB2YWd1ZS4gT25lLWxpbmVycyBndWFyYW50ZWVkIGZhaWx1cmUuXG5cblVzZSBzdHJ1Y3R1cmUgZXZlcnkgYXNzaWdubWVudDpcblxuYGBgXG4jIyBUYXJnZXRcbi0gRmlsZXM6IGV4YWN0IHBhdGgocylcbi0gU3ltYm9scy9lbnRyeXBvaW50czogc3BlY2lmaWMgZnVuY3Rpb25zLCB0eXBlcywgZXhwb3J0c1xuLSBOb24tZ29hbHM6IHdoYXQgdGFzayBtdXN0IE5PVCB0b3VjaCAocHJldmVudHMgc2NvcGUgY3JlZXApXG5cbiMjIENoYW5nZVxuLSBTdGVwLWJ5LXN0ZXA6IGFkZC9yZW1vdmUvcmVuYW1lL3Jlc3RydWN0dXJlXG4tIFBhdHRlcm5zL0FQSXMgdG8gdXNlOyByZWZlcmVuY2UgZmlsZXMgaWYgYXBwbGljYWJsZVxuXG4jIyBFZGdlIENhc2VzIC8gRG9uJ3QgQnJlYWtcbi0gVHJpY2t5IGNhc2UgMTogLi4uXG4tIFRyaWNreSBjYXNlIDI6IC4uLlxuLSBFeGlzdGluZyBiZWhhdmlvciBtdXN0IHN1cnZpdmU6IC4uLlxuXG4jIyBBY2NlcHRhbmNlICh0YXNrLWxvY2FsKVxuLSBFeHBlY3RlZCBiZWhhdmlvciBvciBvYnNlcnZhYmxlIHJlc3VsdFxuLSBETyBOT1QgaW5jbHVkZSBwcm9qZWN0LXdpZGUgYnVpbGQvdGVzdC9saW50IGNvbW1hbmRzIChzZWUgYmVsb3cpXG5gYGBcblxuYGNvbnRleHRgIGNhcnJpZXMgc2hhcmVkIGJhY2tncm91bmQuIGBhc3NpZ25tZW50YCBjYXJyaWVzIG9ubHkgZGVsdGE6IGZpbGUtc3BlY2lmaWMgaW5zdHJ1Y3Rpb25zLCBsb2NhbCBlZGdlIGNhc2VzLCBwZXItdGFzayBhY2NlcHRhbmNlIGNoZWNrcy4gTmV2ZXIgZHVwbGljYXRlIHNoYXJlZCBjb25zdHJhaW50cyBhY3Jvc3MgYXNzaWdubWVudHMuXG5cbiMjIyBBbnRpLXBhdHRlcm5zIChiYW4gdGhlc2UpXG4qKlZhZ3VlIGFzc2lnbm1lbnRzKiog4oCUIGFnZW50IGd1ZXNzZXMgd3Jvbmcgb3Igc3RhbGxzOlxuLSBcIlJlZmFjdG9yIHRoaXMgdG8gYmUgY2xlYW5lci5cIlxuLSBcIk1pZ3JhdGUgdG8gTi1BUEkuXCJcbi0gXCJGaXggdGhlIGJ1ZyBpbiBzdHJlYW1pbmcuXCJcbi0gXCJVcGRhdGUgYWxsIGNvbnN0cnVjdG9ycyBpbiBgc3JjLyoqLyoudHNgLlwiXG4qKlZhZ3VlIGNvbnRleHQqKiDigJQgZm9yY2VzIGFnZW50IGludmVudCBjb252ZW50aW9uczpcbi0gXCJVc2UgZXhpc3RpbmcgcGF0dGVybnMuXCJcbi0gXCJGb2xsb3cgY29udmVudGlvbnMuXCJcbi0gXCJObyBXQVNNLlwiXG4qKlJlZHVuZGFudCBjb250ZXh0Kiog4oCUIHdhc3RlcyB0b2tlbnMgcmVwZWF0aW5nIHdoYXQgc3ViYWdlbnRzIGFscmVhZHkgaGF2ZTpcbi0gUmVzdGF0aW5nIEFHRU5UUy5tZCBydWxlcyAoY29kaW5nIHN0eWxlLCBpbXBvcnQgY29udmVudGlvbnMsIGZvcm1hdHRpbmcgY29tbWFuZHMsIGxvZ2dlciB1c2FnZSwgZXRjLilcbi0gUmVwZWF0aW5nIHByb2plY3QgY29uc3RyYWludHMgZnJvbSBjb250ZXh0IGZpbGVzXG4tIExpc3RpbmcgdG9vbC9mcmFtZXdvcmsgcHJlZmVyZW5jZXMgYWxyZWFkeSBkb2N1bWVudGVkIGluIHRoZSByZXBvXG5cbklmIGEgY29uc3RyYWludCBhcHBlYXJzIGluIEFHRU5UUy5tZCwgaXQgTVVTVCBOT1QgYXBwZWFyIGluIGBjb250ZXh0YC4gVGhlIHN1YmFnZW50IGhhcyB0aGUgZnVsbCBzeXN0ZW0gcHJvbXB0LlxuXG5JZiB0ZW1wdGVkIHRvIHdyaXRlIGFib3ZlLCBleHBhbmQgdXNpbmcgdGVtcGxhdGVzLlxuKipPdXRwdXQgZm9ybWF0IGluIHByb3NlIGluc3RlYWQgb2YgYHNjaGVtYWAqKiDigJQgYWdlbnQgcmV0dXJucyBudWxsOlxuU3RydWN0dXJlZCBhZ2VudHMgKGBleHBsb3JlYCwgYHJldmlld2VyYCkgaGF2ZSBidWlsdC1pbiBvdXRwdXQgc2NoZW1hcy4gRGVzY3JpYmluZyBhIGRpZmZlcmVudCBvdXRwdXQgZm9ybWF0IGluIGBjb250ZXh0YC9gYXNzaWdubWVudGAgd2l0aG91dCBvdmVycmlkaW5nIHZpYSBgc2NoZW1hYCBjcmVhdGVzIGEgbWlzbWF0Y2gg4oCUIHRoZSBhZ2VudCBjYW4ndCByZWNvbmNpbGUgeW91ciBwcm9zZSBpbnN0cnVjdGlvbnMgd2l0aCBpdHMgc2NoZW1hIGFuZCBzdWJtaXRzIG51bGwgZGF0YS4gQWx3YXlzIHVzZSBgc2NoZW1hYCBmb3Igb3V0cHV0IHN0cnVjdHVyZSwgb3IgcGljayBhbiBhZ2VudCB3aG9zZSBidWlsdC1pbiBzY2hlbWEgbWF0Y2hlcyB5b3VyIG5lZWRzLlxuKipUZXN0L2xpbnQgY29tbWFuZHMgaW4gcGFyYWxsZWwgdGFza3MqKiDigJQgZWRpdCB3YXJzOlxuUGFyYWxsZWwgYWdlbnRzIHNoYXJlIHdvcmtpbmcgdHJlZS4gSWYgdHdvIGFnZW50cyBydW4gYGJ1biBjaGVja2Agb3IgYGJ1biB0ZXN0YCBjb25jdXJyZW50bHksIHRoZXkgc2VlIGVhY2ggb3RoZXIncyBoYWxmLWZpbmlzaGVkIGVkaXRzLCBcImZpeFwiIHBoYW50b20gZXJyb3JzLCBsb29wLiAqKk5ldmVyIHRlbGwgcGFyYWxsZWwgdGFza3MgcnVuIHByb2plY3Qtd2lkZSBidWlsZC90ZXN0L2xpbnQgY29tbWFuZHMuKiogRWFjaCB0YXNrIGVkaXRzLCBzdG9wcy4gQ2FsbGVyIHZlcmlmaWVzIGFmdGVyIGFsbCB0YXNrcyBjb21wbGV0ZS5cbioqSWYgeW91IGNhbid0IHNwZWNpZnkgc2NvcGUgeWV0KiosIGNyZWF0ZSAqKkRpc2NvdmVyeSB0YXNrKiogZmlyc3Q6IGVudW1lcmF0ZSBmaWxlcywgZmluZCBjYWxsc2l0ZXMsIGxpc3QgY2FuZGlkYXRlcy4gVGhlbiBmYW4gb3V0IHdpdGggZXhwbGljaXQgcGF0aHMuXG5cbiMjIyBEZWxlZ2F0ZSBpbnRlbnQsIG5vdCBrZXlzdHJva2VzXG5cbllvdXIgcm9sZSBhcyB0ZWNoIGxlYWQ6IHNldCBkaXJlY3Rpb24sIGRlZmluZSBib3VuZGFyaWVzLCBjYWxsIG91dCBwaXRmYWxscyDigJQgdGhlbiBnZXQgb3V0IG9mIHdheS4gRG9u4oCZdCByZWFkIGV2ZXJ5IGZpbGUsIGRlY2lkZSBldmVyeSBlZGl0LCBkaWN0YXRlIGxpbmUtYnktbGluZS4gVGhhdCBtYWtlcyB5b3UgYm90dGxlbmVjazsgYWdlbnQgdHlwaXN0LlxuKipCZSBzcGVjaWZpYyBhYm91dDoqKiBjb25zdHJhaW50cywgbmFtaW5nIGNvbnZlbnRpb25zLCBBUEkgY29udHJhY3RzLCBcImRvbuKAmXQgYnJlYWtcIiBpdGVtcywgYWNjZXB0YW5jZSBjcml0ZXJpYS5cbioqRGVsZWdhdGU6KiogY29kZSByZWFkaW5nLCBhcHByb2FjaCBzZWxlY3Rpb24sIGV4YWN0IGVkaXQgbG9jYXRpb25zLCBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzLiBBZ2VudCBoYXMgdG9vbHMsIGNhbiByZWFzb24gYWJvdXQgY29kZS5cblxuTWljcm9tYW5hZ2luZyAoeW91IHRoaW5rLCBhZ2VudCB0eXBlcyk6XG5gYGBcbmFzc2lnbm1lbnQ6IFwiSW4gc3JjL2FwaS9oYW5kbGVyLnRzLCBsaW5lIDQ3LCBjaGFuZ2UgYHRocm93IGVycmAgdG8gYHRocm93IG5ldyBBcGlFcnJvcihlcnIubWVzc2FnZSwgNTAwKWAuXG5PbiBsaW5lIDYzLCB3cmFwIGZldGNoIGNhbGwgdHJ5L2NhdGNoIHJldHVybiA1MDIgb24gZmFpbHVyZS5cbk9uIGxpbmUgODksIGFkZCBudWxsIGNoZWNrIGJlZm9yZSBhY2Nlc3NpbmcgcmVzcC5ib2R5Li4uXCJcbmBgYFxuXG5EZWxlZ2F0aW5nIChhZ2VudCB0aGlua3Mgd2l0aGluIGNvbnN0cmFpbnRzKTpcbmBgYFxuYXNzaWdubWVudDogXCIjIyBUYXJnZXRcXG4tIEZpbGVzOiBzcmMvYXBpL2hhbmRsZXIudHNcXG5cXG4jIyBDaGFuZ2VcXG5JbXByb3ZlIGVycm9yIGhhbmRsaW5nOiByZXBsYWNlIHJhdyB0aHJvd3NcbndpdGggdHlwZWQgQXBpRXJyb3IgaW5zdGFuY2VzLCBhZGQgdHJ5L2NhdGNoIGFyb3VuZCBleHRlcm5hbCBjYWxscywgZ3VhcmQgYWdhaW5zdCBudWxsIHJlc3BvbnNlcy5cXG5cXG5cbiMjIEVkZ2UgQ2FzZXMgLyBEb24ndCBCcmVha1xcbi0gRXhpc3RpbmcgZXJyb3IgY29kZXMgaW4gdGVzdHMgbXVzdCBzdGlsbCBtYXRjaFxcblxuLSBEb24ndCBjaGFuZ2UgcHVibGljIGZ1bmN0aW9uIHNpZ25hdHVyZXNcIlxuYGBgXG5cbkZpcnN0IHN0eWxlIHdhc3RlcyB5b3VyIHRpbWUsIGJyaXR0bGUgaWYgY29kZSBzaGlmdHMuIFNlY29uZCBnaXZlcyBhZ2VudCByb29tIHRvIGRvIHdvcmsuXG48L2NyaXRpY2FsPlxuXG4jIyBFeGFtcGxlXG5cbjxleGFtcGxlIHR5cGU9XCJiYWRcIiBsYWJlbD1cIkR1cGxpY2F0ZWQgY29udGV4dCBpbmZsYXRlcyB0b2tlbnNcIj5cbjx0YXNrcz5cblx0PHRhc2sgbmFtZT1cIkdyZXBcIj5cblx0XHQ8ZGVzY3JpcHRpb24+UG9ydCBncmVwIG1vZHVsZSBmcm9tIFdBU00gdG8gTi1BUEkuLi48L2Rlc2NyaXB0aW9uPlxuXHRcdDxhc3NpZ25tZW50PlBvcnQgZ3JlcCBtb2R1bGUgZnJvbSBXQVNNIHRvIE4tQVBJLi4uIChzYW1lIGJsb2IgcmVwZWF0ZWQpPC9hc3NpZ25tZW50PlxuPC90YXNrPlxuPC90YXNrcz5cbjwvZXhhbXBsZT5cblxuPGV4YW1wbGUgdHlwZT1cImdvb2RcIiBsYWJlbD1cIlNoYXJlZCBydWxlcyBpbiBjb250ZXh0LCBvbmx5IGRlbHRhcyBpbiBhc3NpZ25tZW50XCI+XG48Y29udGV4dD5cbiMjIEdvYWxcblBvcnQgV0FTTSBtb2R1bGVzIHRvIE4tQVBJLCBtYXRjaGluZyBleGlzdGluZyBwaS1uYXRpdmVzIGNvbnZlbnRpb25zLlxuXG4jIyBOb24tZ29hbHNcbkRvIG5vdCB0b3VjaCBUUyBiaW5kaW5ncyBvciBkb3duc3RyZWFtIGNvbnN1bWVycyDigJQgc2VwYXJhdGUgcGhhc2UuXG5cbiMjIENvbnN0cmFpbnRzXG4tIE1VU1QgdXNlIGAjW25hcGldYCBhdHRyaWJ1dGUgbWFjcm8gb24gYWxsIGV4cG9ydHNcbi0gTVVTVCByZXR1cm4gYG5hcGk6OlJlc3VsdDxUPmAgZm9yIGZhbGxpYmxlIG9wczsgbmV2ZXIgcGFuaWNcbi0gTVVTVCB1c2UgYHNwYXduX2Jsb2NraW5nYCBmb3IgZmlsZXN5c3RlbSBJL08gb3IgPjFtcyB3b3JrXG4uLi5cblxuIyMgQWNjZXB0YW5jZSAoZ2xvYmFsKVxuLSBDYWxsZXIgdmVyaWZpZXMgYWZ0ZXIgYWxsIHRhc2tzOiBgY2FyZ28gdGVzdCAtcCBwaS1uYXRpdmVzYCBhbmQgYGNhcmdvIGJ1aWxkIC1wIHBpLW5hdGl2ZXNgIHdpdGggbm8gd2FybmluZ3Ncbi0gSW5kaXZpZHVhbCB0YXNrcyBtdXN0IE5PVCBydW4gdGhlc2UgY29tbWFuZHMgdGhlbXNlbHZlc1xuPC9jb250ZXh0PlxuXG48dGFza3M+XG5cdDx0YXNrIG5hbWU9XCJQb3J0R3JlcFwiPlxuXHRcdDxkZXNjcmlwdGlvbj5Qb3J0IGdyZXAgbW9kdWxlIHRvIE4tQVBJPC9kZXNjcmlwdGlvbj5cblx0XHQ8YXNzaWdubWVudD5cbiMjIFRhcmdldFxuLSBGaWxlczogYHNyYy9ncmVwLnJzYCwgYHNyYy9saWIucnNgIChyZWdpc3RyYXRpb24gb25seSlcbi0gU3ltYm9sczogc2VhcmNoLCBzZWFyY2hfbXVsdGksIGNvbXBpbGVfcGF0dGVyblxuXG4jIyBDaGFuZ2Vcbi0gSW1wbGVtZW50IHRocmVlIE4tQVBJIGV4cG9ydHMgaW4gZ3JlcC5yczpcblx0LSBgc2VhcmNoKHBhdHRlcm46IEpzU3RyaW5nLCBwYXRoOiBKc1N0cmluZywgZW52OiBFbnYpIC0+IG5hcGk6OlJlc3VsdDxWZWM8TWF0Y2g+PmBcbi4uLlxuXG4jIyBBY2NlcHRhbmNlICh0YXNrLWxvY2FsKVxuLSBUaHJlZSBmdW5jdGlvbnMgZXhwb3J0ZWQgd2l0aCBjb3JyZWN0IHNpZ25hdHVyZXMgKGNhbGxlciB2ZXJpZmllcyBidWlsZCBhZnRlciBhbGwgdGFza3MpXG48L2Fzc2lnbm1lbnQ+XG48L3Rhc2s+XG5cblx0PHRhc2sgbmFtZT1cIlBvcnRIaWdobGlnaHRcIj5cblx0XHQ8ZGVzY3JpcHRpb24+UG9ydCBoaWdobGlnaHQgbW9kdWxlIHRvIE4tQVBJPC9kZXNjcmlwdGlvbj5cblx0XHQ8YXNzaWdubWVudD5cbiMjIFRhcmdldFxuLSBGaWxlczogYHNyYy9oaWdobGlnaHQucnNgLCBgc3JjL2xpYi5yc2AgKHJlZ2lzdHJhdGlvbiBvbmx5KVxuLi4uXG48L2Fzc2lnbm1lbnQ+XG48L3Rhc2s+XG48L3Rhc2tzPlxuPC9leGFtcGxlPlxuLS0tXG5cbiMjIFRhc2sgc2NvcGVcblxuRWFjaCB0YXNrIHNtYWxsLCB3ZWxsLWRlZmluZWQgc2NvcGUg4oCUICoqYXQgbW9zdCAz4oCTNSBmaWxlcyoqLlxuKipTaWducyB0YXNrIHRvbyBicm9hZDoqKlxuLSBGaWxlIHBhdGhzIHVzZSBnbG9icyAoYHNyYy8qKi8qLnRzYCkgaW5zdGVhZCBvZiBleHBsaWNpdCBuYW1lc1xuLSBBc3NpZ25tZW50IHNheXMgXCJ1cGRhdGUgYWxsXCIgLyBcIm1pZ3JhdGUgZXZlcnl0aGluZ1wiIC8gXCJyZWZhY3RvciBhY3Jvc3NcIlxuLSBTY29wZSBjb3ZlcnMgZW50aXJlIHBhY2thZ2Ugb3IgZGlyZWN0b3J5IHRyZWVcbioqRml4OioqIGVudW1lcmF0ZSBmaWxlcyBmaXJzdCAoZ3JlcC9nbG9iIGRpc2NvdmVyeSksIHRoZW4gZmFuIG91dCBvbmUgdGFzayBwZXIgZmlsZSBvciBzbWFsbCBjbHVzdGVyLlxuLS0tXG5cbiMjIFBhcmFsbGVsaXphdGlvblxuKipUZXN0OioqIENhbiB0YXNrIEIgcHJvZHVjZSBjb3JyZWN0IG91dHB1dCB3aXRob3V0IHNlZWluZyB0YXNrIEEncyByZXN1bHQ/XG4tICoqWWVzKiog4oaSIHBhcmFsbGVsaXplXG4tICoqTm8qKiDihpIgcnVuIHNlcXVlbnRpYWxseSAoQSBjb21wbGV0ZXMsIHRoZW4gbGF1bmNoIEIgd2l0aCBBIG91dHB1dCBpbiBjb250ZXh0KVxuXG4jIyMgTXVzdCBiZSBzZXF1ZW50aWFsXG5cbnxGaXJzdHxUaGVufFJlYXNvbnxcbnwtLS18LS0tfC0tLXxcbnxEZWZpbmUgdHlwZXMvaW50ZXJmYWNlc3xJbXBsZW1lbnQgY29uc3VtZXJzfENvbnN1bWVycyBuZWVkIGNvbnRyYWN0fFxufENyZWF0ZSBBUEkgZXhwb3J0c3xXcml0ZSBiaW5kaW5ncy9jYWxsZXJzfENhbGxlcnMgbmVlZCBleHBvcnQgbmFtZXMvc2lnbmF0dXJlc3xcbnxTY2FmZm9sZCBzdHJ1Y3R1cmV8SW1wbGVtZW50IGJvZGllc3xCb2RpZXMgbmVlZCBzaGFwZXxcbnxDb3JlIG1vZHVsZXxEZXBlbmRlbnQgbW9kdWxlc3xEZXBlbmRlbnRzIGltcG9ydCBmcm9tIGNvcmV8XG58U2NoZW1hL0RCIG1pZ3JhdGlvbnxBcHBsaWNhdGlvbiBsb2dpY3xMb2dpYyBkZXBlbmRzIG9uIG5ldyBzY2hlbWEgc2hhcGV8XG5cbiMjIyBTYWZlIHRvIHBhcmFsbGVsaXplXG4tIEluZGVwZW5kZW50IG1vZHVsZXMsIG5vIGNyb3NzLWltcG9ydHNcbi0gVGVzdHMgZm9yIGFscmVhZHktaW1wbGVtZW50ZWQgY29kZVxuLSBJc29sYXRlZCBmaWxlLXNjb3BlZCByZWZhY3RvcnNcbi0gRG9jdW1lbnRhdGlvbiBmb3Igc3RhYmxlIEFQSXNcblxuIyMjIFBoYXNlZCBleGVjdXRpb25cblxuTGF5ZXJlZCB3b3JrIHdpdGggZGVwZW5kZW5jaWVzOlxuKipQaGFzZSAxIOKAlCBGb3VuZGF0aW9uKiogKGRvIHlvdXJzZWxmIG9yIHNpbmdsZSB0YXNrKTogZGVmaW5lIGludGVyZmFjZXMsIGNyZWF0ZSBzY2FmZm9sZHMsIGVzdGFibGlzaCBBUEkgc2hhcGUuIE5ldmVyIGZhbiBvdXQgdW50aWwgY29udHJhY3Qga25vd24uXG4qKlBoYXNlIDIg4oCUIFBhcmFsbGVsIGltcGxlbWVudGF0aW9uKio6IGZhbiBvdXQgdGFza3MgY29uc3VtaW5nIHNhbWUga25vd24gaW50ZXJmYWNlLiBJbmNsdWRlIFBoYXNlIDEgQVBJIGNvbnRyYWN0IGluIGBjb250ZXh0YC5cbioqUGhhc2UgMyDigJQgSW50ZWdyYXRpb24qKiAoZG8geW91cnNlbGYpOiB3aXJlIG1vZHVsZXMsIGZpeCBtaXNtYXRjaGVzLCB2ZXJpZnkgYnVpbGRzLlxuKipQaGFzZSA0IOKAlCBEZXBlbmRlbnQgbGF5ZXIqKjogZmFuIG91dCB0YXNrcyBjb25zdW1pbmcgUGhhc2UgMiBvdXRwdXRzLlxuLS0tXG5cbiMjIFByZS1mbGlnaHQgY2hlY2tsaXN0XG5cbkJlZm9yZSBjYWxsaW5nIHRvb2wsIHZlcmlmeTpcbi0gWyBdIGBjb250ZXh0YCBpbmNsdWRlcyBvbmx5IHNlc3Npb24tc3BlY2lmaWMgaW5mbyBub3QgYWxyZWFkeSBpbiBBR0VOVFMubWQvY29udGV4dCBmaWxlc1xuLSBbIF0gRWFjaCBgYXNzaWdubWVudGAgZm9sbG93cyBhc3NpZ25tZW50IHRlbXBsYXRlIOKAlCBub3Qgb25lLWxpbmVyXG4tIFsgXSBFYWNoIGBhc3NpZ25tZW50YCBpbmNsdWRlcyBlZGdlIGNhc2VzIC8gXCJkb27igJl0IGJyZWFrXCIgaXRlbXNcbi0gWyBdIFRhc2tzIHRydWx5IHBhcmFsbGVsIChubyBoaWRkZW4gZGVwZW5kZW5jaWVzKVxuLSBbIF0gU2NvcGUgc21hbGwsIGZpbGUgcGF0aHMgZXhwbGljaXQgKG5vIGdsb2JzKVxuLSBbIF0gTm8gdGFzayBydW5zIHByb2plY3Qtd2lkZSBidWlsZC90ZXN0L2xpbnQg4oCUIHlvdSBkbyBhZnRlciBhbGwgdGFza3MgY29tcGxldGVcbi0gWyBdIGBzY2hlbWFgIHVzZWQgaWYgeW91IGV4cGVjdCBpbmZvcm1hdGlvblxuLS0tXG5cbiMjIEFnZW50c1xuXG48YWdlbnQgbmFtZT1cImV4cGxvcmVcIiBvdXRwdXQ9XCJzdHJ1Y3R1cmVkXCI+XG48ZGVzY3JpcHRpb24+RmFzdCByZWFkLW9ubHkgY29kZWJhc2Ugc2NvdXQgcmV0dXJuaW5nIGNvbXByZXNzZWQgY29udGV4dCBmb3IgaGFuZG9mZjwvZGVzY3JpcHRpb24+XG48dG9vbHM+cmVhZCwgZ3JlcCwgZmluZCwgYmFzaCwgc3VibWl0X3Jlc3VsdDwvdG9vbHM+XG48L2FnZW50PlxuXG48YWdlbnQgbmFtZT1cInBsYW5cIj5cbjxkZXNjcmlwdGlvbj5Tb2Z0d2FyZSBhcmNoaXRlY3QgZm9yIGNvbXBsZXggbXVsdGktZmlsZSBhcmNoaXRlY3R1cmFsIGRlY2lzaW9ucy4gTk9UIGZvciBzaW1wbGUgdGFza3MsIHNpbmdsZS1maWxlIGNoYW5nZXMsIG9yIHRhc2tzIGNvbXBsZXRhYmxlIGluIDw1IHRvb2wgY2FsbHMuPC9kZXNjcmlwdGlvbj5cbjx0b29scz5yZWFkLCBncmVwLCBmaW5kLCBiYXNoLCBzdWJtaXRfcmVzdWx0PC90b29scz5cbjwvYWdlbnQ+XG5cbjxhZ2VudCBuYW1lPVwiZGVzaWduZXJcIj5cbjxkZXNjcmlwdGlvbj5VSS9VWCBzcGVjaWFsaXN0IGZvciBkZXNpZ24gaW1wbGVtZW50YXRpb24sIHJldmlldywgdmlzdWFsIHJlZmluZW1lbnQ8L2Rlc2NyaXB0aW9uPlxuPHRvb2xzPkFsbCB0b29sczwvdG9vbHM+XG48L2FnZW50PlxuXG48YWdlbnQgbmFtZT1cInJldmlld2VyXCIgb3V0cHV0PVwic3RydWN0dXJlZFwiPlxuPGRlc2NyaXB0aW9uPkNvZGUgcmV2aWV3IHNwZWNpYWxpc3QgZm9yIHF1YWxpdHkvc2VjdXJpdHkgYW5hbHlzaXM8L2Rlc2NyaXB0aW9uPlxuPHRvb2xzPnJlYWQsIGdyZXAsIGZpbmQsIGJhc2gsIHJlcG9ydF9maW5kaW5nLCBzdWJtaXRfcmVzdWx0PC90b29scz5cbjwvYWdlbnQ+XG5cbjxhZ2VudCBuYW1lPVwidGFza1wiPlxuPGRlc2NyaXB0aW9uPkdlbmVyYWwtcHVycG9zZSBzdWJhZ2VudCB3aXRoIGZ1bGwgY2FwYWJpbGl0aWVzIGZvciBkZWxlZ2F0ZWQgbXVsdGktc3RlcCB0YXNrczwvZGVzY3JpcHRpb24+XG48dG9vbHM+QWxsIHRvb2xzPC90b29scz5cbjwvYWdlbnQ+XG5cbjxhZ2VudCBuYW1lPVwicXVpY2tfdGFza1wiPlxuPGRlc2NyaXB0aW9uPkxvdy1yZWFzb25pbmcgYWdlbnQgZm9yIHN0cmljdGx5IG1lY2hhbmljYWwgdXBkYXRlcyBvciBkYXRhIGNvbGxlY3Rpb24gb25seTwvZGVzY3JpcHRpb24+XG48dG9vbHM+QWxsIHRvb2xzPC90b29scz5cbjwvYWdlbnQ+In0seyJuYW1lIjoidG9kb193cml0ZSIsImRlc2NyaXB0aW9uIjoiIyBUb2RvIFdyaXRlXG5cbkNyZWF0ZS9tYW5hZ2Ugc3RydWN0dXJlZCB0YXNrIGxpc3QgZm9yIGNvZGluZyBzZXNzaW9uLlxuXG48Y29uZGl0aW9ucz5cblVzZSBwcm9hY3RpdmVseTpcbjEuIENvbXBsZXggbXVsdGktc3RlcCB0YXNrcyByZXF1aXJpbmcgMysgc3RlcHMvYWN0aW9uc1xuMi4gVXNlciByZXF1ZXN0cyB0b2RvIGxpc3RcbjMuIFVzZXIgcHJvdmlkZXMgbXVsdGlwbGUgdGFza3MgKG51bWJlcmVkL2NvbW1hLXNlcGFyYXRlZClcbjQuIEFmdGVyIG5ldyBpbnN0cnVjdGlvbnPigJRjYXB0dXJlIHJlcXVpcmVtZW50cyBhcyB0b2Rvc1xuNS4gU3RhcnRpbmcgdGFza+KAlG1hcmsgaW5fcHJvZ3Jlc3MgQkVGT1JFIGJlZ2lubmluZ1xuNi4gQWZ0ZXIgY29tcGxldGluZ+KAlG1hcmsgY29tcGxldGVkLCBhZGQgZm9sbG93LXVwIHRhc2tzIGZvdW5kXG48L2NvbmRpdGlvbnM+XG5cbjxwcm90b2NvbD5cbjEuICoqVGFzayBTdGF0ZXMqKjpcblx0IC0gcGVuZGluZzogbm90IHN0YXJ0ZWRcblx0IC0gaW5fcHJvZ3Jlc3M6IHdvcmtpbmdcblx0IC0gY29tcGxldGVkOiBmaW5pc2hlZFxuMi4gKipUYXNrIE1hbmFnZW1lbnQqKjpcblx0IC0gVXBkYXRlIHN0YXR1cyBpbiByZWFsIHRpbWVcblx0IC0gTWFyayBjb21wbGV0ZSBJTU1FRElBVEVMWSBhZnRlciBmaW5pc2hpbmcgKG5vIGJhdGNoaW5nKVxuXHQgLSBLZWVwIGV4YWN0bHkgT05FIHRhc2sgaW5fcHJvZ3Jlc3MgYXQgYSB0aW1lXG5cdCAtIFJlbW92ZSB0YXNrcyBubyBsb25nZXIgcmVsZXZhbnRcblx0IC0gQ29tcGxldGUgdGFza3MgaW4gbGlzdCBvcmRlciAoZG8gbm90IG1hcmsgbGF0ZXIgdGFza3MgY29tcGxldGVkIHdoaWxlIGVhcmxpZXIgdGFza3MgcmVtYWluIGluY29tcGxldGUpXG4zLiAqKlRhc2sgQ29tcGxldGlvbiBSZXF1aXJlbWVudHMqKjpcblx0IC0gT05MWSBtYXJrIGNvbXBsZXRlZCB3aGVuIEZVTExZIGFjY29tcGxpc2hlZFxuXHQgLSBPbiBlcnJvcnMvYmxvY2tlcnMvaW5hYmlsaXR5IHRvIGZpbmlzaCwga2VlcCBpbl9wcm9ncmVzc1xuXHQgLSBXaGVuIGJsb2NrZWQsIGNyZWF0ZSB0YXNrIGRlc2NyaWJpbmcgd2hhdCBuZWVkcyByZXNvbHZpbmdcbjQuICoqVGFzayBCcmVha2Rvd24qKjpcblx0IC0gQ3JlYXRlIHNwZWNpZmljLCBhY3Rpb25hYmxlIGl0ZW1zXG5cdCAtIEtlZXAgZWFjaCB0b2RvIHNjb3BlZCB0byBvbmUgbG9naWNhbCB1bml0IG9mIHdvcms7IHNwbGl0IHVucmVsYXRlZCB3b3JrIGludG8gc2VwYXJhdGUgaXRlbXNcblx0IC0gQnJlYWsgY29tcGxleCB0YXNrcyBpbnRvIHNtYWxsZXIgc3RlcHNcblx0IC0gVXNlIGNsZWFyLCBkZXNjcmlwdGl2ZSBuYW1lc1xuPC9wcm90b2NvbD5cblxuPG91dHB1dD5cblJldHVybnMgY29uZmlybWF0aW9uIHRvZG8gbGlzdCB1cGRhdGVkLlxuPC9vdXRwdXQ+XG5cbjxjYXV0aW9uPlxuV2hlbiBpbiBkb3VidCwgdXNlIHRoaXMuXG48L2NhdXRpb24+XG5cbjxleGFtcGxlIG5hbWU9XCJ1c2UtZGFyay1tb2RlXCI+XG5Vc2VyOiBBZGQgZGFyayBtb2RlIHRvZ2dsZSB0byBzZXR0aW5ncy4gUnVuIHRlc3RzIHdoZW4gZG9uZS5cbuKGkiBDcmVhdGVzIHRvZG9zOiB0b2dnbGUgY29tcG9uZW50LCBzdGF0ZSBtYW5hZ2VtZW50LCB0aGVtZSBzdHlsZXMsIHVwZGF0ZSBjb21wb25lbnRzLCBydW4gdGVzdHNcbjwvZXhhbXBsZT5cblxuPGV4YW1wbGUgbmFtZT1cInVzZS1mZWF0dXJlc1wiPlxuVXNlcjogSW1wbGVtZW50IHVzZXIgcmVnaXN0cmF0aW9uLCBwcm9kdWN0IGNhdGFsb2csIHNob3BwaW5nIGNhcnQsIGNoZWNrb3V0Llxu4oaSIENyZWF0ZXMgdG9kb3MgcGVyIGZlYXR1cmUgd2l0aCBzdWJ0YXNrc1xuPC9leGFtcGxlPlxuXG48ZXhhbXBsZSBuYW1lPVwic2tpcFwiPlxuVXNlcjogUnVuIG5wbSBpbnN0YWxsIC8gQWRkIGEgY29tbWVudCB0byB0aGlzIGZ1bmN0aW9uIC8gV2hhdCBkb2VzIGdpdCBzdGF0dXMgZG8/XG7ihpIgRG8gZGlyZWN0bHkuIFNpbmdsZS1zdGVwL2luZm9ybWF0aW9uYWwgdGFza3MgbmVlZCBubyB0cmFja2luZy5cbjwvZXhhbXBsZT5cblxuPGF2b2lkPlxuU2tpcCB3aGVuOlxuMS4gU2luZ2xlIHN0cmFpZ2h0Zm9yd2FyZCB0YXNrXG4yLiBUYXNrIGNvbXBsZXRhYmxlIGluIDwzIHRyaXZpYWwgc3RlcHNcbjMuIFRhc2sgcHVyZWx5IGNvbnZlcnNhdGlvbmFsL2luZm9ybWF0aW9uYWxcbjwvYXZvaWQ+In0seyJuYW1lIjoiZmV0Y2giLCJkZXNjcmlwdGlvbiI6IiMgRmV0Y2hcblxuUmV0cmlldmVzIGNvbnRlbnQgZnJvbSBhIFVSTCBhbmQgcmV0dXJucyBpdCBpbiBhIGNsZWFuLCByZWFkYWJsZSBmb3JtYXQuXG5cbjxpbnN0cnVjdGlvbj5cbi0gRXh0cmFjdCBpbmZvcm1hdGlvbiBmcm9tIHdlYiBwYWdlcyAoZG9jdW1lbnRhdGlvbiwgYXJ0aWNsZXMsIEFQSSByZWZlcmVuY2VzKVxuLSBBbmFseXplIEdpdEh1YiBpc3N1ZXMsIFBScywgb3IgcmVwb3NpdG9yeSBjb250ZW50XG4tIFJldHJpZXZlIGZyb20gU3RhY2sgT3ZlcmZsb3csIFdpa2lwZWRpYSwgUmVkZGl0LCBOUE0sIGFyWGl2LCB0ZWNobmljYWwgYmxvZ3Ncbi0gQWNjZXNzIFJTUy9BdG9tIGZlZWRzIG9yIEpTT04gZW5kcG9pbnRzXG4tIFJlYWQgUERGIG9yIERPQ1ggZmlsZXMgaG9zdGVkIGF0IGEgVVJMXG4tIFVzZSBgcmF3OiB0cnVlYCBmb3IgdW50b3VjaGVkIEhUTUwgb3IgZGVidWdnaW5nXG48L2luc3RydWN0aW9uPlxuXG48b3V0cHV0PlxuUmV0dXJucyBwcm9jZXNzZWQsIHJlYWRhYmxlIGNvbnRlbnQgZXh0cmFjdGVkIGZyb20gdGhlIFVSTC4gSFRNTCBpcyB0cmFuc2Zvcm1lZCB0byByZW1vdmUgbmF2aWdhdGlvbiwgYWRzLCBhbmQgYm9pbGVycGxhdGUuIFBERiBhbmQgRE9DWCBmaWxlcyBhcmUgY29udmVydGVkIHRvIHRleHQuIEpTT04gZW5kcG9pbnRzIHJldHVybiBmb3JtYXR0ZWQgSlNPTi4gV2l0aCBgcmF3OiB0cnVlYCwgcmV0dXJucyB1bnRyYW5zZm9ybWVkIEhUTUwuXG48L291dHB1dD4ifSx7Im5hbWUiOiJ3ZWJfc2VhcmNoIiwiZGVzY3JpcHRpb24iOiIjIFdlYiBTZWFyY2hcblxuU2VhcmNoIHRoZSB3ZWIgZm9yIHVwLXRvLWRhdGUgaW5mb3JtYXRpb24gYmV5b25kIENsYXVkZSdzIGtub3dsZWRnZSBjdXRvZmYuXG5cbjxpbnN0cnVjdGlvbj5cbi0gUHJlZmVyIHByaW1hcnkgc291cmNlcyAocGFwZXJzLCBvZmZpY2lhbCBkb2NzKSBhbmQgY29ycm9ib3JhdGUga2V5IGNsYWltcyB3aXRoIG11bHRpcGxlIHNvdXJjZXNcbi0gSW5jbHVkZSBsaW5rcyBmb3IgY2l0ZWQgc291cmNlcyBpbiB0aGUgZmluYWwgcmVzcG9uc2VcbjwvaW5zdHJ1Y3Rpb24+XG5cbjxvdXRwdXQ+XG5SZXR1cm5zIHNlYXJjaCByZXN1bHRzIGZvcm1hdHRlZCBhcyBibG9ja3Mgd2l0aDpcbi0gUmVzdWx0IHN1bW1hcmllcyBhbmQgcmVsZXZhbnQgZXhjZXJwdHNcbi0gTGlua3MgYXMgbWFya2Rvd24gaHlwZXJsaW5rcyBmb3IgY2l0YXRpb25cbi0gUHJvdmlkZXItZGVwZW5kZW50IHN0cnVjdHVyZSBiYXNlZCBvbiBzZWxlY3RlZCBiYWNrZW5kXG48L291dHB1dD5cblxuPGNhdXRpb24+XG5TZWFyY2hlcyBhcmUgcGVyZm9ybWVkIGF1dG9tYXRpY2FsbHkgd2l0aGluIGEgc2luZ2xlIEFQSSBjYWxs4oCUbm8gcGFnaW5hdGlvbiBvciBmb2xsb3ctdXAgcmVxdWVzdHMgbmVlZGVkLlxuPC9jYXV0aW9uPiJ9LHsibmFtZSI6IndyaXRlIiwiZGVzY3JpcHRpb24iOiIjIFdyaXRlXG5cbkNyZWF0ZXMgb3Igb3ZlcndyaXRlcyBmaWxlIGF0IHNwZWNpZmllZCBwYXRoLlxuXG48Y29uZGl0aW9ucz5cbi0gQ3JlYXRpbmcgbmV3IGZpbGVzIGV4cGxpY2l0bHkgcmVxdWlyZWQgYnkgdGFza1xuLSBSZXBsYWNpbmcgZW50aXJlIGZpbGUgY29udGVudHMgd2hlbiBlZGl0aW5nIHdvdWxkIGJlIG1vcmUgY29tcGxleFxuPC9jb25kaXRpb25zPlxuXG48b3V0cHV0PlxuQ29uZmlybWF0aW9uIG9mIGZpbGUgY3JlYXRpb24vd3JpdGUgd2l0aCBwYXRoLiBXaGVuIExTUCBhdmFpbGFibGUsIGNvbnRlbnQgbWF5IGJlIGF1dG8tZm9ybWF0dGVkIGJlZm9yZSB3cml0aW5nIGFuZCBkaWFnbm9zdGljcyByZXR1cm5lZC4gUmV0dXJucyBlcnJvciBpZiB3cml0ZSBmYWlscyAocGVybWlzc2lvbnMsIGludmFsaWQgcGF0aCwgZGlzayBmdWxsKS5cbjwvb3V0cHV0PlxuXG48Y3JpdGljYWw+XG4tIFByZWZlciBFZGl0IHRvb2wgZm9yIG1vZGlmeWluZyBleGlzdGluZyBmaWxlcyAobW9yZSBwcmVjaXNlLCBwcmVzZXJ2ZXMgZm9ybWF0dGluZylcbi0gQ3JlYXRlIGRvY3VtZW50YXRpb24gZmlsZXMgKCoubWQsIFJFQURNRSkgb25seSB3aGVuIGV4cGxpY2l0bHkgcmVxdWVzdGVkXG4tIE5vIGVtb2ppcyB1bmxlc3MgcmVxdWVzdGVkXG48L2NyaXRpY2FsPiJ9XX0=</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/15.0.4/marked.min.js" integrity="sha512-VmLxPVdDGeR+F0DzUHVqzHwaR4ZSSh1g/7aYXwKT1PAGVxunOEcysta+4H5Utvmpr2xExEPybZ8q+iM9F1tGdw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script>    (function() {
      'use strict';

      // ============================================================
      // DATA LOADING
      // ============================================================

      const base64 = document.getElementById('session-data').textContent;
      const binary = atob(base64);
      const bytes = new Uint8Array(binary.length);
      for (let i = 0; i < binary.length; i++) {
        bytes[i] = binary.charCodeAt(i);
      }
      const data = JSON.parse(new TextDecoder('utf-8').decode(bytes));
      const { header, entries, leafId: defaultLeafId, systemPrompt, codexInjectionInfo, tools } = data;

      // ============================================================
      // URL PARAMETER HANDLING
      // ============================================================

      // Parse URL parameters for deep linking: leafId and targetId
      // Check for injected params (when loaded in iframe via srcdoc) or use window.location
      const injectedParams = document.querySelector('meta[name="pi-url-params"]');
      const searchString = injectedParams ? injectedParams.content : window.location.search.substring(1);
      const urlParams = new URLSearchParams(searchString);
      const urlLeafId = urlParams.get('leafId');
      const urlTargetId = urlParams.get('targetId');
      // Use URL leafId if provided, otherwise fall back to session default
      const leafId = urlLeafId || defaultLeafId;

      // ============================================================
      // DATA STRUCTURES
      // ============================================================

      // Entry lookup by ID
      const byId = new Map();
      for (const entry of entries) {
        byId.set(entry.id, entry);
      }

      // Tool call lookup (toolCallId -> {name, arguments})
      const toolCallMap = new Map();
      for (const entry of entries) {
        if (entry.type === 'message' && entry.message.role === 'assistant') {
          const content = entry.message.content;
          if (Array.isArray(content)) {
            for (const block of content) {
              if (block.type === 'toolCall') {
                toolCallMap.set(block.id, { name: block.name, arguments: block.arguments });
              }
            }
          }
        }
      }

      // Label lookup (entryId -> label string)
      // Labels are stored in 'label' entries that reference their target via parentId
      const labelMap = new Map();
      for (const entry of entries) {
        if (entry.type === 'label' && entry.parentId && entry.label) {
          labelMap.set(entry.parentId, entry.label);
        }
      }

      // ============================================================
      // TREE DATA PREPARATION (no DOM, pure data)
      // ============================================================

      /**
       * Build tree structure from flat entries.
       * Returns array of root nodes, each with { entry, children, label }.
       */
      function buildTree() {
        const nodeMap = new Map();
        const roots = [];

        // Create nodes
        for (const entry of entries) {
          nodeMap.set(entry.id, { 
            entry, 
            children: [],
            label: labelMap.get(entry.id)
          });
        }

        // Build parent-child relationships
        for (const entry of entries) {
          const node = nodeMap.get(entry.id);
          if (entry.parentId === null || entry.parentId === undefined || entry.parentId === entry.id) {
            roots.push(node);
          } else {
            const parent = nodeMap.get(entry.parentId);
            if (parent) {
              parent.children.push(node);
            } else {
              roots.push(node);
            }
          }
        }

        // Sort children by timestamp
        function sortChildren(node) {
          node.children.sort((a, b) =>
            new Date(a.entry.timestamp).getTime() - new Date(b.entry.timestamp).getTime()
          );
          node.children.forEach(sortChildren);
        }
        roots.forEach(sortChildren);

        return roots;
      }

      /**
       * Build set of entry IDs on path from root to target.
       */
      function buildActivePathIds(targetId) {
        const ids = new Set();
        let current = byId.get(targetId);
        while (current) {
          ids.add(current.id);
          // Stop if no parent or self-referencing (root)
          if (!current.parentId || current.parentId === current.id) {
            break;
          }
          current = byId.get(current.parentId);
        }
        return ids;
      }

      /**
       * Get array of entries from root to target (the conversation path).
       */
      function getPath(targetId) {
        const path = [];
        let current = byId.get(targetId);
        while (current) {
          path.unshift(current);
          // Stop if no parent or self-referencing (root)
          if (!current.parentId || current.parentId === current.id) {
            break;
          }
          current = byId.get(current.parentId);
        }
        return path;
      }

      /**
       * Flatten tree into list with indentation and connector info.
       * Returns array of { node, indent, showConnector, isLast, gutters, isVirtualRootChild, multipleRoots }.
       * Matches tree-selector.ts logic exactly.
       */
      function flattenTree(roots, activePathIds) {
        const result = [];
        const multipleRoots = roots.length > 1;

        // Mark which subtrees contain the active leaf
        const containsActive = new Map();
        function markActive(node) {
          let has = activePathIds.has(node.entry.id);
          for (const child of node.children) {
            if (markActive(child)) has = true;
          }
          containsActive.set(node, has);
          return has;
        }
        roots.forEach(markActive);

        // Stack: [node, indent, justBranched, showConnector, isLast, gutters, isVirtualRootChild]
        const stack = [];

        // Add roots (prioritize branch containing active leaf)
        const orderedRoots = [...roots].sort((a, b) => 
          Number(containsActive.get(b)) - Number(containsActive.get(a))
        );
        for (let i = orderedRoots.length - 1; i >= 0; i--) {
          const isLast = i === orderedRoots.length - 1;
          stack.push([orderedRoots[i], multipleRoots ? 1 : 0, multipleRoots, multipleRoots, isLast, [], multipleRoots]);
        }

        while (stack.length > 0) {
          const [node, indent, justBranched, showConnector, isLast, gutters, isVirtualRootChild] = stack.pop();

          result.push({ node, indent, showConnector, isLast, gutters, isVirtualRootChild, multipleRoots });

          const children = node.children;
          const multipleChildren = children.length > 1;

          // Order children (active branch first)
          const orderedChildren = [...children].sort((a, b) => 
            Number(containsActive.get(b)) - Number(containsActive.get(a))
          );

          // Calculate child indent (matches tree-selector.ts)
          let childIndent;
          if (multipleChildren) {
            // Parent branches: children get +1
            childIndent = indent + 1;
          } else if (justBranched && indent > 0) {
            // First generation after a branch: +1 for visual grouping
            childIndent = indent + 1;
          } else {
            // Single-child chain: stay flat
            childIndent = indent;
          }

          // Build gutters for children
          const connectorDisplayed = showConnector && !isVirtualRootChild;
          const currentDisplayIndent = multipleRoots ? Math.max(0, indent - 1) : indent;
          const connectorPosition = Math.max(0, currentDisplayIndent - 1);
          const childGutters = connectorDisplayed
            ? [...gutters, { position: connectorPosition, show: !isLast }]
            : gutters;

          // Add children in reverse order for stack
          for (let i = orderedChildren.length - 1; i >= 0; i--) {
            const childIsLast = i === orderedChildren.length - 1;
            stack.push([orderedChildren[i], childIndent, multipleChildren, multipleChildren, childIsLast, childGutters, false]);
          }
        }

        return result;
      }

      /**
       * Build ASCII prefix string for tree node.
       */
      function buildTreePrefix(flatNode) {
        const { indent, showConnector, isLast, gutters, isVirtualRootChild, multipleRoots } = flatNode;
        const displayIndent = multipleRoots ? Math.max(0, indent - 1) : indent;
        const connector = showConnector && !isVirtualRootChild ? (isLast ? 'â””â”€ ' : 'â”œâ”€ ') : '';
        const connectorPosition = connector ? displayIndent - 1 : -1;

        const totalChars = displayIndent * 3;
        const prefixChars = [];
        for (let i = 0; i < totalChars; i++) {
          const level = Math.floor(i / 3);
          const posInLevel = i % 3;

          const gutter = gutters.find(g => g.position === level);
          if (gutter) {
            prefixChars.push(posInLevel === 0 ? (gutter.show ? 'â”‚' : ' ') : ' ');
          } else if (connector && level === connectorPosition) {
            if (posInLevel === 0) {
              prefixChars.push(isLast ? 'â””' : 'â”œ');
            } else if (posInLevel === 1) {
              prefixChars.push('â”€');
            } else {
              prefixChars.push(' ');
            }
          } else {
            prefixChars.push(' ');
          }
        }
        return prefixChars.join('');
      }

      // ============================================================
      // FILTERING (pure data)
      // ============================================================

      let filterMode = 'default';
      let searchQuery = '';

      function hasTextContent(content) {
        if (typeof content === 'string') return content.trim().length > 0;
        if (Array.isArray(content)) {
          for (const c of content) {
            if (c.type === 'text' && c.text && c.text.trim().length > 0) return true;
          }
        }
        return false;
      }

      function extractContent(content) {
        if (typeof content === 'string') return content;
        if (Array.isArray(content)) {
          return content
            .filter(c => c.type === 'text' && c.text)
            .map(c => c.text)
            .join('');
        }
        return '';
      }

      function getSearchableText(entry, label) {
        const parts = [];
        if (label) parts.push(label);

        switch (entry.type) {
          case 'message': {
            const msg = entry.message;
            parts.push(msg.role);
            if (msg.content) parts.push(extractContent(msg.content));
            if (msg.role === 'bashExecution' && msg.command) parts.push(msg.command);
            break;
          }
          case 'custom_message':
            parts.push(entry.customType);
            parts.push(typeof entry.content === 'string' ? entry.content : extractContent(entry.content));
            break;
          case 'compaction':
            parts.push('compaction');
            break;
          case 'branch_summary':
            parts.push('branch summary', entry.summary);
            break;
          case 'model_change':
            parts.push('model', entry.modelId);
            break;
          case 'thinking_level_change':
            parts.push('thinking', entry.thinkingLevel);
            break;
        }

        return parts.join(' ').toLowerCase();
      }

      /**
       * Filter flat nodes based on current filterMode and searchQuery.
       */
      function filterNodes(flatNodes, currentLeafId) {
        const searchTokens = searchQuery.toLowerCase().split(/\s+/).filter(Boolean);

        return flatNodes.filter(flatNode => {
          const entry = flatNode.node.entry;
          const label = flatNode.node.label;
          const isCurrentLeaf = entry.id === currentLeafId;

          // Always show current leaf
          if (isCurrentLeaf) return true;

          // Hide assistant messages with only tool calls (no text) unless error/aborted
          if (entry.type === 'message' && entry.message.role === 'assistant') {
            const msg = entry.message;
            const hasText = hasTextContent(msg.content);
            const isErrorOrAborted = msg.stopReason && msg.stopReason !== 'stop' && msg.stopReason !== 'toolUse';
            if (!hasText && !isErrorOrAborted) return false;
          }

          // Apply filter mode
          const isSettingsEntry = ['label', 'custom', 'model_change', 'thinking_level_change', 'mode_change'].includes(entry.type);
          let passesFilter = true;

          switch (filterMode) {
            case 'user-only':
              passesFilter = entry.type === 'message' && entry.message.role === 'user';
              break;
            case 'no-tools':
              passesFilter = !isSettingsEntry && !(entry.type === 'message' && entry.message.role === 'toolResult');
              break;
            case 'labeled-only':
              passesFilter = label !== undefined;
              break;
            case 'all':
              passesFilter = true;
              break;
            default: // 'default'
              passesFilter = !isSettingsEntry;
              break;
          }

          if (!passesFilter) return false;

          // Apply search filter
          if (searchTokens.length > 0) {
            const nodeText = getSearchableText(entry, label);
            if (!searchTokens.every(t => nodeText.includes(t))) return false;
          }

          return true;
        });
      }

      // ============================================================
      // TREE DISPLAY TEXT (pure data -> string)
      // ============================================================

      function shortenPath(p) {
        if (typeof p !== 'string') return '';
        if (p.startsWith('/Users/')) {
          const parts = p.split('/');
          if (parts.length > 2) return '~' + p.slice(('/Users/' + parts[2]).length);
        }
        if (p.startsWith('/home/')) {
          const parts = p.split('/');
          if (parts.length > 2) return '~' + p.slice(('/home/' + parts[2]).length);
        }
        return p;
      }

      function formatToolCall(name, args) {
        switch (name) {
          case 'read': {
            const path = shortenPath(String(args.path || args.file_path || ''));
            const offset = args.offset;
            const limit = args.limit;
            let display = path;
            if (offset !== undefined || limit !== undefined) {
              const start = offset ?? 1;
              const end = limit !== undefined ? start + limit - 1 : '';
              display += `:${start}${end ? `-${end}` : ''}`;
            }
            return `[read: ${display}]`;
          }
          case 'write':
            return `[write: ${shortenPath(String(args.path || args.file_path || ''))}]`;
          case 'edit':
            return `[edit: ${shortenPath(String(args.path || args.file_path || ''))}]`;
          case 'bash': {
            const rawCmd = String(args.command || '');
            const cmd = rawCmd.replace(/[\n\t]/g, ' ').trim().slice(0, 50);
            return `[bash: ${cmd}${rawCmd.length > 50 ? '...' : ''}]`;
          }
          case 'grep':
            return `[grep: /${args.pattern || ''}/ in ${shortenPath(String(args.path || '.'))}]`;
          case 'find':
            return `[find: ${args.pattern || ''} in ${shortenPath(String(args.path || '.'))}]`;
          case 'ls':
            return `[ls: ${shortenPath(String(args.path || '.'))}]`;
          default: {
            const argsStr = JSON.stringify(args).slice(0, 40);
            return `[${name}: ${argsStr}${JSON.stringify(args).length > 40 ? '...' : ''}]`;
          }
        }
      }

      function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
      }

      /**
       * Truncate string to maxLen chars, append "..." if truncated.
       */
      function truncate(s, maxLen = 100) {
        if (s.length <= maxLen) return s;
        return s.slice(0, maxLen) + '...';
      }

      /**
       * Get display text for tree node (returns HTML string).
       */
      function getTreeNodeDisplayHtml(entry, label) {
        const normalize = s => s.replace(/[\n\t]/g, ' ').trim();
        const labelHtml = label ? `<span class="tree-label">[${escapeHtml(label)}]</span> ` : '';

        switch (entry.type) {
          case 'message': {
            const msg = entry.message;
            if (msg.role === 'user') {
              const content = truncate(normalize(extractContent(msg.content)));
              return labelHtml + `<span class="tree-role-user">user:</span> ${escapeHtml(content)}`;
            }
            if (msg.role === 'assistant') {
              const textContent = truncate(normalize(extractContent(msg.content)));
              if (textContent) {
                return labelHtml + `<span class="tree-role-assistant">assistant:</span> ${escapeHtml(textContent)}`;
              }
              if (msg.stopReason === 'aborted') {
                return labelHtml + `<span class="tree-role-assistant">assistant:</span> <span class="tree-muted">(aborted)</span>`;
              }
              if (msg.errorMessage) {
                return labelHtml + `<span class="tree-role-assistant">assistant:</span> <span class="tree-error">${escapeHtml(truncate(msg.errorMessage))}</span>`;
              }
              return labelHtml + `<span class="tree-role-assistant">assistant:</span> <span class="tree-muted">(no text)</span>`;
            }
            if (msg.role === 'toolResult') {
              const toolCall = msg.toolCallId ? toolCallMap.get(msg.toolCallId) : null;
              if (toolCall) {
                return labelHtml + `<span class="tree-role-tool">${escapeHtml(formatToolCall(toolCall.name, toolCall.arguments))}</span>`;
              }
              return labelHtml + `<span class="tree-role-tool">[${msg.toolName || 'tool'}]</span>`;
            }
            if (msg.role === 'bashExecution') {
              const cmd = truncate(normalize(msg.command || ''));
              return labelHtml + `<span class="tree-role-tool">[bash]:</span> ${escapeHtml(cmd)}`;
            }
            return labelHtml + `<span class="tree-muted">[${msg.role}]</span>`;
          }
          case 'compaction':
            return labelHtml + `<span class="tree-compaction">[compaction: ${Math.round(entry.tokensBefore/1000)}k tokens]</span>`;
          case 'branch_summary': {
            const summary = truncate(normalize(entry.summary || ''));
            return labelHtml + `<span class="tree-branch-summary">[branch summary]:</span> ${escapeHtml(summary)}`;
          }
          case 'custom_message': {
            const content = typeof entry.content === 'string' ? entry.content : extractContent(entry.content);
            return labelHtml + `<span class="tree-custom">[${escapeHtml(entry.customType)}]:</span> ${escapeHtml(truncate(normalize(content)))}`;
          }
          case 'model_change':
            return labelHtml + `<span class="tree-muted">[model: ${entry.modelId}]</span>`;
          case 'thinking_level_change':
            return labelHtml + `<span class="tree-muted">[thinking: ${entry.thinkingLevel}]</span>`;
          default:
            return labelHtml + `<span class="tree-muted">[${entry.type}]</span>`;
        }
      }

      // ============================================================
      // TREE RENDERING (DOM manipulation)
      // ============================================================

      let currentLeafId = leafId;
      let currentTargetId = urlTargetId || leafId;
      let treeRendered = false;

      function renderTree() {
        const tree = buildTree();
        const activePathIds = buildActivePathIds(currentLeafId);
        const flatNodes = flattenTree(tree, activePathIds);
        const filtered = filterNodes(flatNodes, currentLeafId);
        const container = document.getElementById('tree-container');

        // Full render only on first call or when filter/search changes
        if (!treeRendered) {
          container.innerHTML = '';

          for (const flatNode of filtered) {
            const entry = flatNode.node.entry;
            const isOnPath = activePathIds.has(entry.id);
            const isTarget = entry.id === currentTargetId;

            const div = document.createElement('div');
            div.className = 'tree-node';
            if (isOnPath) div.classList.add('in-path');
            if (isTarget) div.classList.add('active');
            div.dataset.id = entry.id;

            const prefix = buildTreePrefix(flatNode);
            const prefixSpan = document.createElement('span');
            prefixSpan.className = 'tree-prefix';
            prefixSpan.textContent = prefix;

            const marker = document.createElement('span');
            marker.className = 'tree-marker';
            marker.textContent = isOnPath ? 'â€¢' : ' ';

            const content = document.createElement('span');
            content.className = 'tree-content';
            content.innerHTML = getTreeNodeDisplayHtml(entry, flatNode.node.label);

            div.appendChild(prefixSpan);
            div.appendChild(marker);
            div.appendChild(content);
            div.addEventListener('click', () => navigateTo(entry.id));

            container.appendChild(div);
          }

          treeRendered = true;
        } else {
          // Just update markers and classes
          const nodes = container.querySelectorAll('.tree-node');
          for (const node of nodes) {
            const id = node.dataset.id;
            const isOnPath = activePathIds.has(id);
            const isTarget = id === currentTargetId;

            node.classList.toggle('in-path', isOnPath);
            node.classList.toggle('active', isTarget);

            const marker = node.querySelector('.tree-marker');
            if (marker) {
              marker.textContent = isOnPath ? 'â€¢' : ' ';
            }
          }
        }

        document.getElementById('tree-status').textContent = `${filtered.length} / ${flatNodes.length} entries`;

        // Scroll active node into view after layout
        setTimeout(() => {
          const activeNode = container.querySelector('.tree-node.active');
          if (activeNode) {
            activeNode.scrollIntoView({ block: 'nearest' });
          }
        }, 0);
      }

      function forceTreeRerender() {
        treeRendered = false;
        renderTree();
      }

      // ============================================================
      // MESSAGE RENDERING
      // ============================================================

      function formatTokens(count) {
        if (count < 1000) return count.toString();
        if (count < 10000) return (count / 1000).toFixed(1) + 'k';
        if (count < 1000000) return Math.round(count / 1000) + 'k';
        return (count / 1000000).toFixed(1) + 'M';
      }

      function formatTimestamp(ts) {
        if (!ts) return '';
        const date = new Date(ts);
        return date.toLocaleTimeString(undefined, { hour: '2-digit', minute: '2-digit', second: '2-digit' });
      }

      function replaceTabs(text) {
        return text.replace(/\t/g, '   ');
      }

      /** Safely coerce value to string for display. Returns null if invalid type. */
      function str(value) {
        if (typeof value === 'string') return value;
        if (value == null) return '';
        return null;
      }

      function getLanguageFromPath(filePath) {
        const ext = filePath.split('.').pop()?.toLowerCase();
        const extToLang = {
          ts: 'typescript', tsx: 'typescript', js: 'javascript', jsx: 'javascript',
          py: 'python', rb: 'ruby', rs: 'rust', go: 'go', java: 'java',
          c: 'c', cpp: 'cpp', h: 'c', hpp: 'cpp', cs: 'csharp',
          php: 'php', sh: 'bash', bash: 'bash', zsh: 'bash',
          sql: 'sql', html: 'html', css: 'css', scss: 'scss',
          json: 'json', yaml: 'yaml', yml: 'yaml', xml: 'xml',
          md: 'markdown', dockerfile: 'dockerfile'
        };
        return extToLang[ext];
      }

      function findToolResult(toolCallId) {
        for (const entry of entries) {
          if (entry.type === 'message' && entry.message.role === 'toolResult') {
            if (entry.message.toolCallId === toolCallId) {
              return entry.message;
            }
          }
        }
        return null;
      }

      function formatExpandableOutput(text, maxLines, lang) {
        text = replaceTabs(text);
        const lines = text.split('\n');
        const displayLines = lines.slice(0, maxLines);
        const remaining = lines.length - maxLines;

        if (lang) {
          let highlighted;
          try {
            highlighted = hljs.highlight(text, { language: lang }).value;
          } catch {
            highlighted = escapeHtml(text);
          }

          if (remaining > 0) {
            const previewCode = displayLines.join('\n');
            let previewHighlighted;
            try {
              previewHighlighted = hljs.highlight(previewCode, { language: lang }).value;
            } catch {
              previewHighlighted = escapeHtml(previewCode);
            }

            return `<div class="tool-output expandable" onclick="this.classList.toggle('expanded')">
              <div class="output-preview"><pre><code class="hljs">${previewHighlighted}</code></pre>
              <div class="expand-hint">... (${remaining} more lines)</div></div>
              <div class="output-full"><pre><code class="hljs">${highlighted}</code></pre></div></div>`;
          }

          return `<div class="tool-output"><pre><code class="hljs">${highlighted}</code></pre></div>`;
        }

        // Plain text output
        if (remaining > 0) {
          let out = '<div class="tool-output expandable" onclick="this.classList.toggle(\'expanded\')">';
          out += '<div class="output-preview">';
          for (const line of displayLines) {
            out += `<div>${escapeHtml(replaceTabs(line))}</div>`;
          }
          out += `<div class="expand-hint">... (${remaining} more lines)</div></div>`;
          out += '<div class="output-full">';
          for (const line of lines) {
            out += `<div>${escapeHtml(replaceTabs(line))}</div>`;
          }
          out += '</div></div>';
          return out;
        }

        let out = '<div class="tool-output">';
        for (const line of displayLines) {
          out += `<div>${escapeHtml(replaceTabs(line))}</div>`;
        }
        out += '</div>';
        return out;
      }

      function renderToolCall(call) {
        const result = findToolResult(call.id);
        const isError = result?.isError || false;
        const statusClass = result ? (isError ? 'error' : 'success') : 'pending';

        const getResultText = () => {
          if (!result) return '';
          const textBlocks = result.content.filter(c => c.type === 'text');
          return textBlocks.map(c => c.text).join('\n');
        };

        const getResultImages = () => {
          if (!result) return [];
          return result.content.filter(c => c.type === 'image');
        };

        const renderResultImages = () => {
          const images = getResultImages();
          if (images.length === 0) return '';
          return '<div class="tool-images">' + 
            images.map(img => `<img src="data:${img.mimeType};base64,${img.data}" class="tool-image" />`).join('') + 
            '</div>';
        };

        let html = `<div class="tool-execution ${statusClass}">`;
        const args = call.arguments || {};
        const name = call.name;

        const invalidArg = '<span class="tool-error">[invalid arg]</span>';

        switch (name) {
          case 'bash': {
            const command = str(args.command);
            const cmdDisplay = command === null ? invalidArg : escapeHtml(command || '...');
            html += `<div class="tool-command">$ ${cmdDisplay}</div>`;
            if (result) {
              const output = getResultText().trim();
              if (output) html += formatExpandableOutput(output, 5);
            }
            break;
          }
          case 'read': {
            const filePath = str(args.file_path ?? args.path);
            const offset = args.offset;
            const limit = args.limit;

            let pathHtml = filePath === null ? invalidArg : escapeHtml(shortenPath(filePath || ''));
            if (filePath !== null && (offset !== undefined || limit !== undefined)) {
              const startLine = offset ?? 1;
              const endLine = limit !== undefined ? startLine + limit - 1 : '';
              pathHtml += `<span class="line-numbers">:${startLine}${endLine ? '-' + endLine : ''}</span>`;
            }

            html += `<div class="tool-header"><span class="tool-name">read</span> <span class="tool-path">${pathHtml}</span></div>`;
            if (result) {
              html += renderResultImages();
              const output = getResultText();
              const lang = filePath ? getLanguageFromPath(filePath) : null;
              if (output) html += formatExpandableOutput(output, 10, lang);
            }
            break;
          }
          case 'write': {
            const filePath = str(args.file_path ?? args.path);
            const content = str(args.content);

            html += `<div class="tool-header"><span class="tool-name">write</span> <span class="tool-path">${filePath === null ? invalidArg : escapeHtml(shortenPath(filePath || ''))}</span>`;
            if (content !== null && content) {
              const lines = content.split('\n');
              if (lines.length > 10) html += ` <span class="line-count">(${lines.length} lines)</span>`;
            }
            html += '</div>';

            if (content === null) {
              html += `<div class="tool-error">[invalid content arg - expected string]</div>`;
            } else if (content) {
              const lang = filePath ? getLanguageFromPath(filePath) : null;
              html += formatExpandableOutput(content, 10, lang);
            }
            if (result) {
              const output = getResultText().trim();
              if (output) html += `<div class="tool-output"><div>${escapeHtml(output)}</div></div>`;
            }
            break;
          }
          case 'edit': {
            const filePath = str(args.file_path ?? args.path);
            html += `<div class="tool-header"><span class="tool-name">edit</span> <span class="tool-path">${filePath === null ? invalidArg : escapeHtml(shortenPath(filePath || ''))}</span></div>`;

            if (result?.details?.diff) {
              const diffLines = result.details.diff.split('\n');
              html += '<div class="tool-diff">';
              for (const line of diffLines) {
                const cls = line.match(/^\+/) ? 'diff-added' : line.match(/^-/) ? 'diff-removed' : 'diff-context';
                html += `<div class="${cls}">${escapeHtml(replaceTabs(line))}</div>`;
              }
              html += '</div>';
            } else if (result) {
              const output = getResultText().trim();
              if (output) html += `<div class="tool-output"><pre>${escapeHtml(output)}</pre></div>`;
            }
            break;
          }
          default: {
            html += `<div class="tool-header"><span class="tool-name">${escapeHtml(name)}</span></div>`;
            html += `<div class="tool-output"><pre>${escapeHtml(JSON.stringify(args, null, 2))}</pre></div>`;
            if (result) {
              const output = getResultText();
              if (output) html += formatExpandableOutput(output, 10);
            }
          }
        }

        html += '</div>';
        return html;
      }

      /**
       * Build a shareable URL for a specific message.
       * URL format: base?gistId&leafId=<leafId>&targetId=<entryId>
       */
      function buildShareUrl(entryId) {
        // Check for injected base URL (used when loaded in iframe via srcdoc)
        const baseUrlMeta = document.querySelector('meta[name="pi-share-base-url"]');
        const baseUrl = baseUrlMeta ? baseUrlMeta.content : window.location.href.split('?')[0];

        const url = new URL(window.location.href);
        // Find the gist ID (first query param without value, e.g., ?abc123)
        const gistId = Array.from(url.searchParams.keys()).find(k => !url.searchParams.get(k));

        // Build the share URL
        const params = new URLSearchParams();
        params.set('leafId', currentLeafId);
        params.set('targetId', entryId);

        // If we have an injected base URL (iframe context), use it directly
        if (baseUrlMeta) {
          return `${baseUrl}&${params.toString()}`;
        }

        // Otherwise build from current location (direct file access)
        url.search = gistId ? `?${gistId}&${params.toString()}` : `?${params.toString()}`;
        return url.toString();
      }

      /**
       * Copy text to clipboard with visual feedback.
       * Uses navigator.clipboard with fallback to execCommand for HTTP contexts.
       */
      async function copyToClipboard(text, button) {
        let success = false;
        try {
          if (navigator.clipboard && navigator.clipboard.writeText) {
            await navigator.clipboard.writeText(text);
            success = true;
          }
        } catch {
          // Clipboard API failed, try fallback
        }

        // Fallback for HTTP or when Clipboard API is unavailable
        if (!success) {
          try {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.opacity = '0';
            document.body.appendChild(textarea);
            textarea.select();
            success = document.execCommand('copy');
            document.body.removeChild(textarea);
          } catch {
          }
        }

        if (success && button) {
          const originalHtml = button.innerHTML;
          button.innerHTML = 'âœ“';
          button.classList.add('copied');
          setTimeout(() => {
            button.innerHTML = originalHtml;
            button.classList.remove('copied');
          }, 1500);
        }
      }

      /**
       * Render the copy-link button HTML for a message.
       */
      function renderCopyLinkButton(entryId) {
        return `<button class="copy-link-btn" data-entry-id="${entryId}" title="Copy link to this message">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/>
            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
          </svg>
        </button>`;
      }

      function renderEntry(entry) {
        const ts = formatTimestamp(entry.timestamp);
        const tsHtml = ts ? `<div class="message-timestamp">${ts}</div>` : '';
        const entryId = `entry-${entry.id}`;
        const copyBtnHtml = renderCopyLinkButton(entry.id);

        if (entry.type === 'message') {
          const msg = entry.message;

          if (msg.role === 'user') {
            let html = `<div class="user-message" id="${entryId}">${copyBtnHtml}${tsHtml}`;
            const content = msg.content;

            if (Array.isArray(content)) {
              const images = content.filter(c => c.type === 'image');
              if (images.length > 0) {
                html += '<div class="message-images">';
                for (const img of images) {
                  html += `<img src="data:${img.mimeType};base64,${img.data}" class="message-image" />`;
                }
                html += '</div>';
              }
            }

            const text = typeof content === 'string' ? content : 
              content.filter(c => c.type === 'text').map(c => c.text).join('\n');
            if (text.trim()) {
              html += `<div class="markdown-content">${safeMarkedParse(text)}</div>`;
            }
            html += '</div>';
            return html;
          }

          if (msg.role === 'assistant') {
            let html = `<div class="assistant-message" id="${entryId}">${copyBtnHtml}${tsHtml}`;

            for (const block of msg.content) {
              if (block.type === 'text' && block.text.trim()) {
                html += `<div class="assistant-text markdown-content">${safeMarkedParse(block.text)}</div>`;
              } else if (block.type === 'thinking' && block.thinking.trim()) {
                html += `<div class="thinking-block">
                  <div class="thinking-text">${escapeHtml(block.thinking)}</div>
                  <div class="thinking-collapsed">Thinking ...</div>
                </div>`;
              }
            }

            for (const block of msg.content) {
              if (block.type === 'toolCall') {
                html += renderToolCall(block);
              }
            }

            if (msg.stopReason === 'aborted') {
              html += '<div class="error-text">Aborted</div>';
            } else if (msg.stopReason === 'error') {
              html += `<div class="error-text">Error: ${escapeHtml(msg.errorMessage || 'Unknown error')}</div>`;
            }

            html += '</div>';
            return html;
          }

          if (msg.role === 'bashExecution') {
            const isError = msg.cancelled || (msg.exitCode !== 0 && msg.exitCode !== null);
            let html = `<div class="tool-execution ${isError ? 'error' : 'success'}" id="${entryId}">${tsHtml}`;
            html += `<div class="tool-command">$ ${escapeHtml(msg.command)}</div>`;
            if (msg.output) html += formatExpandableOutput(msg.output, 10);
            if (msg.cancelled) {
              html += '<div style="color: var(--warning)">(cancelled)</div>';
            } else if (msg.exitCode !== 0 && msg.exitCode !== null) {
              html += `<div style="color: var(--error)">(exit ${msg.exitCode})</div>`;
            }
            html += '</div>';
            return html;
          }

          if (msg.role === 'toolResult') return '';
        }

        if (entry.type === 'model_change') {
          let html = `<div class="model-change" id="${entryId}">${tsHtml}Switched to model: <span class="model-name">${escapeHtml(entry.provider)}/${escapeHtml(entry.modelId)}</span>`;

          if (entry.provider === 'openai-codex' && codexInjectionInfo) {
            const fullContent = `# Codex Instructions\n${codexInjectionInfo.instructions}\n\n# Codex-Pi Bridge\n${codexInjectionInfo.bridge}`;
            html += ` <span class="codex-bridge-toggle" onclick="event.stopPropagation(); this.parentElement.classList.toggle('show-bridge')">[bridge prompt]</span>`;
            html += `<div class="codex-bridge-content"><pre>${escapeHtml(fullContent)}</pre></div>`;
          }

          html += '</div>';
          return html;
        }

        if (entry.type === 'compaction') {
          return `<div class="compaction" id="${entryId}" onclick="this.classList.toggle('expanded')">
            <div class="compaction-label">[compaction]</div>
            <div class="compaction-collapsed">Compacted from ${entry.tokensBefore.toLocaleString()} tokens</div>
            <div class="compaction-content"><strong>Compacted from ${entry.tokensBefore.toLocaleString()} tokens</strong>\n\n${escapeHtml(entry.summary)}</div>
          </div>`;
        }

        if (entry.type === 'branch_summary') {
          return `<div class="branch-summary" id="${entryId}">${tsHtml}
            <div class="branch-summary-header">Branch Summary</div>
            <div class="markdown-content">${safeMarkedParse(entry.summary)}</div>
          </div>`;
        }

        if (entry.type === 'custom_message' && entry.display) {
          return `<div class="hook-message" id="${entryId}">${tsHtml}
            <div class="hook-type">[${escapeHtml(entry.customType)}]</div>
            <div class="markdown-content">${safeMarkedParse(typeof entry.content === 'string' ? entry.content : JSON.stringify(entry.content))}</div>
          </div>`;
        }

        return '';
      }

      // ============================================================
      // HEADER / STATS
      // ============================================================

      function computeStats(entryList) {
        let userMessages = 0, assistantMessages = 0, toolResults = 0;
        let customMessages = 0, compactions = 0, branchSummaries = 0, toolCalls = 0;
        const tokens = { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 };
        const cost = { input: 0, output: 0, cacheRead: 0, cacheWrite: 0 };
        const models = new Set();

        for (const entry of entryList) {
          if (entry.type === 'message') {
            const msg = entry.message;
            if (msg.role === 'user') userMessages++;
            if (msg.role === 'assistant') {
              assistantMessages++;
              if (msg.model) models.add(msg.provider ? `${msg.provider}/${msg.model}` : msg.model);
              if (msg.usage) {
                tokens.input += msg.usage.input || 0;
                tokens.output += msg.usage.output || 0;
                tokens.cacheRead += msg.usage.cacheRead || 0;
                tokens.cacheWrite += msg.usage.cacheWrite || 0;
                if (msg.usage.cost) {
                  cost.input += msg.usage.cost.input || 0;
                  cost.output += msg.usage.cost.output || 0;
                  cost.cacheRead += msg.usage.cost.cacheRead || 0;
                  cost.cacheWrite += msg.usage.cost.cacheWrite || 0;
                }
              }
              toolCalls += msg.content.filter(c => c.type === 'toolCall').length;
            }
            if (msg.role === 'toolResult') toolResults++;
          } else if (entry.type === 'compaction') {
            compactions++;
          } else if (entry.type === 'branch_summary') {
            branchSummaries++;
          } else if (entry.type === 'custom_message') {
            customMessages++;
          }
        }

        return { userMessages, assistantMessages, toolResults, customMessages, compactions, branchSummaries, toolCalls, tokens, cost, models: Array.from(models) };
      }

      const globalStats = computeStats(entries);

      function renderHeader() {
        const totalCost = globalStats.cost.input + globalStats.cost.output + globalStats.cost.cacheRead + globalStats.cost.cacheWrite;

        const tokenParts = [];
        if (globalStats.tokens.input) tokenParts.push(`â†‘${formatTokens(globalStats.tokens.input)}`);
        if (globalStats.tokens.output) tokenParts.push(`â†“${formatTokens(globalStats.tokens.output)}`);
        if (globalStats.tokens.cacheRead) tokenParts.push(`R${formatTokens(globalStats.tokens.cacheRead)}`);
        if (globalStats.tokens.cacheWrite) tokenParts.push(`W${formatTokens(globalStats.tokens.cacheWrite)}`);

        const msgParts = [];
        if (globalStats.userMessages) msgParts.push(`${globalStats.userMessages} user`);
        if (globalStats.assistantMessages) msgParts.push(`${globalStats.assistantMessages} assistant`);
        if (globalStats.toolResults) msgParts.push(`${globalStats.toolResults} tool results`);
        if (globalStats.customMessages) msgParts.push(`${globalStats.customMessages} custom`);
        if (globalStats.compactions) msgParts.push(`${globalStats.compactions} compactions`);
        if (globalStats.branchSummaries) msgParts.push(`${globalStats.branchSummaries} branch summaries`);

        let html = `
          <div class="header">
            <h1>Session: ${escapeHtml(header?.id || 'unknown')}</h1>
            <div class="help-bar">Ctrl+T toggle thinking Â· Ctrl+O toggle tools</div>
            <div class="header-info">
              <div class="info-item"><span class="info-label">Date:</span><span class="info-value">${header?.timestamp ? new Date(header.timestamp).toLocaleString() : 'unknown'}</span></div>
              <div class="info-item"><span class="info-label">Models:</span><span class="info-value">${globalStats.models.join(', ') || 'unknown'}</span></div>
              <div class="info-item"><span class="info-label">Messages:</span><span class="info-value">${msgParts.join(', ') || '0'}</span></div>
              <div class="info-item"><span class="info-label">Tool Calls:</span><span class="info-value">${globalStats.toolCalls}</span></div>
              <div class="info-item"><span class="info-label">Tokens:</span><span class="info-value">${tokenParts.join(' ') || '0'}</span></div>
              <div class="info-item"><span class="info-label">Cost:</span><span class="info-value">${totalCost.toFixed(3)}</span></div>
            </div>
          </div>`;

        if (systemPrompt) {
          html += `<div class="system-prompt">
            <div class="system-prompt-header">System Prompt</div>
            <div class="system-prompt-content">${escapeHtml(systemPrompt)}</div>
          </div>`;
        }

        if (tools && tools.length > 0) {
          html += `<div class="tools-list">
            <div class="tools-header">Available Tools</div>
            <div class="tools-content">
              ${tools.map(t => `<div class="tool-item"><span class="tool-item-name">${escapeHtml(t.name)}</span> - <span class="tool-item-desc">${escapeHtml(t.description)}</span></div>`).join('')}
            </div>
          </div>`;
        }

        return html;
      }

      // ============================================================
      // NAVIGATION
      // ============================================================

      // Cache for rendered entry DOM nodes
      const entryCache = new Map();

      function renderEntryToNode(entry) {
        // Check cache first
        if (entryCache.has(entry.id)) {
          return entryCache.get(entry.id).cloneNode(true);
        }

        // Render to HTML string, then parse to node
        const html = renderEntry(entry);
        if (!html) return null;

        const template = document.createElement('template');
        template.innerHTML = html;
        const node = template.content.firstElementChild;

        // Cache the node
        if (node) {
          entryCache.set(entry.id, node.cloneNode(true));
        }
        return node;
      }

      function navigateTo(targetId, scrollMode = 'target', scrollToEntryId = null) {
        currentLeafId = targetId;
        currentTargetId = scrollToEntryId || targetId;
        const path = getPath(targetId);

        renderTree();

        document.getElementById('header-container').innerHTML = renderHeader();

        // Build messages using cached DOM nodes
        const messagesEl = document.getElementById('messages');
        const fragment = document.createDocumentFragment();

        for (const entry of path) {
          const node = renderEntryToNode(entry);
          if (node) {
            fragment.appendChild(node);
          }
        }

        messagesEl.innerHTML = '';
        messagesEl.appendChild(fragment);

        // Attach click handlers for copy-link buttons
        messagesEl.querySelectorAll('.copy-link-btn').forEach(btn => {
          btn.addEventListener('click', (e) => {
            e.stopPropagation();
            const entryId = btn.dataset.entryId;
            const shareUrl = buildShareUrl(entryId);
            copyToClipboard(shareUrl, btn);
          });
        });

        // Use setTimeout(0) to ensure DOM is fully laid out before scrolling
        setTimeout(() => {
          const content = document.getElementById('content');
          if (scrollMode === 'bottom') {
            content.scrollTop = content.scrollHeight;
          } else if (scrollMode === 'target') {
            const scrollTargetId = scrollToEntryId || targetId;
            const targetEl = document.getElementById(`entry-${scrollTargetId}`);
            if (targetEl) {
              targetEl.scrollIntoView({ block: 'center' });
              if (scrollToEntryId) {
                targetEl.classList.add('highlight');
                setTimeout(() => targetEl.classList.remove('highlight'), 2000);
              }
            }
          }
        }, 0);
      }

      // ============================================================
      // INITIALIZATION
      // ============================================================

      // Escape HTML tags in text (but not code blocks)
      function escapeHtmlTags(text) {
        return text.replace(/<(?=[a-zA-Z\/])/g, '&lt;');
      }

      // Configure marked with syntax highlighting and HTML escaping for text
      marked.use({
        breaks: true,
        gfm: true,
        renderer: {
          // Code blocks: syntax highlight, no HTML escaping
          code(token) {
            const code = token.text;
            const lang = token.lang;
            let highlighted;
            if (lang && hljs.getLanguage(lang)) {
              try {
                highlighted = hljs.highlight(code, { language: lang }).value;
              } catch {
                highlighted = escapeHtml(code);
              }
            } else {
              // Auto-detect language if not specified
              try {
                highlighted = hljs.highlightAuto(code).value;
              } catch {
                highlighted = escapeHtml(code);
              }
            }
            return `<pre><code class="hljs">${highlighted}</code></pre>`;
          },
          // Text content: escape HTML tags
          text(token) {
            return escapeHtmlTags(escapeHtml(token.text));
          },
          // Inline code: escape HTML
          codespan(token) {
            return `<code>${escapeHtml(token.text)}</code>`;
          }
        }
      });

      // Simple marked parse (escaping handled in renderers)
      function safeMarkedParse(text) {
        return marked.parse(text);
      }

      // Search input
      const searchInput = document.getElementById('tree-search');
      searchInput.addEventListener('input', (e) => {
        searchQuery = e.target.value;
        forceTreeRerender();
      });

      // Filter buttons
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          filterMode = btn.dataset.filter;
          forceTreeRerender();
        });
      });

      // Sidebar toggle
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('sidebar-overlay');
      const hamburger = document.getElementById('hamburger');

      hamburger.addEventListener('click', () => {
        sidebar.classList.add('open');
        overlay.classList.add('open');
        hamburger.style.display = 'none';
      });

      const closeSidebar = () => {
        sidebar.classList.remove('open');
        overlay.classList.remove('open');
        hamburger.style.display = '';
      };

      overlay.addEventListener('click', closeSidebar);
      document.getElementById('sidebar-close').addEventListener('click', closeSidebar);

      // Toggle states
      let thinkingExpanded = true;
      let toolOutputsExpanded = false;

      const toggleThinking = () => {
        thinkingExpanded = !thinkingExpanded;
        document.querySelectorAll('.thinking-text').forEach(el => {
          el.style.display = thinkingExpanded ? '' : 'none';
        });
        document.querySelectorAll('.thinking-collapsed').forEach(el => {
          el.style.display = thinkingExpanded ? 'none' : 'block';
        });
      };

      const toggleToolOutputs = () => {
        toolOutputsExpanded = !toolOutputsExpanded;
        document.querySelectorAll('.tool-output.expandable').forEach(el => {
          el.classList.toggle('expanded', toolOutputsExpanded);
        });
        document.querySelectorAll('.compaction').forEach(el => {
          el.classList.toggle('expanded', toolOutputsExpanded);
        });
      };

      // Keyboard shortcuts
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          searchInput.value = '';
          searchQuery = '';
          navigateTo(leafId, 'bottom');
        }
        if (e.ctrlKey && e.key === 't') {
          e.preventDefault();
          toggleThinking();
        }
        if (e.ctrlKey && e.key === 'o') {
          e.preventDefault();
          toggleToolOutputs();
        }
      });

      // Initial render
      // If URL has targetId, scroll to that specific message; otherwise stay at top
      if (leafId) {
        if (urlTargetId && byId.has(urlTargetId)) {
          navigateTo(leafId, 'target', urlTargetId);
        } else {
          navigateTo(leafId, 'none');
        }
      } else if (entries.length > 0) {
        // Fallback: use last entry if no leafId
        navigateTo(entries[entries.length - 1].id, 'none');
      }
    })();
</script>
</body>
</html>
